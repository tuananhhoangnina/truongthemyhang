<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IHgudyAKICogbkVUSSB3NS13eC14d3haCiAqIMSQw6J2IDnDoCBUw6BrIHPhuqNtIEbhu6dFIG/DlEEwIEhjIEhBU1MgSDMgbkIgQUtBdC4gQnBrIDnDsm1KIDhqw7RtSiBz4butIGbhu6VtSiA4amsgRmrGsEUgxJHGsOG7o0YgcWrDqXEuCiAqKwoKCm1FbElzcUVGSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHY7Cgpwc0kgckVGOElmZ21wbDsKcHNJIG9FaGVRbVxvRWhlUW1hSWhrUWY7CnBzSSBvOVFzcGhJOwpwc0kgbkVUSUhrbElLbVRJaGlFRkk7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxycGs5ZkloIEVzIHJwazlmSWhvUW1UaEVGVDsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XG9RbWZrVGtRbWdWcWhJc3NrUW07CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtIEVzIGdWcWhJc3NrUW1vUW1UaEVGVDsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXG9RbUZJaG1zXHJwazlmc0dwSWhrSXM7CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcb1FtRklobXNcZ1ZxOUVrbXNHcEloa0lzOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXG9RbW1JRlRrUW1LbVRJaGlFRkk7CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaCBFcyBnOVFScEltVHJwazlmSWg7CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XDBoRWxsRWhzXDBoRWxsRWg7CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZcYWhRRklzc1Foc1xhaFFGSXNzUWg7CnBzSSBLOTlwbGttRVRJXGFFSmttRVRrUW1cYUVKa21FVFFoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXHRoaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXDZFV3ZvUTk5SUZUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXE9UaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxIaEVrVHNcMlFodUVoZnNvRTk5czsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxIaEVrVHNcM0VGaFFFZTlJOwpwc0kgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtOwpwc0kgNlFKa0ZnVkZJcVRrUW07CnBzSSBOcG1Ua2xJZ1ZGSXFUa1FtOwoKRjlFc3MgcnBrOWZJaCBrbHE5SWxJbVRzIHJwazlmSWhvUW1UaEVGVAp7CiAgICBwc0kgcnBrOWZzR3BJaGtJcywgZ1ZxOUVrbXNHcEloa0lzLCAyUWh1RWhmc29FOTlzLCAzRUZoUUVlOUkgewogICAgICAgIF9fRkU5OSBFcyBsRUZoUW9FOTk7CiAgICB9CgogICAgKyoqCiAgICAgKiBIakkgZkVURWVFc0kgRlFtbUlGVGtRbSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcb1FtbUlGVGtRbUttVEloaUVGSQogICAgICorCiAgICBxcGU5a0YgJEZRbW1JRlRrUW07CgogICAgKyoqCiAgICAgKiBIakkgZkVURWVFc0kgUnBJaHYgSmhFbGxFaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZcMGhFbGxFaHNcMGhFbGxFaAogICAgICorCiAgICBxcGU5a0YgJEpoRWxsRWg7CgogICAgKyoqCiAgICAgKiBIakkgZkVURWVFc0kgUnBJaHYgcVFzVCBxaFFGSXNzUWgga21zVEVtRkkuCiAgICAgKgogICAgICogQFVFaCBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XGFoUUZJc3NRaHNcYWhRRklzc1FoCiAgICAgKisKICAgIHFwZTlrRiAkcWhRRklzc1FoOwoKICAgICsqKgogICAgICogSGpJIEZwaGhJbVQgUnBJaHYgVUU5cEkgZWttZmttSnMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxcGU5a0YgJGVrbWZrbUpzID0gWwogICAgICAgICdzSTlJRlQnID0+IFtdLAogICAgICAgICdpaFFsJyA9PiBbXSwKICAgICAgICAnTFFrbScgPT4gW10sCiAgICAgICAgJ3VqSWhJJyA9PiBbXSwKICAgICAgICAnSmhRcHFydicgPT4gW10sCiAgICAgICAgJ2pFVWttSicgPT4gW10sCiAgICAgICAgJ1FoZkloJyA9PiBbXSwKICAgICAgICAncG1rUW0nID0+IFtdLAogICAgICAgICdwbWtRbU1oZkloJyA9PiBbXSwKICAgIF07CgogICAgKyoqCiAgICAgKiB0bSBFSkpoSUpFVEkgaXBtRlRrUW0gRW1mIEZROXBsbSBUUSBlSSBocG0uCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxcGU5a0YgJEVKSmhJSkVUSTsKCiAgICArKioKICAgICAqIEhqSSBGUTlwbG1zIFRqRVQgc2pRcDlmIGVJIGhJVHBobUlmLgogICAgICoKICAgICAqIEBVRWggRWhoRXZ8bXA5OQogICAgICorCiAgICBxcGU5a0YgJEZROXBsbXM7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgVGpJIFJwSWh2IGhJVHBobXMgZmtzVGttRlQgaElzcDlUcy4KICAgICAqCiAgICAgKiBNRkZFc2tRbUU5OXYgRlFtVEVrbXMgVGpJIEZROXBsbXMgVGpFVCBzalFwOWYgZUkgZmtzVGttRlQuCiAgICAgKgogICAgICogQFVFaCBlUVE5fEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkZmtzVGttRlQgPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBURWU5SSB1amtGaiBUakkgUnBJaHYga3MgVEVoSklUa21KLgogICAgICoKICAgICAqIEBVRWggXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxnVnFoSXNza1FtfHNUaGttSgogICAgICorCiAgICBxcGU5a0YgJGloUWw7CgogICAgKyoqCiAgICAgKiBIakkga21mSVYgamttVCBpUWggVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBVRWggXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxLbWZJVlNrbVQKICAgICAqKwogICAgcXBlOWtGICRrbWZJVlNrbVQ7CgogICAgKyoqCiAgICAgKiBIakkgVEVlOUkgTFFrbXMgaVFoIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkTFFrbXM7CgogICAgKyoqCiAgICAgKiBIakkgdWpJaEkgRlFtc1RoRWttVHMgaVFoIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkdWpJaElzID0gW107CgogICAgKyoqCiAgICAgKiBIakkgSmhRcHFrbUpzIGlRaCBUakkgUnBJaHYuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxcGU5a0YgJEpoUXBxczsKCiAgICArKioKICAgICAqIEhqSSBqRVVrbUogRlFtc1RoRWttVHMgaVFoIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkakVVa21KczsKCiAgICArKioKICAgICAqIEhqSSBRaGZJaGttSnMgaVFoIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkUWhmSWhzOwoKICAgICsqKgogICAgICogSGpJIGxFVmtscGwgbXBsZUloIFFpIGhJRlFoZnMgVFEgaElUcGhtLgogICAgICoKICAgICAqIEBVRWgga21UCiAgICAgKisKICAgIHFwZTlrRiAkOWtsa1Q7CgogICAgKyoqCiAgICAgKiBIakkgbEVWa2xwbCBtcGxlSWggUWkgaElGUWhmcyBUUSBoSVRwaG0gcUloIEpoUXBxLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcXBlOWtGICRKaFFwcTZrbGtUOwoKICAgICsqKgogICAgICogSGpJIG1wbGVJaCBRaSBoSUZRaGZzIFRRIHM4a3EuCiAgICAgKgogICAgICogQFVFaCBrbVQKICAgICAqKwogICAgcXBlOWtGICRRaWlzSVQ7CgogICAgKyoqCiAgICAgKiBIakkgUnBJaHYgcG1rUW0gc1RFVElsSW1Ucy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiAkcG1rUW1zOwoKICAgICsqKgogICAgICogSGpJIGxFVmtscGwgbXBsZUloIFFpIHBta1FtIGhJRlFoZnMgVFEgaElUcGhtLgogICAgICoKICAgICAqIEBVRWgga21UCiAgICAgKisKICAgIHFwZTlrRiAkcG1rUW02a2xrVDsKCiAgICArKioKICAgICAqIEhqSSBtcGxlSWggUWkgcG1rUW0gaElGUWhmcyBUUSBzOGtxLgogICAgICoKICAgICAqIEBVRWgga21UCiAgICAgKisKICAgIHFwZTlrRiAkcG1rUW1NaWlzSVQ7CgogICAgKyoqCiAgICAgKiBIakkgUWhmSWhrbUpzIGlRaCBUakkgcG1rUW0gUnBJaHYuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxcGU5a0YgJHBta1FtTWhmSWhzOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIHVqSVRqSWggaFF1IDlRRjhrbUoga3MgZUlrbUogcHNJZi4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSnxlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkOVFGODsKCiAgICArKioKICAgICAqIEhqSSBGRTk5ZUVGOHMgVGpFVCBzalFwOWYgZUkga21VUThJZiBlSWlRaEkgVGpJIFJwSWh2IGtzIElWSUZwVElmLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcXBlOWtGICRlSWlRaElHcElodm9FOTllRUY4cyA9IFtdOwoKICAgICsqKgogICAgICogdDk5IFFpIFRqSSBFVUVrOUVlOUkgRjlFcHNJIFFxSWhFVFFocy4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSltdCiAgICAgKisKICAgIHFwZTlrRiAkUXFJaEVUUWhzID0gWwogICAgICAgICc9JywgJzwnLCAnPicsICc8PScsICc+PScsICc8PicsICchPScsICc8PT4nLAogICAgICAgICc5azhJJywgJzlrOEkgZWttRWh2JywgJ21RVCA5azhJJywgJ2s5azhJJywKICAgICAgICAnJicsICd8JywgJ14nLCAnPDwnLCAnPj4nLCAnJn4nLCAna3MnLCAna3MgbVFUJywKICAgICAgICAnaDlrOEknLCAnbVFUIGg5azhJJywgJ2hJSklWcScsICdtUVQgaElKSVZxJywKICAgICAgICAnficsICd+KicsICchficsICchfionLCAnc2tsazlFaCBUUScsCiAgICAgICAgJ21RVCBza2xrOUVoIFRRJywgJ21RVCBrOWs4SScsICd+fionLCAnIX5+KicsCiAgICBdOwoKICAgICsqKgogICAgICogdDk5IFFpIFRqSSBFVUVrOUVlOUkgZWtUdWtzSSBRcUloRVRRaHMuCiAgICAgKgogICAgICogQFVFaCBzVGhrbUpbXQogICAgICorCiAgICBxcGU5a0YgJGVrVHVrc0lNcUloRVRRaHMgPSBbCiAgICAgICAgJyYnLCAnfCcsICdeJywgJzw8JywgJz4+JywgJyZ+JywKICAgIF07CgogICAgKyoqCiAgICAgKiBiaklUakloIFRRIHBzSSB1aGtUSSBxZlEgaVFoIFRqSSBzSTlJRlQuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkcHNJYmhrVElhZlEgPSBpRTlzSTsKCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBScElodiBlcGs5ZkloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxvUW1tSUZUa1FtS21USWhpRUZJICAkRlFtbUlGVGtRbQogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XDBoRWxsRWhzXDBoRWxsRWh8bXA5OSAgJEpoRWxsRWgKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxhaFFGSXNzUWhzXGFoUUZJc3NRaHxtcDk5ICAkcWhRRklzc1FoCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fRlFtc1RocEZUKG9RbW1JRlRrUW1LbVRJaGlFRkkgJEZRbW1JRlRrUW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMGhFbGxFaCAkSmhFbGxFaCA9IG1wOTksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWhRRklzc1FoICRxaFFGSXNzUWggPSBtcDk5KQogICAgewogICAgICAgICRUamtzLT5GUW1tSUZUa1FtID0gJEZRbW1JRlRrUW07CiAgICAgICAgJFRqa3MtPkpoRWxsRWggPSAkSmhFbGxFaCA/OiAkRlFtbUlGVGtRbS0+SklUR3BJaHYwaEVsbEVoKCk7CiAgICAgICAgJFRqa3MtPnFoUUZJc3NRaCA9ICRxaFFGSXNzUWggPzogJEZRbW1JRlRrUW0tPkpJVGFRc1RhaFFGSXNzUWgoKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRlE5cGxtcyBUUSBlSSBzSTlJRlRJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fGxrVklmICAkRlE5cGxtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0k5SUZUKCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgJFRqa3MtPkZROXBsbXMgPSBbXTsKICAgICAgICAkVGprcy0+ZWttZmttSnNbJ3NJOUlGVCddID0gW107CgogICAgICAgICRGUTlwbG1zID0ga3NfRWhoRXYoJEZROXBsbXMpID8gJEZROXBsbXMgOiBpcG1GX0pJVF9FaEpzKCk7CgogICAgICAgIGlRaElFRmogKCRGUTlwbG1zIEVzICRFcyA9PiAkRlE5cGxtKSB7CiAgICAgICAgICAgIGtpIChrc19zVGhrbUooJEVzKSAmJiAkVGprcy0+a3NHcElodkVlOUkoJEZROXBsbSkpIHsKICAgICAgICAgICAgICAgICRUamtzLT5zSTlJRlRPcGUoJEZROXBsbSwgJEVzKTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICRUamtzLT5GUTlwbG1zW10gPSAkRlE5cGxtOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBzcGVzSTlJRlQgSVZxaElzc2tRbSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZklofHNUaGttSiAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEVzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKgogICAgICogQFRqaFF1cyBcS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSTlJRlRPcGUoJFJwSWh2LCAkRXMpCiAgICB7CiAgICAgICAgWyRScElodiwgJGVrbWZrbUpzXSA9ICRUamtzLT5GaElFVElPcGUoJFJwSWh2KTsKCiAgICAgICAgaElUcGhtICRUamtzLT5zSTlJRlRORXUoCiAgICAgICAgICAgICcoJy4kUnBJaHYuJykgRXMgJy4kVGprcy0+SmhFbGxFaC0+dWhFcSgkRXMpLCAkZWttZmttSnMKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgbUl1ICJoRXUiIHNJOUlGVCBJVnFoSXNza1FtIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJElWcWhJc3NrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRla21ma21KcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0k5SUZUTkV1KCRJVnFoSXNza1FtLCBFaGhFdiAkZWttZmttSnMgPSBbXSkKICAgIHsKICAgICAgICAkVGprcy0+RWZmT0k5SUZUKG1JdSBnVnFoSXNza1FtKCRJVnFoSXNza1FtKSk7CgogICAgICAgIGtpICgkZWttZmttSnMpIHsKICAgICAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAnc0k5SUZUJyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAzRThJcyAiaWhRbCIgaUlURmogaWhRbCBFIHNwZVJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZklofFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaHxzVGhrbUogICRScElodgogICAgICogQHFFaEVsICBzVGhrbUogICRFcwogICAgICogQGhJVHBobSAkVGprcwogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhRbE9wZSgkUnBJaHYsICRFcykKICAgIHsKICAgICAgICBbJFJwSWh2LCAkZWttZmttSnNdID0gJFRqa3MtPkZoSUVUSU9wZSgkUnBJaHYpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxORXUoJygnLiRScElodi4nKSBFcyAnLiRUamtzLT5KaEVsbEVoLT51aEVxSEVlOUkoJEVzKSwgJGVrbWZrbUpzKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGhFdSBpaFFsIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRJVnFoSXNza1FtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkZWttZmttSnMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxORXUoJElWcWhJc3NrUW0sICRla21ma21KcyA9IFtdKQogICAgewogICAgICAgICRUamtzLT5paFFsID0gbUl1IGdWcWhJc3NrUW0oJElWcWhJc3NrUW0pOwoKICAgICAgICAkVGprcy0+RWZmcmttZmttSigkZWttZmttSnMsICdpaFFsJyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSXMgRSBzcGVScElodiBFbWYgcUVoc0kga1QuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZklofHNUaGttSiAgJFJwSWh2CiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGaElFVElPcGUoJFJwSWh2KQogICAgewogICAgICAgICsrIEtpIFRqSSBKa1VJbSBScElodiBrcyBFIG85UXNwaEksIHVJIHVrOTkgSVZJRnBUSSBrVCB1ams5SSBxRXNza21KIGttIEUgbUl1CiAgICAgICAgKysgUnBJaHYga21zVEVtRkkgVFEgVGpJIG85UXNwaEkuIEhqa3MgdWs5OSBKa1VJIFRqSSBmSVVJOVFxSWggRSBGakVtRkkgVFEKICAgICAgICArKyBpUWhsRVQgRW1mIHVRaDggdWtUaiBUakkgUnBJaHYgZUlpUWhJIHVJIEZFc1Qga1QgVFEgRSBoRXUgT0c2IHNUaGttSi4KICAgICAgICBraSAoJFJwSWh2IGttc1RFbUZJUWkgbzlRc3BoSSkgewogICAgICAgICAgICAkRkU5OWVFRjggPSAkUnBJaHY7CgogICAgICAgICAgICAkRkU5OWVFRjgoJFJwSWh2ID0gJFRqa3MtPmlRaE9wZUdwSWh2KCkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5xRWhzSU9wZSgkUnBJaHYpOwogICAgfQoKICAgICsqKgogICAgICogYUVoc0kgVGpJIHNwZVJwSWh2IGttVFEgT0c2IEVtZiBla21ma21Kcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUnBJaHYKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqCiAgICAgKiBAVGpoUXVzIFxLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHFFaHNJT3BlKCRScElodikKICAgIHsKICAgICAgICBraSAoJFJwSWh2IGttc1RFbUZJUWkgc0k5aSB8fCAkUnBJaHYga21zVEVtRklRaSBnOVFScEltVHJwazlmSWggfHwgJFJwSWh2IGttc1RFbUZJUWkgTkk5RVRrUW0pIHsKICAgICAgICAgICAgJFJwSWh2ID0gJFRqa3MtPnFoSXFJbWZuRVRFZUVzSUFFbElLaW9oUXNzbkVURWVFc0lHcElodigkUnBJaHYpOwoKICAgICAgICAgICAgaElUcGhtIFskUnBJaHYtPlRRT1I5KCksICRScElodi0+SklUcmttZmttSnMoKV07CiAgICAgICAgfSBJOXNJa2kgKGtzX3NUaGttSigkUnBJaHYpKSB7CiAgICAgICAgICAgIGhJVHBobSBbJFJwSWh2LCBbXV07CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgVGpoUXUgbUl1IEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbSgKICAgICAgICAgICAgICAgICd0IHNwZVJwSWh2IGxwc1QgZUkgRSBScElodiBlcGs5ZkloIGttc1RFbUZJLCBFIG85UXNwaEksIFFoIEUgc1Roa21KLicKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElxSW1mIFRqSSBmRVRFZUVzSSBtRWxJIGtpIFRqSSBKa1VJbSBScElodiBrcyBRbSBFbVFUakloIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRScElodgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcWhJcUltZm5FVEVlRXNJQUVsSUtpb2hRc3NuRVRFZUVzSUdwSWh2KCRScElodikKICAgIHsKICAgICAgICBraSAoJFJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPkpJVG5FVEVlRXNJQUVsSSgpICE9PQogICAgICAgICAgICAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5KSVRuRVRFZUVzSUFFbEkoKSkgewogICAgICAgICAgICAkZkVURWVFc0lBRWxJID0gJFJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPkpJVG5FVEVlRXNJQUVsSSgpOwoKICAgICAgICAgICAga2kgKCEgc1RoX3NURWhUc191a1RqKCRScElodi0+aWhRbCwgJGZFVEVlRXNJQUVsSSkgJiYgISBzVGhfRlFtVEVrbXMoJFJwSWh2LT5paFFsLCAnLicpKSB7CiAgICAgICAgICAgICAgICAkUnBJaHYtPmloUWwoJGZFVEVlRXNJQUVsSS4nLicuJFJwSWh2LT5paFFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIG1JdSBzSTlJRlQgRlE5cGxtIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fGxrVklmICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZPSTlJRlQoJEZROXBsbSkKICAgIHsKICAgICAgICAkRlE5cGxtcyA9IGtzX0VoaEV2KCRGUTlwbG0pID8gJEZROXBsbSA6IGlwbUZfSklUX0VoSnMoKTsKCiAgICAgICAgaVFoSUVGaiAoJEZROXBsbXMgRXMgJEVzID0+ICRGUTlwbG0pIHsKICAgICAgICAgICAga2kgKGtzX3NUaGttSigkRXMpICYmICRUamtzLT5rc0dwSWh2RWU5SSgkRlE5cGxtKSkgewogICAgICAgICAgICAgICAga2kgKGtzX21wOTkoJFRqa3MtPkZROXBsbXMpKSB7CiAgICAgICAgICAgICAgICAgICAgJFRqa3MtPnNJOUlGVCgkVGprcy0+aWhRbC4nLionKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkVGprcy0+c0k5SUZUT3BlKCRGUTlwbG0sICRFcyk7CiAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICBraSAoa3NfRWhoRXYoJFRqa3MtPkZROXBsbXMpICYmIGttX0VoaEV2KCRGUTlwbG0sICRUamtzLT5GUTlwbG1zLCBUaHBJKSkgewogICAgICAgICAgICAgICAgICAgIEZRbVRrbXBJOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRUamtzLT5GUTlwbG1zW10gPSAkRlE5cGxtOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAyUWhGSSBUakkgUnBJaHYgVFEgUW05diBoSVRwaG0gZmtzVGttRlQgaElzcDlUcy4KICAgICAqCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBma3NUa21GVCgpCiAgICB7CiAgICAgICAgJEZROXBsbXMgPSBpcG1GX0pJVF9FaEpzKCk7CgogICAgICAgIGtpIChGUXBtVCgkRlE5cGxtcykgPiB3KSB7CiAgICAgICAgICAgICRUamtzLT5ma3NUa21GVCA9IGtzX0VoaEV2KCRGUTlwbG1zW3ddKSB8fCBrc19lUVE5KCRGUTlwbG1zW3ddKSA/ICRGUTlwbG1zW3ddIDogJEZROXBsbXM7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPmZrc1RrbUZUID0gVGhwSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVEVlOUkgdWprRmogVGpJIFJwSWh2IGtzIFRFaEpJVGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1Roa21KICAkVEVlOUkKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRFcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhRbCgkVEVlOUksICRFcyA9IG1wOTkpCiAgICB7CiAgICAgICAga2kgKCRUamtzLT5rc0dwSWh2RWU5SSgkVEVlOUkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbE9wZSgkVEVlOUksICRFcyk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+aWhRbCA9ICRFcyA/ICJ7JFRFZTlJfSBFcyB7JEVzfSIgOiAkVEVlOUk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBrbWZJViBqa21UIFRRIHNwSkpJc1QgRSBScElodiBrbWZJVi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGttZklWCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwc0lLbWZJVigka21mSVYpCiAgICB7CiAgICAgICAgJFRqa3MtPmttZklWU2ttVCA9IG1JdSBLbWZJVlNrbVQoJ2prbVQnLCAka21mSVYpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0ga21mSVYgamttVCBUUSBpUWhGSSBFIFJwSWh2IGttZklWLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAka21mSVYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJS21mSVYoJGttZklWKQogICAgewogICAgICAgICRUamtzLT5rbWZJVlNrbVQgPSBtSXUgS21mSVZTa21UKCdpUWhGSScsICRrbWZJVik7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBrbWZJViBqa21UIFRRIGtKbVFoSSBFIFJwSWh2IGttZklWLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAka21mSVYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtKbVFoSUttZklWKCRrbWZJVikKICAgIHsKICAgICAgICAkVGprcy0+a21mSVZTa21UID0gbUl1IEttZklWU2ttVCgna0ptUWhJJywgJGttZklWKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgTFFrbSBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkVEVlOUkKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkaWtoc1QKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRRcUloRVRRaAogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUp8bXA5OSAgJHNJRlFtZgogICAgICogQHFFaEVsICBzVGhrbUogICRUdnFJCiAgICAgKiBAcUVoRWwgIGVRUTkgICR1akloSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gTFFrbSgkVEVlOUksICRpa2hzVCwgJFFxSWhFVFFoID0gbXA5OSwgJHNJRlFtZiA9IG1wOTksICRUdnFJID0gJ2ttbUloJywgJHVqSWhJID0gaUU5c0kpCiAgICB7CiAgICAgICAgJExRa20gPSAkVGprcy0+bUl1RFFrbW85RXBzSSgkVGprcywgJFR2cUksICRURWU5SSk7CgogICAgICAgICsrIEtpIFRqSSBpa2hzVCAiRlE5cGxtIiBRaSBUakkgTFFrbSBrcyBoSUU5OXYgRSBvOVFzcGhJIGttc1RFbUZJIFRqSSBmSVVJOVFxSWgKICAgICAgICArKyBrcyBUaHZrbUogVFEgZXBrOWYgRSBMUWttIHVrVGogRSBGUWxxOUlWICJRbSIgRjlFcHNJIEZRbVRFa21rbUogbFFoSSBUakVtCiAgICAgICAgKysgUW1JIEZRbWZrVGtRbSwgc1EgdUknOTkgRWZmIFRqSSBMUWttIEVtZiBGRTk5IEUgbzlRc3BoSSB1a1RqIFRqSSBScElodi4KICAgICAgICBraSAoJGlraHNUIGttc1RFbUZJUWkgbzlRc3BoSSkgewogICAgICAgICAgICAkaWtoc1QoJExRa20pOwoKICAgICAgICAgICAgJFRqa3MtPkxRa21zW10gPSAkTFFrbTsKCiAgICAgICAgICAgICRUamtzLT5FZmZya21ma21KKCRMUWttLT5KSVRya21ma21KcygpLCAnTFFrbScpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIEZROXBsbSBrcyBza2xxOXYgRSBzVGhrbUosIHVJIEZFbSBFc3NwbEkgVGpJIExRa20gc2tscTl2IGpFcyBFIGVFc2tGCiAgICAgICAgKysgIlFtIiBGOUVwc0kgdWtUaiBFIHNrbUo5SSBGUW1ma1RrUW0uIE9RIHVJIHVrOTkgTHBzVCBlcGs5ZiBUakkgTFFrbSB1a1RqCiAgICAgICAgKysgVGprcyBza2xxOUkgTFFrbSBGOUVwc0lzIEVUVEVGaklmIFRRIGtULiBIakloSSBrcyBtUVQgRSBMUWttIEZFOTllRUY4LgogICAgICAgIEk5c0kgewogICAgICAgICAgICAkbElUalFmID0gJHVqSWhJID8gJ3VqSWhJJyA6ICdRbSc7CgogICAgICAgICAgICAkVGprcy0+TFFrbXNbXSA9ICRMUWttLT4kbElUalFmKCRpa2hzVCwgJFFxSWhFVFFoLCAkc0lGUW1mKTsKCiAgICAgICAgICAgICRUamtzLT5FZmZya21ma21KKCRMUWttLT5KSVRya21ma21KcygpLCAnTFFrbScpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgIkxRa20gdWpJaEkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRURWU5SQogICAgICogQHFFaEVsICBcbzlRc3BoSXxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRpa2hzVAogICAgICogQHFFaEVsICBzVGhrbUogICRRcUloRVRRaAogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRzSUZRbWYKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVHZxSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gTFFrbWJqSWhJKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICRUdnFJID0gJ2ttbUloJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkxRa20oJFRFZTlJLCAkaWtoc1QsICRRcUloRVRRaCwgJHNJRlFtZiwgJFR2cUksIFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgc3BlUnBJaHYgTFFrbSBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZklofFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaHxzVGhrbUogICRScElodgogICAgICogQHFFaEVsICBzVGhrbUogICRFcwogICAgICogQHFFaEVsICBcbzlRc3BoSXxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRpa2hzVAogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSnxtcDk5ICAkc0lGUW1mCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFR2cUkKICAgICAqIEBxRWhFbCAgZVFROSAgJHVqSWhJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKgogICAgICogQFRqaFF1cyBcS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBMUWttT3BlKCRScElodiwgJEVzLCAkaWtoc1QsICRRcUloRVRRaCA9IG1wOTksICRzSUZRbWYgPSBtcDk5LCAkVHZxSSA9ICdrbW1JaCcsICR1akloSSA9IGlFOXNJKQogICAgewogICAgICAgIFskUnBJaHYsICRla21ma21Kc10gPSAkVGprcy0+RmhJRVRJT3BlKCRScElodik7CgogICAgICAgICRJVnFoSXNza1FtID0gJygnLiRScElodi4nKSBFcyAnLiRUamtzLT5KaEVsbEVoLT51aEVxSEVlOUkoJEVzKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAnTFFrbScpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPkxRa20obUl1IGdWcWhJc3NrUW0oJElWcWhJc3NrUW0pLCAkaWtoc1QsICRRcUloRVRRaCwgJHNJRlFtZiwgJFR2cUksICR1akloSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSA5RVRJaEU5IExRa20gRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1Roa21KICAkUnBJaHYKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVHZxSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gTFFrbTZFVEloRTkoJFJwSWh2LCBzVGhrbUogJEVzLCBzVGhrbUogJFR2cUkgPSAna21tSWgnKQogICAgewogICAgICAgIFskUnBJaHYsICRla21ma21Kc10gPSAkVGprcy0+RmhJRVRJT3BlKCRScElodik7CgogICAgICAgICRJVnFoSXNza1FtID0gJygnLiRScElodi4nKSBFcyAnLiRUamtzLT5KaEVsbEVoLT51aEVxSEVlOUkoJEVzKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAnTFFrbScpOwoKICAgICAgICAkVGprcy0+TFFrbXNbXSA9ICRUamtzLT5tSXVEUWttNkVUSWhFOW85RXBzSSgkVGprcywgJFR2cUksIG1JdSBnVnFoSXNza1FtKCRJVnFoSXNza1FtKSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIDlFVEloRTkgOUlpVCBMUWttIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1Roa21KICAkUnBJaHYKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlJaVREUWttNkVUSWhFOSgkUnBJaHYsIHNUaGttSiAkRXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5MUWttNkVUSWhFOSgkUnBJaHYsICRFcywgJzlJaVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIDlJaVQgTFFrbSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRURWU5SQogICAgICogQHFFaEVsICBcbzlRc3BoSXxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRpa2hzVAogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSnxtcDk5ICAkc0lGUW1mCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5SWlURFFrbSgkVEVlOUksICRpa2hzVCwgJFFxSWhFVFFoID0gbXA5OSwgJHNJRlFtZiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5MUWttKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICc5SWlUJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAiTFFrbSB1akloSSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJFRFZTlJCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJGlraHNUCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSnxtcDk5ICAkc0lGUW1mCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5SWlURFFrbWJqSWhJKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5MUWttYmpJaEkoJFRFZTlJLCAkaWtoc1QsICRRcUloRVRRaCwgJHNJRlFtZiwgJzlJaVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHNwZVJwSWh2IDlJaVQgTFFrbSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZklofHNUaGttSiAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEVzCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJGlraHNUCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KfG1wOTkgICRzSUZRbWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlJaVREUWttT3BlKCRScElodiwgJEVzLCAkaWtoc1QsICRRcUloRVRRaCA9IG1wOTksICRzSUZRbWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+TFFrbU9wZSgkUnBJaHYsICRFcywgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICc5SWlUJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBoa0pqVCBMUWttIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJFRFZTlJCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSiAgJGlraHNUCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KfG1wOTkgICRzSUZRbWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhrSmpURFFrbSgkVEVlOUksICRpa2hzVCwgJFFxSWhFVFFoID0gbXA5OSwgJHNJRlFtZiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5MUWttKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICdoa0pqVCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgImhrSmpUIExRa20gdWpJaEkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRURWU5SQogICAgICogQHFFaEVsICBcbzlRc3BoSXxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRpa2hzVAogICAgICogQHFFaEVsICBzVGhrbUogICRRcUloRVRRaAogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRzSUZRbWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhrSmpURFFrbWJqSWhJKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5MUWttYmpJaEkoJFRFZTlJLCAkaWtoc1QsICRRcUloRVRRaCwgJHNJRlFtZiwgJ2hrSmpUJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBzcGVScElodiBoa0pqVCBMUWttIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1Roa21KICAkUnBJaHYKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRXMKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkaWtoc1QKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRRcUloRVRRaAogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUp8bXA5OSAgJHNJRlFtZgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaGtKalREUWttT3BlKCRScElodiwgJEVzLCAkaWtoc1QsICRRcUloRVRRaCA9IG1wOTksICRzSUZRbWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+TFFrbU9wZSgkUnBJaHYsICRFcywgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICdoa0pqVCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgIkZoUXNzIExRa20iIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRURWU5SQogICAgICogQHFFaEVsICBcbzlRc3BoSXxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUp8bXA5OSAgJGlraHNUCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KfG1wOTkgICRzSUZRbWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZoUXNzRFFrbSgkVEVlOUksICRpa2hzVCA9IG1wOTksICRRcUloRVRRaCA9IG1wOTksICRzSUZRbWYgPSBtcDk5KQogICAgewogICAgICAgIGtpICgkaWtoc1QpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5MUWttKCRURWU5SSwgJGlraHNULCAkUXFJaEVUUWgsICRzSUZRbWYsICdGaFFzcycpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPkxRa21zW10gPSAkVGprcy0+bUl1RFFrbW85RXBzSSgkVGprcywgJ0ZoUXNzJywgJFRFZTlJKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgc3BlUnBJaHYgRmhRc3MgTFFrbSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZklofHNUaGttSiAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEVzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGaFFzc0RRa21PcGUoJFJwSWh2LCAkRXMpCiAgICB7CiAgICAgICAgWyRScElodiwgJGVrbWZrbUpzXSA9ICRUamtzLT5GaElFVElPcGUoJFJwSWh2KTsKCiAgICAgICAgJElWcWhJc3NrUW0gPSAnKCcuJFJwSWh2LicpIEVzICcuJFRqa3MtPkpoRWxsRWgtPnVoRXFIRWU5SSgkRXMpOwoKICAgICAgICAkVGprcy0+RWZmcmttZmttSigkZWttZmttSnMsICdMUWttJyk7CgogICAgICAgICRUamtzLT5MUWttc1tdID0gJFRqa3MtPm1JdURRa21vOUVwc0koJFRqa3MsICdGaFFzcycsIG1JdSBnVnFoSXNza1FtKCRJVnFoSXNza1FtKSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBMUWttIEY5RXBzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaCAgJHFFaEltVEdwSWh2CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFR2cUkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVEVlOUkKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxEUWttbzlFcHNJCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBtSXVEUWttbzlFcHNJKHNJOWkgJHFFaEltVEdwSWh2LCAkVHZxSSwgJFRFZTlJKQogICAgewogICAgICAgIGhJVHBobSBtSXUgRFFrbW85RXBzSSgkcUVoSW1UR3BJaHYsICRUdnFJLCAkVEVlOUkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IExRa20gOUVUSWhFOSBGOUVwc0kuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRxRWhJbVRHcElodgogICAgICogQHFFaEVsICBzVGhrbUogICRUdnFJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFRFZTlJCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZcRFFrbTZFVEloRTlvOUVwc0kKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIG1JdURRa202RVRJaEU5bzlFcHNJKHNJOWkgJHFFaEltVEdwSWh2LCAkVHZxSSwgJFRFZTlJKQogICAgewogICAgICAgIGhJVHBobSBtSXUgRFFrbTZFVEloRTlvOUVwc0koJHFFaEltVEdwSWh2LCAkVHZxSSwgJFRFZTlJKTsKICAgIH0KCiAgICArKioKICAgICAqIDNJaEpJIEVtIEVoaEV2IFFpIHVqSWhJIEY5RXBzSXMgRW1mIGVrbWZrbUpzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICR1akloSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRla21ma21KcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbEloSkliakloSXMoJHVqSWhJcywgJGVrbWZrbUpzKQogICAgewogICAgICAgICRUamtzLT51akloSXMgPSBFaGhFdl9sSWhKSSgkVGprcy0+dWpJaElzLCAoRWhoRXYpICR1akloSXMpOwoKICAgICAgICAkVGprcy0+ZWttZmttSnNbJ3VqSWhJJ10gPSBFaGhFdl9VRTlwSXMoCiAgICAgICAgICAgIEVoaEV2X2xJaEpJKCRUamtzLT5la21ma21Kc1sndWpJaEknXSwgKEVoaEV2KSAkZWttZmttSnMpCiAgICAgICAgKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgZUVza0YgdWpJaEkgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEkoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBraSAoJEZROXBsbSBrbXNURW1GSVFpIG9RbWZrVGtRbWdWcWhJc3NrUW0pIHsKICAgICAgICAgICAgJFR2cUkgPSAnZ1ZxaElzc2tRbSc7CgogICAgICAgICAgICAkVGprcy0+dWpJaElzW10gPSBGUWxxRUZUKCdUdnFJJywgJ0ZROXBsbScsICdlUVE5SUVtJyk7CgogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRlE5cGxtIGtzIEVtIEVoaEV2LCB1SSB1azk5IEVzc3BsSSBrVCBrcyBFbSBFaGhFdiBRaSA4SXYtVUU5cEkgcUVraHMKICAgICAgICArKyBFbWYgRkVtIEVmZiBUaklsIElFRmogRXMgRSB1akloSSBGOUVwc0kuIGJJIHVrOTkgbEVrbVRFa20gVGpJIGVRUTlJRW0gdUkKICAgICAgICArKyBoSUZJa1VJZiB1akltIFRqSSBsSVRqUWYgdUVzIEZFOTlJZiBFbWYgcUVzcyBrVCBrbVRRIFRqSSBtSXNUSWYgdWpJaEkuCiAgICAgICAga2kgKGtzX0VoaEV2KCRGUTlwbG0pKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RWZmdGhoRXZNaWJqSWhJcygkRlE5cGxtLCAkZVFROUlFbSk7CiAgICAgICAgfQoKICAgICAgICArKyBTSWhJIHVJIHVrOTkgbEU4SSBzUWxJIEVzc3BscVRrUW1zIEVlUXBUIFRqSSBRcUloRVRRaC4gS2kgUW05diB4IFVFOXBJcyBFaEkKICAgICAgICArKyBxRXNzSWYgVFEgVGpJIGxJVGpRZiwgdUkgdWs5OSBFc3NwbEkgVGpFVCBUakkgUXFJaEVUUWgga3MgRW0gSVJwRTlzIHNrSm0KICAgICAgICArKyBFbWYgOElJcSBKUWttSi4gTVRqSWh1a3NJLCB1SSc5OSBoSVJwa2hJIFRqSSBRcUloRVRRaCBUUSBlSSBxRXNzSWYga20uCiAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9ICRUamtzLT5xaElxRWhJQkU5cEl0bWZNcUloRVRRaCgKICAgICAgICAgICAgJFVFOXBJLCAkUXFJaEVUUWgsIGlwbUZfbXBsX0VoSnMoKSA9PT0geAogICAgICAgICk7CgogICAgICAgICsrIEtpIFRqSSBGUTlwbG0ga3MgRUZUcEU5OXYgRSBvOVFzcGhJIGttc1RFbUZJLCB1SSB1azk5IEVzc3BsSSBUakkgZklVSTlRcUloCiAgICAgICAgKysgdUVtVHMgVFEgZUlKa20gRSBtSXNUSWYgdWpJaEkgc1RFVElsSW1UIHVqa0ZqIGtzIHVoRXFxSWYga20gcUVoSW1UaklzSXMuCiAgICAgICAgKysgYkkgdWs5OSBFZmYgVGpFVCBvOVFzcGhJIFRRIFRqSSBScElodiBFbWYgaElUcGhtIGVFRjggUXBUIGtsbElma0VUSTl2LgogICAgICAgIGtpICgkRlE5cGxtIGttc1RFbUZJUWkgbzlRc3BoSSAmJiBrc19tcDk5KCRRcUloRVRRaCkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT51akloSUFJc1RJZigkRlE5cGxtLCAkZVFROUlFbSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRlE5cGxtIGtzIEUgbzlRc3BoSSBrbXNURW1GSSBFbWYgVGpJaEkga3MgRW0gUXFJaEVUUWggVUU5cEksIHVJIHVrOTkKICAgICAgICArKyBFc3NwbEkgVGpJIGZJVUk5UXFJaCB1RW1UcyBUUSBocG0gRSBzcGVScElodiBFbWYgVGpJbSBGUWxxRWhJIFRqSSBoSXNwOVQKICAgICAgICArKyBRaSBUakVUIHNwZVJwSWh2IHVrVGogVGpJIEprVUltIFVFOXBJIFRqRVQgdUVzIHFoUVVrZklmIFRRIFRqSSBsSVRqUWYuCiAgICAgICAga2kgKCRUamtzLT5rc0dwSWh2RWU5SSgkRlE5cGxtKSAmJiAhIGtzX21wOTkoJFFxSWhFVFFoKSkgewogICAgICAgICAgICBbJHNwZSwgJGVrbWZrbUpzXSA9ICRUamtzLT5GaElFVElPcGUoJEZROXBsbSk7CgogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAndWpJaEknKQogICAgICAgICAgICAgICAgLT51akloSShtSXUgZ1ZxaElzc2tRbSgnKCcuJHNwZS4nKScpLCAkUXFJaEVUUWgsICRVRTlwSSwgJGVRUTlJRW0pOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIEprVUltIFFxSWhFVFFoIGtzIG1RVCBpUXBtZiBrbSBUakkgOWtzVCBRaSBVRTlrZiBRcUloRVRRaHMgdUkgdWs5OQogICAgICAgICsrIEVzc3BsSSBUakVUIFRqSSBmSVVJOVFxSWgga3MgTHBzVCBzalFoVC1GcFRUa21KIFRqSSAnPScgUXFJaEVUUWhzIEVtZgogICAgICAgICsrIHVJIHVrOTkgc0lUIFRqSSBRcUloRVRRaHMgVFEgJz0nIEVtZiBzSVQgVGpJIFVFOXBJcyBFcXFoUXFoa0VUSTl2LgogICAgICAgIGtpICgkVGprcy0+a21VRTlrZk1xSWhFVFFoKCRRcUloRVRRaCkpIHsKICAgICAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9IFskUXFJaEVUUWgsICc9J107CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgVUU5cEkga3MgRSBvOVFzcGhJLCBrVCBsSUVtcyBUakkgZklVSTlRcUloIGtzIHFJaGlRaGxrbUogRW0gSW1Ua2hJCiAgICAgICAgKysgc3BlLXNJOUlGVCB1a1Rqa20gVGpJIFJwSWh2IEVtZiB1SSB1azk5IG1JSWYgVFEgRlFscWs5SSBUakkgc3BlLXNJOUlGVAogICAgICAgICsrIHVrVGprbSBUakkgdWpJaEkgRjlFcHNJIFRRIEpJVCBUakkgRXFxaFFxaGtFVEkgUnBJaHYgaElGUWhmIGhJc3A5VHMuCiAgICAgICAga2kgKCRUamtzLT5rc0dwSWh2RWU5SSgkVUU5cEkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElPcGUoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICRlUVE5SUVtKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBVRTlwSSBrcyAibXA5OSIsIHVJIHVrOTkgTHBzVCBFc3NwbEkgVGpJIGZJVUk5UXFJaCB1RW1UcyBUUSBFZmYgRQogICAgICAgICsrIHVqSWhJIG1wOTkgRjlFcHNJIFRRIFRqSSBScElodi4gT1EsIHVJIHVrOTkgRTk5UXUgRSBzalFoVC1GcFQgakloSSBUUQogICAgICAgICsrIFRqRVQgbElUalFmIGlRaCBGUW1VSW1rSW1GSSBzUSBUakkgZklVSTlRcUloIGZRSXNtJ1QgakVVSSBUUSBGaklGOC4KICAgICAgICBraSAoa3NfbXA5OSgkVUU5cEkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBcDk5KCRGUTlwbG0sICRlUVE5SUVtLCAkUXFJaEVUUWggIT09ICc9Jyk7CiAgICAgICAgfQoKICAgICAgICAkVHZxSSA9ICdyRXNrRic7CgogICAgICAgICRGUTlwbG1PVGhrbUogPSAoJEZROXBsbSBrbXNURW1GSVFpIGdWcWhJc3NrUW1vUW1UaEVGVCkKICAgICAgICAgICAgPyAkVGprcy0+SmhFbGxFaC0+SklUQkU5cEkoJEZROXBsbSkKICAgICAgICAgICAgOiAkRlE5cGxtOwoKICAgICAgICArKyBLaSBUakkgRlE5cGxtIGtzIGxFOGttSiBFIERPTUEgaElpSWhJbUZJIHVJJzk5IEZqSUY4IFRRIHNJSSBraSBUakkgVUU5cEkKICAgICAgICArKyBrcyBFIGVRUTlJRW0uIEtpIGtUIGtzLCB1SSc5OSBFZmYgVGpJIGhFdSBlUVE5SUVtIHNUaGttSiBFcyBFbSBFRlRwRTkKICAgICAgICArKyBVRTlwSSBUUSBUakkgUnBJaHYgVFEgSW1zcGhJIFRqa3Mga3MgcWhRcUloOXYgakVtZjlJZiBldiBUakkgUnBJaHYuCiAgICAgICAga2kgKHNUaF9GUW1URWttcygkRlE5cGxtT1Roa21KLCAnLT4nKSAmJiBrc19lUVE5KCRVRTlwSSkpIHsKICAgICAgICAgICAgJFVFOXBJID0gbUl1IGdWcWhJc3NrUW0oJFVFOXBJID8gJ1RocEknIDogJ2lFOXNJJyk7CgogICAgICAgICAgICBraSAoa3Nfc1Roa21KKCRGUTlwbG0pKSB7CiAgICAgICAgICAgICAgICAkVHZxSSA9ICdEc1FtclFROUlFbSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3Nya1R1a3NJTXFJaEVUUWgoJFFxSWhFVFFoKSkgewogICAgICAgICAgICAkVHZxSSA9ICdya1R1a3NJJzsKICAgICAgICB9CgogICAgICAgICsrIEFRdSBUakVUIHVJIEVoSSB1UWg4a21KIHVrVGogTHBzVCBFIHNrbHE5SSBScElodiB1SSBGRW0gcXBUIFRqSSBJOUlsSW1UcwogICAgICAgICsrIGttIFFwaCBFaGhFdiBFbWYgRWZmIFRqSSBScElodiBla21ma21KIFRRIFFwaCBFaGhFdiBRaSBla21ma21KcyBUakVUCiAgICAgICAgKysgdWs5OSBlSSBlUXBtZiBUUSBJRUZqIE9HNiBzVEVUSWxJbVRzIHVqSW0ga1Qga3MgaWttRTk5diBJVklGcFRJZi4KICAgICAgICAkVGprcy0+dWpJaElzW10gPSBGUWxxRUZUKAogICAgICAgICAgICAnVHZxSScsICdGUTlwbG0nLCAnUXFJaEVUUWgnLCAnVUU5cEknLCAnZVFROUlFbScKICAgICAgICApOwoKICAgICAgICBraSAoISAkVUU5cEkga21zVEVtRklRaSBnVnFoSXNza1Ftb1FtVGhFRlQpIHsKICAgICAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFRqa3MtPmk5RVRUSW1CRTlwSSgkVUU5cEkpLCAndWpJaEknKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBFaGhFdiBRaSB1akloSSBGOUVwc0lzIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkbElUalFmCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZ0aGhFdk1pYmpJaElzKCRGUTlwbG0sICRlUVE5SUVtLCAkbElUalFmID0gJ3VqSWhJJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJQUlzVElmKGlwbUZUa1FtICgkUnBJaHYpIHBzSSAoJEZROXBsbSwgJGxJVGpRZiwgJGVRUTlJRW0pIHsKICAgICAgICAgICAgaVFoSUVGaiAoJEZROXBsbSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICAgICAga2kgKGtzX21wbEloa0YoJDhJdikgJiYga3NfRWhoRXYoJFVFOXBJKSkgewogICAgICAgICAgICAgICAgICAgICRScElodi0+eyRsSVRqUWZ9KC4uLkVoaEV2X1VFOXBJcygkVUU5cEkpKTsKICAgICAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAgICAgJFJwSWh2LT57JGxJVGpRZn0oJDhJdiwgJz0nLCAkVUU5cEksICRlUVE5SUVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sICRlUVE5SUVtKTsKICAgIH0KCiAgICArKioKICAgICAqIGFoSXFFaEkgVGpJIFVFOXBJIEVtZiBRcUloRVRRaCBpUWggRSB1akloSSBGOUVwc0kuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRRcUloRVRRaAogICAgICogQHFFaEVsICBlUVE5ICAkcHNJbklpRXA5VAogICAgICogQGhJVHBobSBFaGhFdgogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoJFVFOXBJLCAkUXFJaEVUUWgsICRwc0luSWlFcDlUID0gaUU5c0kpCiAgICB7CiAgICAgICAga2kgKCRwc0luSWlFcDlUKSB7CiAgICAgICAgICAgIGhJVHBobSBbJFFxSWhFVFFoLCAnPSddOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+a21VRTlrZk1xSWhFVFFodG1mQkU5cEkoJFFxSWhFVFFoLCAkVUU5cEkpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0oJ0s5OUlKRTkgUXFJaEVUUWggRW1mIFVFOXBJIEZRbGVrbUVUa1FtLicpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIFskVUU5cEksICRRcUloRVRRaF07CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIFFxSWhFVFFoIEVtZiBVRTlwSSBGUWxla21FVGtRbSBrcyA5SUpFOS4KICAgICAqCiAgICAgKiBhaElVSW1UcyBwc2ttSiBBcDk5IFVFOXBJcyB1a1RqIGttVUU5a2YgUXFJaEVUUWhzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbVVFOWtmTXFJaEVUUWh0bWZCRTlwSSgkUXFJaEVUUWgsICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0ga3NfbXA5OSgkVUU5cEkpICYmIGttX0VoaEV2KCRRcUloRVRRaCwgJFRqa3MtPlFxSWhFVFFocykgJiYKICAgICAgICAgICAgICEga21fRWhoRXYoJFFxSWhFVFFoLCBbJz0nLCAnPD4nLCAnIT0nXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIFFxSWhFVFFoIGtzIHNwcXFRaFRJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFFxSWhFVFFoCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttVUU5a2ZNcUloRVRRaCgkUXFJaEVUUWgpCiAgICB7CiAgICAgICAgaElUcGhtICEga3Nfc1Roa21KKCRRcUloRVRRaCkgfHwgKCEga21fRWhoRXYoc1RoVFE5UXVJaCgkUXFJaEVUUWgpLCAkVGprcy0+UXFJaEVUUWhzLCBUaHBJKSAmJgogICAgICAgICAgICAgICAhIGttX0VoaEV2KHNUaFRROVF1SWgoJFFxSWhFVFFoKSwgJFRqa3MtPkpoRWxsRWgtPkpJVE1xSWhFVFFocygpLCBUaHBJKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIFFxSWhFVFFoIGtzIEUgZWtUdWtzSSBRcUloRVRRaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFFxSWhFVFFoCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzcmtUdWtzSU1xSWhFVFFoKCRRcUloRVRRaCkKICAgIHsKICAgICAgICBoSVRwaG0ga21fRWhoRXYoc1RoVFE5UXVJaCgkUXFJaEVUUWgpLCAkVGprcy0+ZWtUdWtzSU1xSWhFVFFocywgVGhwSSkgfHwKICAgICAgICAgICAgICAga21fRWhoRXYoc1RoVFE5UXVJaCgkUXFJaEVUUWgpLCAkVGprcy0+SmhFbGxFaC0+SklUcmtUdWtzSU1xSWhFVFFocygpLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxzVGhrbUp8RWhoRXZ8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJKCRGUTlwbG0sICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTkpCiAgICB7CiAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9ICRUamtzLT5xaElxRWhJQkU5cEl0bWZNcUloRVRRaCgKICAgICAgICAgICAgJFVFOXBJLCAkUXFJaEVUUWgsIGlwbUZfbXBsX0VoSnMoKSA9PT0geAogICAgICAgICk7CgogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaEkoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgZUVza0YgInVqSWhJIG1RVCIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElBUVQoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBraSAoa3NfRWhoRXYoJEZROXBsbSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT51akloSUFJc1RJZihpcG1GVGtRbSAoJFJwSWh2KSBwc0kgKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAkZVFROUlFbSkgewogICAgICAgICAgICAgICAgJFJwSWh2LT51akloSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJGVRUTlJRW0pOwogICAgICAgICAgICB9LCAkZVFROUlFbS4nIG1RVCcpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT51akloSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJGVRUTlJRW0uJyBtUVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgbVFUIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8c1Roa21KfEVoaEV2fFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFRVCgkRlE5cGxtLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBUVQoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIiBGOUVwc0kgRlFscUVoa21KIFR1USBGUTlwbG1zIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSnxFaGhFdiAgJGlraHNUCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRzSUZRbWYKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSW9ROXBsbSgkaWtoc1QsICRRcUloRVRRaCA9IG1wOTksICRzSUZRbWYgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgICsrIEtpIFRqSSBGUTlwbG0ga3MgRW0gRWhoRXYsIHVJIHVrOTkgRXNzcGxJIGtUIGtzIEVtIEVoaEV2IFFpIDhJdi1VRTlwSSBxRWtocwogICAgICAgICsrIEVtZiBGRW0gRWZmIFRqSWwgSUVGaiBFcyBFIHVqSWhJIEY5RXBzSS4gYkkgdWs5OSBsRWttVEVrbSBUakkgZVFROUlFbSB1SQogICAgICAgICsrIGhJRklrVUlmIHVqSW0gVGpJIGxJVGpRZiB1RXMgRkU5OUlmIEVtZiBxRXNzIGtUIGttVFEgVGpJIG1Jc1RJZiB1akloSS4KICAgICAgICBraSAoa3NfRWhoRXYoJGlraHNUKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVmZnRoaEV2TWliakloSXMoJGlraHNULCAkZVFROUlFbSwgJ3VqSWhJb1E5cGxtJyk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgSmtVSW0gUXFJaEVUUWgga3MgbVFUIGlRcG1mIGttIFRqSSA5a3NUIFFpIFVFOWtmIFFxSWhFVFFocyB1SSB1azk5CiAgICAgICAgKysgRXNzcGxJIFRqRVQgVGpJIGZJVUk5UXFJaCBrcyBMcHNUIHNqUWhULUZwVFRrbUogVGpJICc9JyBRcUloRVRRaHMgRW1mCiAgICAgICAgKysgdUkgdWs5OSBzSVQgVGpJIFFxSWhFVFFocyBUUSAnPScgRW1mIHNJVCBUakkgVUU5cElzIEVxcWhRcWhrRVRJOXYuCiAgICAgICAga2kgKCRUamtzLT5rbVVFOWtmTXFJaEVUUWgoJFFxSWhFVFFoKSkgewogICAgICAgICAgICBbJHNJRlFtZiwgJFFxSWhFVFFoXSA9IFskUXFJaEVUUWgsICc9J107CiAgICAgICAgfQoKICAgICAgICArKyAya21FOTl2LCB1SSB1azk5IEVmZiBUamtzIHVqSWhJIEY5RXBzSSBrbVRRIFRqa3MgRWhoRXYgUWkgRjlFcHNJcyBUakVUIHVJCiAgICAgICAgKysgRWhJIGVwazlma21KIGlRaCBUakkgUnBJaHYuIHQ5OSBRaSBUaklsIHVrOTkgZUkgRlFscWs5SWYgVWtFIEUgSmhFbGxFaAogICAgICAgICsrIFFtRkkgVGpJIFJwSWh2IGtzIEVlUXBUIFRRIGVJIElWSUZwVElmIEVtZiBocG0gRUpFa21zVCBUakkgZkVURWVFc0kuCiAgICAgICAgJFR2cUkgPSAnb1E5cGxtJzsKCiAgICAgICAgJFRqa3MtPnVqSWhJc1tdID0gRlFscUVGVCgKICAgICAgICAgICAgJ1R2cUknLCAnaWtoc1QnLCAnUXFJaEVUUWgnLCAnc0lGUW1mJywgJ2VRUTlJRW0nCiAgICAgICAgKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSIgRjlFcHNJIEZRbHFFaGttSiBUdVEgRlE5cGxtcyBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUp8RWhoRXYgICRpa2hzVAogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkc0lGUW1mCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJb1E5cGxtKCRpa2hzVCwgJFFxSWhFVFFoID0gbXA5OSwgJHNJRlFtZiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSW9ROXBsbSgkaWtoc1QsICRRcUloRVRRaCwgJHNJRlFtZiwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBoRXUgdWpJaEkgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNSOQogICAgICogQHFFaEVsICBsa1ZJZiAgJGVrbWZrbUpzCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJTkV1KCRzUjksICRla21ma21KcyA9IFtdLCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgICRUamtzLT51akloSXNbXSA9IFsnVHZxSScgPT4gJ2hFdScsICdzUjknID0+ICRzUjksICdlUVE5SUVtJyA9PiAkZVFROUlFbV07CgogICAgICAgICRUamtzLT5FZmZya21ma21KKChFaGhFdikgJGVrbWZrbUpzLCAndWpJaEknKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgaEV1IFFoIHVqSWhJIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRzUjkKICAgICAqIEBxRWhFbCAgbGtWSWYgICRla21ma21KcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSU5FdSgkc1I5LCAkZWttZmttSnMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJTkV1KCRzUjksICRla21ma21KcywgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAidWpJaEkga20iIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQHFFaEVsICBlUVE5ICAkbVFUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSUttKCRGUTlwbG0sICRVRTlwSXMsICRlUVE5SUVtID0gJ0VtZicsICRtUVQgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVHZxSSA9ICRtUVQgPyAnQVFUS20nIDogJ0ttJzsKCiAgICAgICAgKysgS2kgVGpJIFVFOXBJIGtzIEUgUnBJaHYgZXBrOWZJaCBrbXNURW1GSSB1SSB1azk5IEVzc3BsSSBUakkgZklVSTlRcUloIHVFbVRzIFRRCiAgICAgICAgKysgOVFROCBpUWggRW12IFVFOXBJcyBUakVUIElWa3NUIHVrVGprbSBUamtzIEprVUltIFJwSWh2LiBPUSwgdUkgdWs5OSBFZmYgVGpJCiAgICAgICAgKysgUnBJaHYgRUZGUWhma21KOXYgc1EgVGpFVCBUamtzIFJwSWh2IGtzIHFoUXFJaDl2IElWSUZwVElmIHVqSW0ga1Qga3MgaHBtLgogICAgICAgIGtpICgkVGprcy0+a3NHcElodkVlOUkoJFVFOXBJcykpIHsKICAgICAgICAgICAgWyRScElodiwgJGVrbWZrbUpzXSA9ICRUamtzLT5GaElFVElPcGUoJFVFOXBJcyk7CgogICAgICAgICAgICAkVUU5cElzID0gW21JdSBnVnFoSXNza1FtKCRScElodildOwoKICAgICAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAndWpJaEknKTsKICAgICAgICB9CgogICAgICAgICsrIEFJVlQsIGtpIFRqSSBVRTlwSSBrcyB0aGhFdkVlOUkgdUkgbUlJZiBUUSBGRXNUIGtUIFRRIGtUcyBoRXUgRWhoRXYgaVFobCBzUSB1SQogICAgICAgICsrIGpFVUkgVGpJIHBtZkloOXZrbUogRWhoRXYgVUU5cEkga21zVElFZiBRaSBFbSB0aGhFdkVlOUkgUWVMSUZUIHVqa0ZqIGtzIG1RVAogICAgICAgICsrIEVlOUkgVFEgZUkgRWZmSWYgRXMgRSBla21ma21KLCBJVEYuIGJJIHVrOTkgVGpJbSBFZmYgVFEgVGpJIHVqSWhJcyBFaGhFdi4KICAgICAgICBraSAoJFVFOXBJcyBrbXNURW1GSVFpIHRoaEV2RWU5SSkgewogICAgICAgICAgICAkVUU5cElzID0gJFVFOXBJcy0+VFF0aGhFdigpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnVqSWhJc1tdID0gRlFscUVGVCgnVHZxSScsICdGUTlwbG0nLCAnVUU5cElzJywgJ2VRUTlJRW0nKTsKCiAgICAgICAga2kgKEZRcG1UKCRVRTlwSXMpICE9PSBGUXBtVCh0aGg6Omk5RVRUSW0oJFVFOXBJcywgWCkpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0oJ0FJc1RJZiBFaGhFdnMgbEV2IG1RVCBlSSBxRXNzSWYgVFEgdWpJaElLbSBsSVRqUWYuJyk7CiAgICAgICAgfQoKICAgICAgICArKyAya21FOTl2LCB1SSc5OSBFZmYgRSBla21ma21KIGlRaCBJRUZqIFVFOXBJIHBtOUlzcyBUakVUIFVFOXBJIGtzIEVtIElWcWhJc3NrUW0KICAgICAgICArKyBrbSB1amtGaiBGRXNJIHVJIHVrOTkgTHBzVCBzOGtxIFFVSWgga1Qgc2ttRkkga1QgdWs5OSBlSSBUakkgUnBJaHYgRXMgRSBoRXUKICAgICAgICArKyBzVGhrbUogRW1mIG1RVCBFcyBFIHFFaEVsSVRJaGtXSWYgcTlFRkktalE5ZkloIFRRIGVJIGhJcTlFRklmIGV2IFRqSSBhbk0uCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFRqa3MtPkY5SUVtcmttZmttSnMoJFVFOXBJcyksICd1akloSScpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIGttIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJS20oJEZROXBsbSwgJFVFOXBJcykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJS20oJEZROXBsbSwgJFVFOXBJcywgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAidWpJaEkgbVFUIGttIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cElzCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJQVFUS20oJEZROXBsbSwgJFVFOXBJcywgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJS20oJEZROXBsbSwgJFVFOXBJcywgJGVRUTlJRW0sIFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSBtUVQga20iIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaElBUVRLbSgkRlE5cGxtLCAkVUU5cElzKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBUVRLbSgkRlE5cGxtLCAkVUU5cElzLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBrbSBoRXUiIEY5RXBzSSBpUWgga21USUpJaCBVRTlwSXMgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXHRoaEV2RWU5SXxFaGhFdiAgJFVFOXBJcwogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJS21USUpJaEttTkV1KCRGUTlwbG0sICRVRTlwSXMsICRlUVE5SUVtID0gJ0VtZicsICRtUVQgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVHZxSSA9ICRtUVQgPyAnQVFUS21ORXUnIDogJ0ttTkV1JzsKCiAgICAgICAga2kgKCRVRTlwSXMga21zVEVtRklRaSB0aGhFdkVlOUkpIHsKICAgICAgICAgICAgJFVFOXBJcyA9ICRVRTlwSXMtPlRRdGhoRXYoKTsKICAgICAgICB9CgogICAgICAgICRVRTlwSXMgPSB0aGg6Omk5RVRUSW0oJFVFOXBJcyk7CgogICAgICAgIGlRaElFRmogKCRVRTlwSXMgRXMgJiRVRTlwSSkgewogICAgICAgICAgICAkVUU5cEkgPSAoa21UKSAkVUU5cEk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+dWpJaElzW10gPSBGUWxxRUZUKCdUdnFJJywgJ0ZROXBsbScsICdVRTlwSXMnLCAnZVFROUlFbScpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIGttIGhFdSIgRjlFcHNJIGlRaCBrbVRJSkloIFVFOXBJcyBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJfEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJS21USUpJaEttTkV1KCRGUTlwbG0sICRVRTlwSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSUttVElKSWhLbU5FdSgkRlE5cGxtLCAkVUU5cElzLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBtUVQga20gaEV1IiBGOUVwc0kgaVFoIGttVElKSWggVUU5cElzIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcT3BxcVFoVFx0aGhFdkVlOUl8RWhoRXYgICRVRTlwSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElLbVRJSkloQVFUS21ORXUoJEZROXBsbSwgJFVFOXBJcywgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJS21USUpJaEttTkV1KCRGUTlwbG0sICRVRTlwSXMsICRlUVE5SUVtLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgbVFUIGttIGhFdSIgRjlFcHNJIGlRaCBrbVRJSkloIFVFOXBJcyBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJfEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJS21USUpJaEFRVEttTkV1KCRGUTlwbG0sICRVRTlwSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSUttVElKSWhBUVRLbU5FdSgkRlE5cGxtLCAkVUU5cElzLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBtcDk5IiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfEVoaEV2fFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtcwogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJQXA5OSgkRlE5cGxtcywgJGVRUTlJRW0gPSAnRW1mJywgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgICRUdnFJID0gJG1RVCA/ICdBUVRBcDk5JyA6ICdBcDk5JzsKCiAgICAgICAgaVFoSUVGaiAodGhoOjp1aEVxKCRGUTlwbG1zKSBFcyAkRlE5cGxtKSB7CiAgICAgICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ2VRUTlJRW0nKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgbXA5OSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFwOTkoJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJQXA5OSgkRlE5cGxtLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBtUVQgbXA5OSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElBUVRBcDk5KCRGUTlwbG1zLCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBcDk5KCRGUTlwbG1zLCAkZVFROUlFbSwgVGhwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSB1akloSSBlSVR1SUltIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAga1RJaEVlOUkgICRVRTlwSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQHFFaEVsICBlUVE5ICAkbVFUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSXJJVHVJSW0oJEZROXBsbSwga1RJaEVlOUkgJFVFOXBJcywgJGVRUTlJRW0gPSAnRW1mJywgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgICRUdnFJID0gJ2VJVHVJSW0nOwoKICAgICAgICBraSAoJFVFOXBJcyBrbXNURW1GSVFpIG9FaGVRbWFJaGtRZikgewogICAgICAgICAgICAkVUU5cElzID0gWyRVRTlwSXMtPnNURWhULCAkVUU5cElzLT5JbWZdOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnVqSWhJc1tdID0gRlFscUVGVCgnVHZxSScsICdGUTlwbG0nLCAnVUU5cElzJywgJ2VRUTlJRW0nLCAnbVFUJyk7CgogICAgICAgICRUamtzLT5FZmZya21ma21KKEVoaEV2X3M5a0ZJKCRUamtzLT5GOUlFbXJrbWZrbUpzKHRoaDo6aTlFVFRJbSgkVUU5cElzKSksIHcsIHgpLCAndWpJaEknKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgdWpJaEkgZUlUdUlJbSBzVEVUSWxJbVQgcHNrbUogRlE5cGxtcyBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQHFFaEVsICBlUVE5ICAkbVFUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSXJJVHVJSW1vUTlwbG1zKCRGUTlwbG0sIEVoaEV2ICRVRTlwSXMsICRlUVE5SUVtID0gJ0VtZicsICRtUVQgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVHZxSSA9ICdlSVR1SUltb1E5cGxtcyc7CgogICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ1VFOXBJcycsICdlUVE5SUVtJywgJ21RVCcpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gUWggdWpJaEkgZUlUdUlJbSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGtUSWhFZTlJICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJcklUdUlJbSgkRlE5cGxtLCBrVEloRWU5SSAkVUU5cElzKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElySVR1SUltKCRGUTlwbG0sICRVRTlwSXMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtIFFoIHVqSWhJIGVJVHVJSW0gc1RFVElsSW1UIHBza21KIEZROXBsbXMgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJcklUdUlJbW9ROXBsbXMoJEZROXBsbSwgRWhoRXYgJFVFOXBJcykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJcklUdUlJbW9ROXBsbXMoJEZROXBsbSwgJFVFOXBJcywgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSB1akloSSBtUVQgZUlUdUlJbSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGtUSWhFZTlJICAkVUU5cElzCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJQVFUcklUdUlJbSgkRlE5cGxtLCBrVEloRWU5SSAkVUU5cElzLCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElySVR1SUltKCRGUTlwbG0sICRVRTlwSXMsICRlUVE5SUVtLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHVqSWhJIG1RVCBlSVR1SUltIHNURVRJbEltVCBwc2ttSiBGUTlwbG1zIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSUFRVHJJVHVJSW1vUTlwbG1zKCRGUTlwbG0sIEVoaEV2ICRVRTlwSXMsICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSXJJVHVJSW1vUTlwbG1zKCRGUTlwbG0sICRVRTlwSXMsICRlUVE5SUVtLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBRaCB1akloSSBtUVQgZUlUdUlJbSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGtUSWhFZTlJICAkVUU5cElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJQVFUcklUdUlJbSgkRlE5cGxtLCBrVEloRWU5SSAkVUU5cElzKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBUVRySVR1SUltKCRGUTlwbG0sICRVRTlwSXMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtIFFoIHVqSWhJIG1RVCBlSVR1SUltIHNURVRJbEltVCBwc2ttSiBGUTlwbG1zIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFRVHJJVHVJSW1vUTlwbG1zKCRGUTlwbG0sIEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSUFRVHJJVHVJSW1vUTlwbG1zKCRGUTlwbG0sICRVRTlwSXMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSBtUVQgbXA5OSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFRVEFwOTkoJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJQVFUQXA5OSgkRlE5cGxtLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBmRVRJIiBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8bXA5OSAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJbkVUSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSA9IG1wOTksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9ICRUamtzLT5xaElxRWhJQkU5cEl0bWZNcUloRVRRaCgKICAgICAgICAgICAgJFVFOXBJLCAkUXFJaEVUUWgsIGlwbUZfbXBsX0VoSnMoKSA9PT0geAogICAgICAgICk7CgogICAgICAgICRVRTlwSSA9ICRUamtzLT5pOUVUVEltQkU5cEkoJFVFOXBJKTsKCiAgICAgICAga2kgKCRVRTlwSSBrbXNURW1GSVFpIG5FVElIa2xJS21USWhpRUZJKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRVRTlwSS0+aVFobEVUKCdjLWwtZicpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5FZmZuRVRJckVzSWZiakloSSgnbkVUSScsICRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAkZVFROUlFbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIGZFVEkiIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxtcDk5ICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaEluRVRJKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJID0gbXA5OSkKICAgIHsKICAgICAgICBbJFVFOXBJLCAkUXFJaEVUUWhdID0gJFRqa3MtPnFoSXFFaElCRTlwSXRtZk1xSWhFVFFoKAogICAgICAgICAgICAkVUU5cEksICRRcUloRVRRaCwgaXBtRl9tcGxfRWhKcygpID09PSB4CiAgICAgICAgKTsKCiAgICAgICAgaElUcGhtICRUamtzLT51akloSW5FVEkoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIFRrbEkiIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxtcDk5ICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElIa2xJKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBbJFVFOXBJLCAkUXFJaEVUUWhdID0gJFRqa3MtPnFoSXFFaElCRTlwSXRtZk1xSWhFVFFoKAogICAgICAgICAgICAkVUU5cEksICRRcUloRVRRaCwgaXBtRl9tcGxfRWhKcygpID09PSB4CiAgICAgICAgKTsKCiAgICAgICAgJFVFOXBJID0gJFRqa3MtPmk5RVRUSW1CRTlwSSgkVUU5cEkpOwoKICAgICAgICBraSAoJFVFOXBJIGttc1RFbUZJUWkgbkVUSUhrbElLbVRJaGlFRkkpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFVFOXBJLT5pUWhsRVQoJ1M6azpzJyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPkVmZm5FVElyRXNJZmJqSWhJKCdIa2xJJywgJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICRlUVE5SUVtKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgVGtsSSIgc1RFVElsSW1UIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfG1wOTkgICRRcUloRVRRaAogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfG1wOTkgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUhrbEkoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJSGtsSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAidWpJaEkgZkV2IiBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8a21UfG1wOTkgICRRcUloRVRRaAogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfGttVHxtcDk5ICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEluRXYoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICAkVUU5cEkgPSAkVGprcy0+aTlFVFRJbUJFOXBJKCRVRTlwSSk7CgogICAgICAgIGtpICgkVUU5cEkga21zVEVtRklRaSBuRVRJSGtsSUttVEloaUVGSSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVUU5cEktPmlRaGxFVCgnZicpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgJFVFOXBJIGttc1RFbUZJUWkgZ1ZxaElzc2tRbW9RbVRoRUZUKSB7CiAgICAgICAgICAgICRVRTlwSSA9IHNxaGttVGkoJyV3eGYnLCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5FZmZuRVRJckVzSWZiakloSSgnbkV2JywgJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICRlUVE5SUVtKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgZkV2IiBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8a21UfG1wOTkgICRRcUloRVRRaAogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfGttVHxtcDk5ICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaEluRXYoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJbkV2KCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBsUW1UaiIgc1RFVElsSW1UIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfGttVHxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxrbVR8bXA5OSAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJM1FtVGooJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICAkVUU5cEkgPSAkVGprcy0+aTlFVFRJbUJFOXBJKCRVRTlwSSk7CgogICAgICAgIGtpICgkVUU5cEkga21zVEVtRklRaSBuRVRJSGtsSUttVEloaUVGSSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVUU5cEktPmlRaGxFVCgnbCcpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgJFVFOXBJIGttc1RFbUZJUWkgZ1ZxaElzc2tRbW9RbVRoRUZUKSB7CiAgICAgICAgICAgICRVRTlwSSA9IHNxaGttVGkoJyV3eGYnLCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5FZmZuRVRJckVzSWZiakloSSgnM1FtVGonLCAkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJGVRUTlJRW0pOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSBsUW1UaiIgc1RFVElsSW1UIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkl8c1Roa21KfGttVHxtcDk5ICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxrbVR8bXA5OSAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJM1FtVGooJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJM1FtVGooJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIHZJRWgiIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxrbVR8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8a21UfG1wOTkgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSWNJRWgoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICAkVUU5cEkgPSAkVGprcy0+aTlFVFRJbUJFOXBJKCRVRTlwSSk7CgogICAgICAgIGtpICgkVUU5cEkga21zVEVtRklRaSBuRVRJSGtsSUttVEloaUVGSSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVUU5cEktPmlRaGxFVCgnYycpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5FZmZuRVRJckVzSWZiakloSSgnY0lFaCcsICRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAkZVFROUlFbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIHZJRWgiIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgXG5FVElIa2xJS21USWhpRUZJfHNUaGttSnxrbVR8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSXxzVGhrbUp8a21UfG1wOTkgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSWNJRWgoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJY0lFaCgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBmRVRJIGVFc0lmICh2SUVoLCBsUW1UaiwgZkV2LCBUa2xJKSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVHZxSQogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZuRVRJckVzSWZiakloSSgkVHZxSSwgJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgJFRqa3MtPnVqSWhJc1tdID0gRlFscUVGVCgnRlE5cGxtJywgJ1R2cUknLCAnZVFROUlFbScsICdRcUloRVRRaCcsICdVRTlwSScpOwoKICAgICAgICBraSAoISAkVUU5cEkga21zVEVtRklRaSBnVnFoSXNza1Ftb1FtVGhFRlQpIHsKICAgICAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFVFOXBJLCAndWpJaEknKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIG1Jc1RJZiB1akloSSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEkgICRGRTk5ZUVGOAogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSUFJc1RJZihvOVFzcGhJICRGRTk5ZUVGOCwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICAkRkU5OWVFRjgoJFJwSWh2ID0gJFRqa3MtPmlRaEFJc1RJZmJqSWhJKCkpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPkVmZkFJc1RJZmJqSWhJR3BJaHYoJFJwSWh2LCAkZVFROUlFbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgUnBJaHYga21zVEVtRkkgaVFoIG1Jc1RJZiB1akloSSBGUW1ma1RrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEFJc1RJZmJqSWhJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2KCktPmloUWwoJFRqa3MtPmloUWwpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtUVRqSWggUnBJaHYgZXBrOWZJaCBFcyBFIG1Jc1RJZiB1akloSSBUUSBUakkgUnBJaHYgZXBrOWZJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZkFJc1RJZmJqSWhJR3BJaHYoJFJwSWh2LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIGtpIChGUXBtVCgkUnBJaHYtPnVqSWhJcykpIHsKICAgICAgICAgICAgJFR2cUkgPSAnQUlzVElmJzsKCiAgICAgICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnUnBJaHYnLCAnZVFROUlFbScpOwoKICAgICAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFJwSWh2LT5KSVRORXVya21ma21KcygpWyd1akloSSddLCAndWpJaEknKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGlwOTkgc3BlLXNJOUlGVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8fFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRGRTk5ZUVGOAogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSB1akloSU9wZSgkRlE5cGxtLCAkUXFJaEVUUWgsICRGRTk5ZUVGOCwgJGVRUTlJRW0pCiAgICB7CiAgICAgICAgJFR2cUkgPSAnT3BlJzsKCiAgICAgICAga2kgKCRGRTk5ZUVGOCBrbXNURW1GSVFpIG85UXNwaEkpIHsKICAgICAgICAgICAgKysgTW1GSSB1SSBqRVVJIFRqSSBScElodiBrbXNURW1GSSB1SSBGRW0gc2tscTl2IElWSUZwVEkga1Qgc1Ega1QgRkVtIEVmZiBFOTkKICAgICAgICAgICAgKysgUWkgVGpJIHNwZS1zSTlJRlQncyBGUW1ma1RrUW1zIFRRIGtUc0k5aSwgRW1mIFRqSW0gdUkgRkVtIEZFRmpJIGtUIFFpaQogICAgICAgICAgICArKyBrbSBUakkgRWhoRXYgUWkgdWpJaEkgRjlFcHNJcyBpUWggVGpJICJsRWttIiBxRWhJbVQgUnBJaHYga21zVEVtRkkuCiAgICAgICAgICAgICRGRTk5ZUVGOCgkUnBJaHYgPSAkVGprcy0+aVFoT3BlR3BJaHYoKSk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFJwSWh2ID0gJEZFOTllRUY4IGttc1RFbUZJUWkgZzlRUnBJbVRycGs5ZkloID8gJEZFOTllRUY4LT5UUXJFc0koKSA6ICRGRTk5ZUVGODsKICAgICAgICB9CgogICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoCiAgICAgICAgICAgICdUdnFJJywgJ0ZROXBsbScsICdRcUloRVRRaCcsICdScElodicsICdlUVE5SUVtJwogICAgICAgICk7CgogICAgICAgICRUamtzLT5FZmZya21ma21KKCRScElodi0+SklUcmttZmttSnMoKSwgJ3VqSWhJJyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBJVmtzVHMgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRGRTk5ZUVGOAogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJZ1Zrc1RzKCRGRTk5ZUVGOCwgJGVRUTlJRW0gPSAnRW1mJywgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgIGtpICgkRkU5OWVFRjgga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRScElodiA9ICRUamtzLT5pUWhPcGVHcElodigpOwoKICAgICAgICAgICAgKysgT2tsazlFaCBUUSBUakkgc3BlLXNJOUlGVCBGOUVwc0ksIHVJIHVrOTkgRmhJRVRJIEUgbUl1IFJwSWh2IGttc1RFbUZJIHNRCiAgICAgICAgICAgICsrIFRqSSBmSVVJOVFxSWggbEV2IEY5SUVtOXYgc3FJRmtpdiBUakkgSW1Ua2hJIElWa3NUcyBScElodiBFbWYgdUkgdWs5OQogICAgICAgICAgICArKyBGUWxxazlJIFRqSSB1alE5SSBUamttSiBrbSBUakkgSmhFbGxFaCBFbWYga21zSWhUIGtUIGttVFEgVGpJIE9HNi4KICAgICAgICAgICAgJEZFOTllRUY4KCRScElodik7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFJwSWh2ID0gJEZFOTllRUY4IGttc1RFbUZJUWkgZzlRUnBJbVRycGs5ZkloID8gJEZFOTllRUY4LT5UUXJFc0koKSA6ICRGRTk5ZUVGODsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+RWZmYmpJaElnVmtzVHNHcElodigkUnBJaHYsICRlUVE5SUVtLCAkbVFUKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSBRaCBJVmtzVHMgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRGRTk5ZUVGOAogICAgICogQHFFaEVsICBlUVE5ICAkbVFUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJZ1Zrc1RzKCRGRTk5ZUVGOCwgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElnVmtzVHMoJEZFOTllRUY4LCAnUWgnLCAkbVFUKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHVqSWhJIG1RVCBJVmtzVHMgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRGRTk5ZUVGOAogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSUFRVGdWa3NUcygkRkU5OWVFRjgsICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSWdWa3NUcygkRkU5OWVFRjgsICRlUVE5SUVtLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHVqSWhJIG1RVCBJVmtzVHMgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRGRTk5ZUVGOAogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFRVGdWa3NUcygkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaGJqSWhJZ1Zrc1RzKCRGRTk5ZUVGOCwgVGhwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gSVZrc1RzIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZmJqSWhJZ1Zrc1RzR3BJaHYoc0k5aSAkUnBJaHYsICRlUVE5SUVtID0gJ0VtZicsICRtUVQgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVHZxSSA9ICRtUVQgPyAnQVFUZ1Zrc1RzJyA6ICdnVmtzVHMnOwoKICAgICAgICAkVGprcy0+dWpJaElzW10gPSBGUWxxRUZUKCdUdnFJJywgJ1JwSWh2JywgJ2VRUTlJRW0nKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFJwSWh2LT5KSVRya21ma21KcygpLCAndWpJaEknKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmcyBFIHVqSWhJIEZRbWZrVGtRbSBwc2ttSiBoUXUgVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqCiAgICAgKiBAVGpoUXVzIFxLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJTlF1QkU5cElzKCRGUTlwbG1zLCAkUXFJaEVUUWgsICRVRTlwSXMsICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAga2kgKEZRcG1UKCRGUTlwbG1zKSAhPT0gRlFwbVQoJFVFOXBJcykpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbSgnSGpJIG1wbGVJaCBRaSBGUTlwbG1zIGxwc1QgbEVURmogVGpJIG1wbGVJaCBRaSBVRTlwSXMnKTsKICAgICAgICB9CgogICAgICAgICRUdnFJID0gJ05RdUJFOXBJcyc7CgogICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtcycsICdRcUloRVRRaCcsICdVRTlwSXMnLCAnZVFROUlFbScpOwoKICAgICAgICAkVGprcy0+RWZmcmttZmttSigkVGprcy0+RjlJRW1ya21ma21KcygkVUU5cElzKSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZnMgRW0gUWggdWpJaEkgRlFtZmtUa1FtIHBza21KIGhRdSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaElOUXVCRTlwSXMoJEZROXBsbXMsICRRcUloRVRRaCwgJFVFOXBJcykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJTlF1QkU5cElzKCRGUTlwbG1zLCAkUXFJaEVUUWgsICRVRTlwSXMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIERPTUEgRlFtVEVrbXMiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJRHNRbW9RbVRFa21zKCRGUTlwbG0sICRVRTlwSSwgJGVRUTlJRW0gPSAnRW1mJywgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgICRUdnFJID0gJ0RzUW1vUW1URWttcyc7CgogICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ1VFOXBJJywgJ2VRUTlJRW0nLCAnbVFUJyk7CgogICAgICAgIGtpICghICRVRTlwSSBrbXNURW1GSVFpIGdWcWhJc3NrUW1vUW1UaEVGVCkgewogICAgICAgICAgICAkVGprcy0+RWZmcmttZmttSigkVGprcy0+SmhFbGxFaC0+cWhJcUVoSXJrbWZrbUoyUWhEc1Ftb1FtVEVrbXMoJFVFOXBJKSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIERPTUEgRlFtVEVrbXMiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSURzUW1vUW1URWttcygkRlE5cGxtLCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSURzUW1vUW1URWttcygkRlE5cGxtLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIERPTUEgbVFUIEZRbVRFa21zIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElEc1FtblFJc21Ub1FtVEVrbSgkRlE5cGxtLCAkVUU5cEksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSURzUW1vUW1URWttcygkRlE5cGxtLCAkVUU5cEksICRlUVE5SUVtLCBUaHBJKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgRE9NQSBtUVQgRlFtVEVrbXMiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSURzUW1uUUlzbVRvUW1URWttKCRGUTlwbG0sICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJRHNRbW5RSXNtVG9RbVRFa20oJEZROXBsbSwgJFVFOXBJLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIEY5RXBzSSBUakVUIGZJVElobGttSXMga2kgRSBET01BIHFFVGogSVZrc1RzIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJRHNRbW9RbVRFa21zMUl2KCRGUTlwbG0sICRlUVE5SUVtID0gJ0VtZicsICRtUVQgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVHZxSSA9ICdEc1Ftb1FtVEVrbXMxSXYnOwoKICAgICAgICAkVGprcy0+dWpJaElzW10gPSBGUWxxRUZUKCdUdnFJJywgJ0ZROXBsbScsICdlUVE5SUVtJywgJ21RVCcpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIiBGOUVwc0kgVGpFVCBmSVRJaGxrbUlzIGtpIEUgRE9NQSBxRVRqIElWa3NUcyBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaElEc1Ftb1FtVEVrbXMxSXYoJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJRHNRbW9RbVRFa21zMUl2KCRGUTlwbG0sICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgRjlFcHNJIFRqRVQgZklUSWhsa21JcyBraSBFIERPTUEgcUVUaiBmUUlzIG1RVCBJVmtzVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElEc1FtblFJc21Ub1FtVEVrbTFJdigkRlE5cGxtLCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElEc1Ftb1FtVEVrbXMxSXYoJEZROXBsbSwgJGVRUTlJRW0sIFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCIgRjlFcHNJIFRqRVQgZklUSWhsa21JcyBraSBFIERPTUEgcUVUaiBmUUlzIG1RVCBJVmtzVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaElEc1FtblFJc21Ub1FtVEVrbTFJdigkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElEc1FtblFJc21Ub1FtVEVrbTFJdigkRlE5cGxtLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJ1akloSSBET01BIDlJbUpUaiIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElEc1FtNkltSlRqKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICAkVHZxSSA9ICdEc1FtNkltSlRqJzsKCiAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9ICRUamtzLT5xaElxRWhJQkU5cEl0bWZNcUloRVRRaCgKICAgICAgICAgICAgJFVFOXBJLCAkUXFJaEVUUWgsIGlwbUZfbXBsX0VoSnMoKSA9PT0geAogICAgICAgICk7CgogICAgICAgICRUamtzLT51akloSXNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ1FxSWhFVFFoJywgJ1VFOXBJJywgJ2VRUTlJRW0nKTsKCiAgICAgICAga2kgKCEgJFVFOXBJIGttc1RFbUZJUWkgZ1ZxaElzc2tRbW9RbVRoRUZUKSB7CiAgICAgICAgICAgICRUamtzLT5FZmZya21ma21KKChrbVQpICRUamtzLT5pOUVUVEltQkU5cEkoJFVFOXBJKSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIERPTUEgOUltSlRqIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSURzUW02SW1KVGooJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJRHNRbTZJbUpUaigkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBTRW1mOUlzIGZ2bUVsa0YgInVqSWhJIiBGOUVwc0lzIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZ2bUVsa0ZiakloSSgkbElUalFmLCAkcUVoRWxJVElocykKICAgIHsKICAgICAgICAkaWttZkloID0gc3Blc1RoKCRsSVRqUWYsIFopOwoKICAgICAgICAkc0lKbEltVHMgPSBxaElKX3NxOWtUKAogICAgICAgICAgICAnKyh0bWZ8TWgpKD89W3QtZF0pKycsICRpa21mSWgsIC1YLCBhTmcwX09hNktIX25nNkszX290YUhQTmcKICAgICAgICApOwoKICAgICAgICArKyBIakkgRlFtbUlGVFFoIFVFaGtFZTlJIHVrOTkgZklUSWhsa21JIHVqa0ZqIEZRbW1JRlRRaCB1azk5IGVJIHBzSWYgaVFoIFRqSQogICAgICAgICsrIFJwSWh2IEZRbWZrVGtRbS4gYkkgdWs5OSBGakVtSkkga1QgRXMgdUkgRlFsSSBFRmhRc3MgbUl1IGVRUTlJRW0gVUU5cElzCiAgICAgICAgKysga20gVGpJIGZ2bUVsa0YgbElUalFmIHNUaGttSnMsIHVqa0ZqIEZRcDlmIEZRbVRFa20gRSBtcGxlSWggUWkgVGpJc0kuCiAgICAgICAgJEZRbW1JRlRRaCA9ICdFbWYnOwoKICAgICAgICAka21mSVYgPSB3OwoKICAgICAgICBpUWhJRUZqICgkc0lKbEltVHMgRXMgJHNJSmxJbVQpIHsKICAgICAgICAgICAgKysgS2kgVGpJIHNJSmxJbVQga3MgbVFUIEUgZVFROUlFbSBGUW1tSUZUUWgsIHVJIEZFbSBFc3NwbEkga1Qga3MgRSBGUTlwbG0ncyBtRWxJCiAgICAgICAgICAgICsrIEVtZiB1SSB1azk5IEVmZiBrVCBUUSBUakkgUnBJaHYgRXMgRSBtSXUgRlFtc1RoRWttVCBFcyBFIHVqSWhJIEY5RXBzSSwgVGpJbQogICAgICAgICAgICArKyB1SSBGRW0gOElJcSBrVEloRVRrbUogVGpoUXBKaiBUakkgZnZtRWxrRiBsSVRqUWYgc1Roa21KJ3Mgc0lKbEltVHMgRUpFa20uCiAgICAgICAgICAgIGtpICgkc0lKbEltVCAhPT0gJ3RtZicgJiYgJHNJSmxJbVQgIT09ICdNaCcpIHsKICAgICAgICAgICAgICAgICRUamtzLT5FZmZudm1FbGtGKCRzSUpsSW1ULCAkRlFtbUlGVFFoLCAkcUVoRWxJVElocywgJGttZklWKTsKCiAgICAgICAgICAgICAgICAka21mSVYvLzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKysgTVRqSWh1a3NJLCB1SSB1azk5IHNUUWhJIFRqSSBGUW1tSUZUUWggc1EgdUkgOG1RdSBqUXUgVGpJIG1JVlQgdWpJaEkgRjlFcHNJIHVJCiAgICAgICAgICAgICsrIGlrbWYga20gVGpJIFJwSWh2IHNqUXA5ZiBlSSBGUW1tSUZUSWYgVFEgVGpJIHFoSVVrUXBzIFFtSXMsIGxJRW1rbUogdUkgdWs5OQogICAgICAgICAgICArKyBqRVVJIFRqSSBxaFFxSWggZVFROUlFbSBGUW1tSUZUUWggVFEgRlFtbUlGVCBUakkgbUlWVCB1akloSSBGOUVwc0kgaVFwbWYuCiAgICAgICAgICAgIEk5c0kgewogICAgICAgICAgICAgICAgJEZRbW1JRlRRaCA9ICRzSUpsSW1UOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBza21KOUkgZnZtRWxrRiB1akloSSBGOUVwc0kgc1RFVElsSW1UIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNJSmxJbVQKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlFtbUlGVFFoCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQHFFaEVsICBrbVQgICRrbWZJVgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZudm1FbGtGKCRzSUpsSW1ULCAkRlFtbUlGVFFoLCAkcUVoRWxJVElocywgJGttZklWKQogICAgewogICAgICAgICsrIE1tRkkgdUkgakVVSSBxRWhzSWYgUXBUIFRqSSBGUTlwbG1zIEVtZiBpUWhsRVRUSWYgVGpJIGVRUTlJRW0gUXFJaEVUUWhzIHVJCiAgICAgICAgKysgRWhJIGhJRWZ2IFRRIEVmZiBrVCBUUSBUamtzIFJwSWh2IEVzIEUgdWpJaEkgRjlFcHNJIExwc1QgOWs4SSBFbXYgUVRqSWgKICAgICAgICArKyBGOUVwc0kgUW0gVGpJIFJwSWh2LiBIakltIHVJJzk5IGttRmhJbEltVCBUakkgcUVoRWxJVEloIGttZklWIFVFOXBJcy4KICAgICAgICAkZVFROSA9IHNUaFRROVF1SWgoJEZRbW1JRlRRaCk7CgogICAgICAgICRUamtzLT51akloSShPVGg6OnNtRThJKCRzSUpsSW1UKSwgJz0nLCAkcUVoRWxJVEloc1ska21mSVZdLCAkZVFROSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAidWpJaEkgaXA5OVRJVlQiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8c1Roa21KW10gICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJMnA5OUhJVlQoJEZROXBsbXMsICRVRTlwSSwgRWhoRXYgJFFxVGtRbXMgPSBbXSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICAkVHZxSSA9ICcycDk5VElWVCc7CgogICAgICAgICRGUTlwbG1zID0gKEVoaEV2KSAkRlE5cGxtczsKCiAgICAgICAgJFRqa3MtPnVqSWhJc1tdID0gRlFscUVGVCgnVHZxSScsICdGUTlwbG1zJywgJ1VFOXBJJywgJ1FxVGtRbXMnLCAnZVFROUlFbScpOwoKICAgICAgICAkVGprcy0+RWZmcmttZmttSigkVUU5cEkpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAiUWggdWpJaEkgaXA5OVRJVlQiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8c1Roa21KW10gICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJMnA5OUhJVlQoJEZROXBsbXMsICRVRTlwSSwgRWhoRXYgJFFxVGtRbXMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJMnA5OVRJVlQoJEZROXBsbXMsICRVRTlwSSwgJFFxVGtRbXMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgInVqSWhJIiBGOUVwc0kgVFEgVGpJIFJwSWh2IGlRaCBscDlUa3E5SSBGUTlwbG1zIHVrVGogIkVtZiIgRlFtZmtUa1FtcyBlSVR1SUltIFRqSWwuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUpbXSAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgbGtWSWYgICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJdDk5KCRGUTlwbG1zLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICAkVGprcy0+dWpJaElBSXNUSWYoaXBtRlRrUW0gKCRScElodikgcHNJICgkRlE5cGxtcywgJFFxSWhFVFFoLCAkVUU5cEkpIHsKICAgICAgICAgICAgaVFoSUVGaiAoJEZROXBsbXMgRXMgJEZROXBsbSkgewogICAgICAgICAgICAgICAgJFJwSWh2LT51akloSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ0VtZicpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgJGVRUTlJRW0pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIHVqSWhJIiBGOUVwc0kgVFEgVGpJIFJwSWh2IGlRaCBscDlUa3E5SSBGUTlwbG1zIHVrVGogIkVtZiIgRlFtZmtUa1FtcyBlSVR1SUltIFRqSWwuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUpbXSAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSXQ5OSgkRlE5cGxtcywgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJdDk5KCRGUTlwbG1zLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gInVqSWhJIiBGOUVwc0kgVFEgVGpJIFJwSWh2IGlRaCBscDlUa3E5SSBGUTlwbG1zIHVrVGogIlFoIiBGUW1ma1RrUW1zIGVJVHVJSW0gVGpJbC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSltdICAkRlE5cGxtcwogICAgICogQHFFaEVsICBzVGhrbUogICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJdG12KCRGUTlwbG1zLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICAkVGprcy0+dWpJaElBSXNUSWYoaXBtRlRrUW0gKCRScElodikgcHNJICgkRlE5cGxtcywgJFFxSWhFVFFoLCAkVUU5cEkpIHsKICAgICAgICAgICAgaVFoSUVGaiAoJEZROXBsbXMgRXMgJEZROXBsbSkgewogICAgICAgICAgICAgICAgJFJwSWh2LT51akloSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAkZVFROUlFbSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkiIEY5RXBzSSBUUSBUakkgUnBJaHYgaVFoIGxwOVRrcTlJIEZROXBsbXMgdWtUaiAiUWgiIEZRbWZrVGtRbXMgZUlUdUlJbSBUaklsLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KW10gICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaEl0bXYoJEZROXBsbXMsICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSXRtdigkRlE5cGxtcywgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgIkpoUXBxIGV2IiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAuLi4kSmhRcHFzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKaFFwcXJ2KC4uLiRKaFFwcXMpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJEpoUXBxcyBFcyAkSmhRcHEpIHsKICAgICAgICAgICAgJFRqa3MtPkpoUXBxcyA9IEVoaEV2X2xJaEpJKAogICAgICAgICAgICAgICAgKEVoaEV2KSAkVGprcy0+SmhRcHFzLAogICAgICAgICAgICAgICAgdGhoOjp1aEVxKCRKaFFwcSkKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGhFdSBKaFFwcXJ2IEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRzUjkKICAgICAqIEBxRWhFbCAgRWhoRXYgICRla21ma21KcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSmhRcHFydk5FdSgkc1I5LCBFaGhFdiAkZWttZmttSnMgPSBbXSkKICAgIHsKICAgICAgICAkVGprcy0+SmhRcHFzW10gPSBtSXUgZ1ZxaElzc2tRbSgkc1I5KTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAnSmhRcHFydicpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAiakVVa21KIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18XG85UXNwaEl8c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVR8aTlRRVR8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVR8aTlRRVR8bXA5OSAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFVWttSigkRlE5cGxtLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgICRUdnFJID0gJ3JFc2tGJzsKCiAgICAgICAga2kgKCRGUTlwbG0ga21zVEVtRklRaSBvUW1ma1RrUW1nVnFoSXNza1FtKSB7CiAgICAgICAgICAgICRUdnFJID0gJ2dWcWhJc3NrUW0nOwoKICAgICAgICAgICAgJFRqa3MtPmpFVWttSnNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ2VRUTlJRW0nKTsKCiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CgogICAgICAgICsrIFNJaEkgdUkgdWs5OSBsRThJIHNRbEkgRXNzcGxxVGtRbXMgRWVRcFQgVGpJIFFxSWhFVFFoLiBLaSBRbTl2IHggVUU5cElzIEVoSQogICAgICAgICsrIHFFc3NJZiBUUSBUakkgbElUalFmLCB1SSB1azk5IEVzc3BsSSBUakVUIFRqSSBRcUloRVRRaCBrcyBFbSBJUnBFOXMgc2tKbQogICAgICAgICsrIEVtZiA4SUlxIEpRa21KLiBNVGpJaHVrc0ksIHVJJzk5IGhJUnBraEkgVGpJIFFxSWhFVFFoIFRRIGVJIHFFc3NJZiBrbS4KICAgICAgICBbJFVFOXBJLCAkUXFJaEVUUWhdID0gJFRqa3MtPnFoSXFFaElCRTlwSXRtZk1xSWhFVFFoKAogICAgICAgICAgICAkVUU5cEksICRRcUloRVRRaCwgaXBtRl9tcGxfRWhKcygpID09PSB4CiAgICAgICAgKTsKCiAgICAgICAga2kgKCRGUTlwbG0ga21zVEVtRklRaSBvOVFzcGhJICYmIGtzX21wOTkoJFFxSWhFVFFoKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmpFVWttSkFJc1RJZigkRlE5cGxtLCAkZVFROUlFbSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgSmtVSW0gUXFJaEVUUWgga3MgbVFUIGlRcG1mIGttIFRqSSA5a3NUIFFpIFVFOWtmIFFxSWhFVFFocyB1SSB1azk5CiAgICAgICAgKysgRXNzcGxJIFRqRVQgVGpJIGZJVUk5UXFJaCBrcyBMcHNUIHNqUWhULUZwVFRrbUogVGpJICc9JyBRcUloRVRRaHMgRW1mCiAgICAgICAgKysgdUkgdWs5OSBzSVQgVGpJIFFxSWhFVFFocyBUUSAnPScgRW1mIHNJVCBUakkgVUU5cElzIEVxcWhRcWhrRVRJOXYuCiAgICAgICAga2kgKCRUamtzLT5rbVVFOWtmTXFJaEVUUWgoJFFxSWhFVFFoKSkgewogICAgICAgICAgICBbJFVFOXBJLCAkUXFJaEVUUWhdID0gWyRRcUloRVRRaCwgJz0nXTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3Nya1R1a3NJTXFJaEVUUWgoJFFxSWhFVFFoKSkgewogICAgICAgICAgICAkVHZxSSA9ICdya1R1a3NJJzsKICAgICAgICB9CgogICAgICAgICRUamtzLT5qRVVrbUpzW10gPSBGUWxxRUZUKCdUdnFJJywgJ0ZROXBsbScsICdRcUloRVRRaCcsICdVRTlwSScsICdlUVE5SUVtJyk7CgogICAgICAgIGtpICghICRVRTlwSSBrbXNURW1GSVFpIGdWcWhJc3NrUW1vUW1UaEVGVCkgewogICAgICAgICAgICAkVGprcy0+RWZmcmttZmttSigkVGprcy0+aTlFVFRJbUJFOXBJKCRVRTlwSSksICdqRVVrbUonKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggakVVa21KIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18XG85UXNwaEl8c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVR8aTlRRVR8bXA5OSAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVR8aTlRRVR8bXA5OSAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaFNFVWttSigkRlE5cGxtLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIFskVUU5cEksICRRcUloRVRRaF0gPSAkVGprcy0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPmpFVWttSigkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBtSXNUSWYgakVVa21KIHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSSAgJEZFOTllRUY4CiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFVWttSkFJc1RJZihvOVFzcGhJICRGRTk5ZUVGOCwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICAkRkU5OWVFRjgoJFJwSWh2ID0gJFRqa3MtPmlRaEFJc1RJZmJqSWhJKCkpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPkVmZkFJc1RJZlNFVWttSkdwSWh2KCRScElodiwgJGVRUTlJRW0pOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtUVRqSWggUnBJaHYgZXBrOWZJaCBFcyBFIG1Jc1RJZiBqRVVrbUogVFEgVGpJIFJwSWh2IGVwazlmSWguCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZBSXNUSWZTRVVrbUpHcElodigkUnBJaHYsICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAga2kgKEZRcG1UKCRScElodi0+akVVa21KcykpIHsKICAgICAgICAgICAgJFR2cUkgPSAnQUlzVElmJzsKCiAgICAgICAgICAgICRUamtzLT5qRVVrbUpzW10gPSBGUWxxRUZUKCdUdnFJJywgJ1JwSWh2JywgJ2VRUTlJRW0nKTsKCiAgICAgICAgICAgICRUamtzLT5FZmZya21ma21KKCRScElodi0+SklUTkV1cmttZmttSnMoKVsnakVVa21KJ10sICdqRVVrbUonKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJqRVVrbUogbXA5OSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxFaGhFdiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQHFFaEVsICBlUVE5ICAkbVFUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRVVrbUpBcDk5KCRGUTlwbG1zLCAkZVFROUlFbSA9ICdFbWYnLCAkbVFUID0gaUU5c0kpCiAgICB7CiAgICAgICAgJFR2cUkgPSAkbVFUID8gJ0FRVEFwOTknIDogJ0FwOTknOwoKICAgICAgICBpUWhJRUZqICh0aGg6OnVoRXEoJEZROXBsbXMpIEVzICRGUTlwbG0pIHsKICAgICAgICAgICAgJFRqa3MtPmpFVWttSnNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ2VRUTlJRW0nKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggakVVa21KIG1wOTkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoU0VVa21KQXA5OSgkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+akVVa21KQXA5OSgkRlE5cGxtLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFICJqRVVrbUogbVFUIG1wOTkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8RWhoRXYgICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFVWttSkFRVEFwOTkoJEZROXBsbXMsICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRVVrbUpBcDk5KCRGUTlwbG1zLCAkZVFROUlFbSwgVGhwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoIGpFVWttSiBtUVQgbXA5OSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhTRVVrbUpBUVRBcDk5KCRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRVVrbUpBUVRBcDk5KCRGUTlwbG0sICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgImpFVWttSiBlSVR1SUltICIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBrVEloRWU5SSAgJFVFOXBJcwogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAcUVoRWwgIGVRUTkgICRtUVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFVWttSnJJVHVJSW0oJEZROXBsbSwga1RJaEVlOUkgJFVFOXBJcywgJGVRUTlJRW0gPSAnRW1mJywgJG1RVCA9IGlFOXNJKQogICAgewogICAgICAgICRUdnFJID0gJ2VJVHVJSW0nOwoKICAgICAgICBraSAoJFVFOXBJcyBrbXNURW1GSVFpIG9FaGVRbWFJaGtRZikgewogICAgICAgICAgICAkVUU5cElzID0gWyRVRTlwSXMtPnNURWhULCAkVUU5cElzLT5JbWZdOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPmpFVWttSnNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnRlE5cGxtJywgJ1VFOXBJcycsICdlUVE5SUVtJywgJ21RVCcpOwoKICAgICAgICAkVGprcy0+RWZmcmttZmttSihFaGhFdl9zOWtGSSgkVGprcy0+RjlJRW1ya21ma21Kcyh0aGg6Omk5RVRUSW0oJFVFOXBJcykpLCB3LCB4KSwgJ2pFVWttSicpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBoRXUgakVVa21KIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRzUjkKICAgICAqIEBxRWhFbCAgRWhoRXYgICRla21ma21KcwogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRVVrbUpORXUoJHNSOSwgRWhoRXYgJGVrbWZrbUpzID0gW10sICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgJFR2cUkgPSAnTkV1JzsKCiAgICAgICAgJFRqa3MtPmpFVWttSnNbXSA9IEZRbHFFRlQoJ1R2cUknLCAnc1I5JywgJ2VRUTlJRW0nKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAnakVVa21KJyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGhFdSBRaCBqRVVrbUogRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNSOQogICAgICogQHFFaEVsICBFaGhFdiAgJGVrbWZrbUpzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaFNFVWttSk5FdSgkc1I5LCBFaGhFdiAkZWttZmttSnMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmpFVWttSk5FdSgkc1I5LCAkZWttZmttSnMsICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaGZJaCBldiIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGZraElGVGtRbQogICAgICogQGhJVHBobSAkVGprcwogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhmSWhydigkRlE5cGxtLCAkZmtoSUZUa1FtID0gJ0VzRicpCiAgICB7CiAgICAgICAga2kgKCRUamtzLT5rc0dwSWh2RWU5SSgkRlE5cGxtKSkgewogICAgICAgICAgICBbJFJwSWh2LCAkZWttZmttSnNdID0gJFRqa3MtPkZoSUVUSU9wZSgkRlE5cGxtKTsKCiAgICAgICAgICAgICRGUTlwbG0gPSBtSXUgZ1ZxaElzc2tRbSgnKCcuJFJwSWh2LicpJyk7CgogICAgICAgICAgICAkVGprcy0+RWZmcmttZmttSigkZWttZmttSnMsICRUamtzLT5wbWtRbXMgPyAncG1rUW1NaGZJaCcgOiAnUWhmSWgnKTsKICAgICAgICB9CgogICAgICAgICRma2hJRlRrUW0gPSBzVGhUUTlRdUloKCRma2hJRlRrUW0pOwoKICAgICAgICBraSAoISBrbV9FaGhFdigkZmtoSUZUa1FtLCBbJ0VzRicsICdmSXNGJ10sIFRocEkpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0oJ01oZkloIGZraElGVGtRbSBscHNUIGVJICJFc0YiIFFoICJmSXNGIi4nKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT57JFRqa3MtPnBta1FtcyA/ICdwbWtRbU1oZklocycgOiAnUWhmSWhzJ31bXSA9IFsKICAgICAgICAgICAgJ0ZROXBsbScgPT4gJEZROXBsbSwKICAgICAgICAgICAgJ2ZraElGVGtRbScgPT4gJGZraElGVGtRbSwKICAgICAgICBdOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBmSXNGSW1ma21KICJRaGZJaCBldiIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGZJaHJ2bklzRigkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UWhmSWhydigkRlE5cGxtLCAnZklzRicpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaGZJaCBldiIgRjlFcHNJIGlRaCBFIFRrbElzVEVscSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5RVRJc1QoJEZROXBsbSA9ICdGaElFVElmX0VUJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlFoZklocnYoJEZROXBsbSwgJ2ZJc0YnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWhmSWggZXYiIEY5RXBzSSBpUWggRSBUa2xJc1RFbHEgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZklofFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUTlmSXNUKCRGUTlwbG0gPSAnRmhJRVRJZl9FVCcpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaGZJaHJ2KCRGUTlwbG0sICdFc0YnKTsKICAgIH0KCiAgICArKioKICAgICAqIGFwVCBUakkgUnBJaHYncyBoSXNwOVRzIGttIGhFbWZRbCBRaGZJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVQgICRzSUlmCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrbU5FbWZRbE1oZkloKCRzSUlmID0gJycpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaGZJaHJ2TkV1KCRUamtzLT5KaEVsbEVoLT5GUWxxazlJTkVtZlFsKCRzSUlmKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBoRXUgIlFoZkloIGV2IiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkc1I5CiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkZWttZmttSnMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoZklocnZORXUoJHNSOSwgJGVrbWZrbUpzID0gW10pCiAgICB7CiAgICAgICAgJFR2cUkgPSAnTkV1JzsKCiAgICAgICAgJFRqa3MtPnskVGprcy0+cG1rUW1zID8gJ3Bta1FtTWhmSWhzJyA6ICdRaGZJaHMnfVtdID0gRlFscUVGVCgnVHZxSScsICdzUjknKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJGVrbWZrbUpzLCAkVGprcy0+cG1rUW1zID8gJ3Bta1FtTWhmSWgnIDogJ1FoZkloJyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHQ5a0VzIFRRIHNJVCBUakkgIlFpaXNJVCIgVUU5cEkgUWkgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAga21UICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHM4a3EoJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UWlpc0lUKCRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJICJRaWlzSVQiIFVFOXBJIFFpIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGttVCAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaWlzSVQoJFVFOXBJKQogICAgewogICAgICAgICRxaFFxSWhUdiA9ICRUamtzLT5wbWtRbXMgPyAncG1rUW1NaWlzSVQnIDogJ1FpaXNJVCc7CgogICAgICAgICRUamtzLT4kcWhRcUloVHYgPSBsRVYodywgKGttVCkgJFVFOXBJKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdDlrRXMgVFEgc0lUIFRqSSAiOWtsa1QiIFVFOXBJIFFpIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGttVCAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBURThJKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlrbGtUKCRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJICI5a2xrVCIgVUU5cEkgUWkgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAga21UICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlrbGtUKCRVRTlwSSkKICAgIHsKICAgICAgICAkcWhRcUloVHYgPSAkVGprcy0+cG1rUW1zID8gJ3Bta1FtNmtsa1QnIDogJzlrbGtUJzsKCiAgICAgICAga2kgKCRVRTlwSSA+PSB3KSB7CiAgICAgICAgICAgICRUamtzLT4kcWhRcUloVHYgPSAhIGtzX21wOTkoJFVFOXBJKSA/IChrbVQpICRVRTlwSSA6IG1wOTk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSAiSmhRcHEgOWtsa1QiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpoUXBxNmtsa1QoJFVFOXBJLCAkRlE5cGxtKQogICAgewogICAgICAgIGtpICgkVUU5cEkgPj0gdykgewogICAgICAgICAgICAkVGprcy0+SmhRcHE2a2xrVCA9IEZRbHFFRlQoJ1VFOXBJJywgJ0ZROXBsbScpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSA5a2xrVCBFbWYgUWlpc0lUIGlRaCBFIEprVUltIHFFSkkuCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRxRUpJCiAgICAgKiBAcUVoRWwgIGttVCAgJHFJaGFFSkkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaGFFSkkoJHFFSkksICRxSWhhRUpJID0gWFopCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaWlzSVQoKCRxRUpJIC0gWCkgKiAkcUloYUVKSSktPjlrbGtUKCRxSWhhRUpJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbXNUaEVrbSBUakkgUnBJaHYgVFEgVGpJIHFoSVVrUXBzICJxRUpJIiBRaSBoSXNwOVRzIGVJaVFoSSBFIEprVUltIEtuLgogICAgICoKICAgICAqIEBxRWhFbCAga21UICAkcUloYUVKSQogICAgICogQHFFaEVsICBrbVR8bXA5OSAgJDlFc1RLZgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaGFFSklySWlRaElLZigkcUloYUVKSSA9IFhaLCAkOUVzVEtmID0gdywgJEZROXBsbSA9ICdrZicpCiAgICB7CiAgICAgICAgJFRqa3MtPlFoZklocyA9ICRUamtzLT5oSWxRVUlnVmtzVGttSk1oZkloczJRaCgkRlE5cGxtKTsKCiAgICAgICAga2kgKCEga3NfbXA5OSgkOUVzVEtmKSkgewogICAgICAgICAgICAkVGprcy0+dWpJaEkoJEZROXBsbSwgJzwnLCAkOUVzVEtmKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+UWhmSWhydigkRlE5cGxtLCAnZklzRicpCiAgICAgICAgICAgICAgICAgICAgLT45a2xrVCgkcUloYUVKSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1zVGhFa20gVGpJIFJwSWh2IFRRIFRqSSBtSVZUICJxRUpJIiBRaSBoSXNwOVRzIEVpVEloIEUgSmtVSW0gS24uCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRxSWhhRUpJCiAgICAgKiBAcUVoRWwgIGttVHxtcDk5ICAkOUVzVEtmCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaVFoYUVKSXRpVEloS2YoJHFJaGFFSkkgPSBYWiwgJDlFc1RLZiA9IHcsICRGUTlwbG0gPSAna2YnKQogICAgewogICAgICAgICRUamtzLT5RaGZJaHMgPSAkVGprcy0+aElsUVVJZ1Zrc1RrbUpNaGZJaHMyUWgoJEZROXBsbSk7CgogICAgICAgIGtpICghIGtzX21wOTkoJDlFc1RLZikpIHsKICAgICAgICAgICAgJFRqa3MtPnVqSWhJKCRGUTlwbG0sICc+JywgJDlFc1RLZik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPlFoZklocnYoJEZROXBsbSwgJ0VzRicpCiAgICAgICAgICAgICAgICAgICAgLT45a2xrVCgkcUloYUVKSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSWxRVUkgRTk5IElWa3NUa21KIFFoZklocyBFbWYgUXFUa1FtRTk5diBFZmYgRSBtSXUgUWhmSWguCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KfG1wOTkgICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkZmtoSUZUa1FtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSVFoZkloKCRGUTlwbG0gPSBtcDk5LCAkZmtoSUZUa1FtID0gJ0VzRicpCiAgICB7CiAgICAgICAgJFRqa3MtPlFoZklocyA9IG1wOTk7CiAgICAgICAgJFRqa3MtPnBta1FtTWhmSWhzID0gbXA5OTsKICAgICAgICAkVGprcy0+ZWttZmttSnNbJ1FoZkloJ10gPSBbXTsKICAgICAgICAkVGprcy0+ZWttZmttSnNbJ3Bta1FtTWhmSWgnXSA9IFtdOwoKICAgICAgICBraSAoJEZROXBsbSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlFoZklocnYoJEZROXBsbSwgJGZraElGVGtRbSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gRWhoRXYgdWtUaiBFOTkgUWhmSWhzIHVrVGogRSBKa1VJbSBGUTlwbG0gaElsUVVJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaElsUVVJZ1Zrc1RrbUpNaGZJaHMyUWgoJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gb1E5OUlGVGtRbTo6bEU4SSgkVGprcy0+UWhmSWhzKQogICAgICAgICAgICAgICAgICAgIC0+aElMSUZUKGlwbUZUa1FtICgkUWhmSWgpIHBzSSAoJEZROXBsbSkgewogICAgICAgICAgICAgICAgICAgICAgICBoSVRwaG0ga3NzSVQoJFFoZkloWydGUTlwbG0nXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJFFoZkloWydGUTlwbG0nXSA9PT0gJEZROXBsbSA6IGlFOXNJOwogICAgICAgICAgICAgICAgICAgIH0pLT5VRTlwSXMoKS0+RTk5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRSBwbWtRbSBzVEVUSWxJbVQgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZklofFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIGVRUTkgICRFOTkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBta1FtKCRScElodiwgJEU5OSA9IGlFOXNJKQogICAgewogICAgICAgIGtpICgkUnBJaHYga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRScElodigkUnBJaHYgPSAkVGprcy0+bUl1R3BJaHYoKSk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+cG1rUW1zW10gPSBGUWxxRUZUKCdScElodicsICdFOTknKTsKCiAgICAgICAgJFRqa3MtPkVmZnJrbWZrbUooJFJwSWh2LT5KSVRya21ma21KcygpLCAncG1rUW0nKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgcG1rUW0gRTk5IHNURVRJbEltVCBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWh8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBta1FtdDk5KCRScElodikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnBta1FtKCRScElodiwgVGhwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiA2UUY4IFRqSSBzSTlJRlRJZiBoUXVzIGttIFRqSSBURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxlUVE5ICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRjgoJFVFOXBJID0gVGhwSSkKICAgIHsKICAgICAgICAkVGprcy0+OVFGOCA9ICRVRTlwSTsKCiAgICAgICAga2kgKCEga3NfbXA5OSgkVGprcy0+OVFGOCkpIHsKICAgICAgICAgICAgJFRqa3MtPnBzSWJoa1RJYWZRKCk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiA2UUY4IFRqSSBzSTlJRlRJZiBoUXVzIGttIFRqSSBURWU5SSBpUWggcHFmRVRrbUouCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFGODJRaFBxZkVUSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUY4KFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogT2pFaEkgOVFGOCBUakkgc0k5SUZUSWYgaFF1cyBrbSBUakkgVEVlOUkuCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc2pFaElmNlFGOCgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUY4KGlFOXNJKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgRjlRc3BoSSBUUSBlSSBrbVVROElmIGVJaVFoSSBUakkgUnBJaHYga3MgSVZJRnBUSWYuCiAgICAgKgogICAgICogQHFFaEVsICBGRTk5RWU5SSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBlSWlRaElHcElodihGRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgJFRqa3MtPmVJaVFoSUdwSWh2b0U5OWVFRjhzW10gPSAkRkU5OWVFRjg7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIEttVVE4SSBUakkgImVJaVFoSSBScElodiIgbFFma2lrRkVUa1FtIEZFOTllRUY4cy4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVxcTl2cklpUWhJR3BJaHZvRTk5ZUVGOHMoKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5lSWlRaElHcElodm9FOTllRUY4cyBFcyAkRkU5OWVFRjgpIHsKICAgICAgICAgICAgJEZFOTllRUY4KCRUamtzKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5lSWlRaElHcElodm9FOTllRUY4cyA9IFtdOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBPRzYgaElxaElzSW1URVRrUW0gUWkgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBUUU9SOSgpCiAgICB7CiAgICAgICAgJFRqa3MtPkVxcTl2cklpUWhJR3BJaHZvRTk5ZUVGOHMoKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5KaEVsbEVoLT5GUWxxazlJT0k5SUZUKCRUamtzKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaEV1IE9HNiBoSXFoSXNJbVRFVGtRbSBRaSBUakkgUnBJaHYgdWtUaiBJbGVJZmZJZiBla21ma21Kcy4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVFFORXVPUjkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SmhFbGxFaC0+c3Blc1RrVHBUSXJrbWZrbUpzS21UUU5FdU9SOSgKICAgICAgICAgICAgJFRqa3MtPlRRT1I5KCksICRUamtzLT5GUW1tSUZUa1FtLT5xaElxRWhJcmttZmttSnMoJFRqa3MtPkpJVHJrbWZrbUpzKCkpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgRSBScElodiBpUWggRSBza21KOUkgaElGUWhmIGV2IEtuLgogICAgICoKICAgICAqIEBxRWhFbCAga21UfHNUaGttSiAgJGtmCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gbGtWSWZ8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa21mKCRrZiwgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJKCdrZicsICc9JywgJGtmKS0+aWtoc1QoJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBFIFJwSWh2IGlRaCBFIHNrbUo5SSBoSUZRaGYgZXYgS24gUWggRkU5OSBFIEZFOTllRUY4LgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRrZgogICAgICogQHFFaEVsICBcbzlRc3BoSXxFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfG1wOTkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBsa1ZJZnxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrbWZNaCgka2YsICRGUTlwbG1zID0gWycqJ10sIG85UXNwaEkgJEZFOTllRUY4ID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoJEZROXBsbXMga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRGRTk5ZUVGOCA9ICRGUTlwbG1zOwoKICAgICAgICAgICAgJEZROXBsbXMgPSBbJyonXTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJGZFVEUgPSAkVGprcy0+aWttZigka2YsICRGUTlwbG1zKSkpIHsKICAgICAgICAgICAgaElUcGhtICRmRVRFOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRGRTk5ZUVGOCgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgc2ttSjlJIEZROXBsbSdzIFVFOXBJIGloUWwgVGpJIGlraHNUIGhJc3A5VCBRaSBFIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBVRTlwSSgkRlE5cGxtKQogICAgewogICAgICAgICRoSXNwOVQgPSAoRWhoRXYpICRUamtzLT5pa2hzVChbJEZROXBsbV0pOwoKICAgICAgICBoSVRwaG0gRlFwbVQoJGhJc3A5VCkgPiB3ID8gaElzSVQoJGhJc3A5VCkgOiBtcDk5OwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgc2ttSjlJIElWcWhJc3NrUW0gVUU5cEkgaWhRbCBUakkgaWtoc1QgaElzcDlUIFFpIEUgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRJVnFoSXNza1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkZWttZmttSnMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhFdUJFOXBJKHNUaGttSiAkSVZxaElzc2tRbSwgRWhoRXYgJGVrbWZrbUpzID0gW10pCiAgICB7CiAgICAgICAgJGhJc3A5VCA9IChFaGhFdikgJFRqa3MtPnNJOUlGVE5FdSgkSVZxaElzc2tRbSwgJGVrbWZrbUpzKS0+aWtoc1QoKTsKCiAgICAgICAgaElUcGhtIEZRcG1UKCRoSXNwOVQpID4gdyA/IGhJc0lUKCRoSXNwOVQpIDogbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHNrbUo5SSBGUTlwbG0ncyBVRTlwSSBpaFFsIFRqSSBpa2hzVCBoSXNwOVQgUWkgRSBScElodiBraSBrVCdzIFRqSSBzUTlJIGxFVEZqa21KIGhJRlFoZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxOSUZRaGZzQVFUMlFwbWZnVkZJcVRrUW0KICAgICAqIEBUamhRdXMgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVwzcDlUa3E5SU5JRlFoZnMyUXBtZmdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1E5SUJFOXBJKCRGUTlwbG0pCiAgICB7CiAgICAgICAgJGhJc3A5VCA9IChFaGhFdikgJFRqa3MtPnNROUkoWyRGUTlwbG1dKTsKCiAgICAgICAgaElUcGhtIGhJc0lUKCRoSXNwOVQpOwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBUakkgUnBJaHYgRXMgRSAic0k5SUZUIiBzVEVUSWxJbVQuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXE9wcXFRaFRcb1E5OUlGVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUKCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgJGtUSWxzID0gRlE5OUlGVCgkVGprcy0+UW1GSWJrVGpvUTlwbG1zKHRoaDo6dWhFcSgkRlE5cGxtcyksIGlwbUZUa1FtICgpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5xaFFGSXNzUWgtPnFoUUZJc3NPSTlJRlQoJFRqa3MsICRUamtzLT5ocG1PSTlJRlQoKSk7CiAgICAgICAgfSkpOwoKICAgICAgICBoSVRwaG0ga3NzSVQoJFRqa3MtPkpoUXBxNmtsa1QpCiAgICAgICAgICAgID8gJFRqa3MtPnVrVGpRcFQwaFFwcTZrbGtUMUl2cygka1RJbHMpCiAgICAgICAgICAgIDogJGtUSWxzOwogICAgfQoKICAgICsqKgogICAgICogTnBtIFRqSSBScElodiBFcyBFICJzSTlJRlQiIHNURVRJbEltVCBFSkVrbXNUIFRqSSBGUW1tSUZUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhwbU9JOUlGVCgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtLT5zSTlJRlQoCiAgICAgICAgICAgICRUamtzLT5UUU9SOSgpLCAkVGprcy0+SklUcmttZmttSnMoKSwgISAkVGprcy0+cHNJYmhrVElhZlEKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogTklsUVVJIFRqSSBKaFFwcSA5a2xrVCA4SXZzIGloUWwgVGpJIGhJc3A5VHMga20gVGpJIEZROTlJRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0gICRrVElscwogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHVrVGpRcFQwaFFwcTZrbGtUMUl2cygka1RJbHMpCiAgICB7CiAgICAgICAgJDhJdnNIUU5JbFFVSSA9IFsnOUVoRVVJOV9oUXUnXTsKCiAgICAgICAga2kgKGtzX3NUaGttSigkVGprcy0+SmhRcHE2a2xrVFsnRlE5cGxtJ10pKSB7CiAgICAgICAgICAgICRGUTlwbG0gPSA5RXNUKElWcTlRZkkoJy4nLCAkVGprcy0+SmhRcHE2a2xrVFsnRlE5cGxtJ10pKTsKCiAgICAgICAgICAgICQ4SXZzSFFOSWxRVUlbXSA9ICdAOUVoRVVJOV9KaFFwcSA6PSAnLiRUamtzLT5KaEVsbEVoLT51aEVxKCRGUTlwbG0pOwogICAgICAgICAgICAkOEl2c0hRTklsUVVJW10gPSAnQDlFaEVVSTlfSmhRcHEgOj0gJy4kVGprcy0+SmhFbGxFaC0+dWhFcSgncWtVUVRfJy4kRlE5cGxtKTsKICAgICAgICB9CgogICAgICAgICRrVElscy0+SUVGaihpcG1GVGtRbSAoJGtUSWwpIHBzSSAoJDhJdnNIUU5JbFFVSSkgewogICAgICAgICAgICBpUWhJRUZqICgkOEl2c0hRTklsUVVJIEVzICQ4SXYpIHsKICAgICAgICAgICAgICAgIHBtc0lUKCRrVElsLT4kOEl2KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBoSVRwaG0gJGtUSWxzOwogICAgfQoKICAgICsqKgogICAgICogYUVKa21FVEkgVGpJIEprVUltIFJwSWh2IGttVFEgRSBza2xxOUkgcUVKa21FVFFoLgogICAgICoKICAgICAqIEBxRWhFbCAga21UfFxvOVFzcGhJICAkcUloYUVKSQogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHFFSklBRWxJCiAgICAgKiBAcUVoRWwgIGttVHxtcDk5ICAkcUVKSQogICAgICogQHFFaEVsICBcbzlRc3BoSXxrbVR8bXA5OSAgJFRRVEU5CiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xhRUprbUVUa1FtXDZJbUpUanR1RWhJYUVKa21FVFFoCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBxRUprbUVUSSgkcUloYUVKSSA9IFhaLCAkRlE5cGxtcyA9IFsnKiddLCAkcUVKSUFFbEkgPSAncUVKSScsICRxRUpJID0gbXA5OSwgJFRRVEU5ID0gbXA5OSkKICAgIHsKICAgICAgICAkcUVKSSA9ICRxRUpJID86IGFFSmttRVRRaDo6aElzUTlVSW9waGhJbVRhRUpJKCRxRUpJQUVsSSk7CgogICAgICAgICRUUVRFOSA9IFVFOXBJKCRUUVRFOSkgPz8gJFRqa3MtPkpJVG9RcG1UMlFoYUVKa21FVGtRbSgpOwoKICAgICAgICAkcUloYUVKSSA9ICRxSWhhRUpJIGttc1RFbUZJUWkgbzlRc3BoSSA/ICRxSWhhRUpJKCRUUVRFOSkgOiAkcUloYUVKSTsKCiAgICAgICAgJGhJc3A5VHMgPSAkVFFURTkgPyAkVGprcy0+aVFoYUVKSSgkcUVKSSwgJHFJaGFFSkkpLT5KSVQoJEZROXBsbXMpIDogRlE5OUlGVCgpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnFFSmttRVRRaCgkaElzcDlUcywgJFRRVEU5LCAkcUloYUVKSSwgJHFFSkksIFsKICAgICAgICAgICAgJ3FFVGonID0+IGFFSmttRVRRaDo6aElzUTlVSW9waGhJbVRhRVRqKCksCiAgICAgICAgICAgICdxRUpJQUVsSScgPT4gJHFFSklBRWxJLAogICAgICAgIF0pOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgcUVKa21FVFFoIFFtOXYgc3BxcVFoVGttSiBza2xxOUkgbUlWVCBFbWYgcWhJVWtRcHMgOWttOHMuCiAgICAgKgogICAgICogSGprcyBrcyBsUWhJIElpaWtGa0ltVCBRbSA5RWhKSWggZkVURS1zSVRzLCBJVEYuCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRxSWhhRUpJCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkcUVKSUFFbEkKICAgICAqIEBxRWhFbCAga21UfG1wOTkgICRxRUpJCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xhRUprbUVUa1FtXGFFSmttRVRRaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc2tscTlJYUVKa21FVEkoJHFJaGFFSkkgPSBYWiwgJEZROXBsbXMgPSBbJyonXSwgJHFFSklBRWxJID0gJ3FFSkknLCAkcUVKSSA9IG1wOTkpCiAgICB7CiAgICAgICAgJHFFSkkgPSAkcUVKSSA/OiBhRUprbUVUUWg6OmhJc1E5VUlvcGhoSW1UYUVKSSgkcUVKSUFFbEkpOwoKICAgICAgICAkVGprcy0+UWlpc0lUKCgkcUVKSSAtIFgpICogJHFJaGFFSkkpLT45a2xrVCgkcUloYUVKSSAvIFgpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnNrbHE5SWFFSmttRVRRaCgkVGprcy0+SklUKCRGUTlwbG1zKSwgJHFJaGFFSkksICRxRUpJLCBbCiAgICAgICAgICAgICdxRVRqJyA9PiBhRUprbUVUUWg6OmhJc1E5VUlvcGhoSW1UYUVUaigpLAogICAgICAgICAgICAncUVKSUFFbEknID0+ICRxRUpJQUVsSSwKICAgICAgICBdKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHFFSmttRVRRaCBRbTl2IHNwcXFRaFRrbUogc2tscTlJIG1JVlQgRW1mIHFoSVVrUXBzIDlrbThzLgogICAgICoKICAgICAqIEhqa3Mga3MgbFFoSSBJaWlrRmtJbVQgUW0gOUVoSkloIGZFVEUtc0lUcywgSVRGLgogICAgICoKICAgICAqIEBxRWhFbCAga21UfG1wOTkgICRxSWhhRUpJCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRnBoc1FoQUVsSQogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxhRUprbUVUa1FtXG9waHNRaHxzVGhrbUp8bXA5OSAgJEZwaHNRaAogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcYUVKa21FVGtRbVxvcGhzUWhhRUprbUVUUWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZwaHNRaGFFSmttRVRJKCRxSWhhRUpJID0gWFosICRGUTlwbG1zID0gWycqJ10sICRGcGhzUWhBRWxJID0gJ0ZwaHNRaCcsICRGcGhzUWggPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cUVKa21FVElQc2ttSm9waHNRaCgkcUloYUVKSSwgJEZROXBsbXMsICRGcGhzUWhBRWxJLCAkRnBoc1FoKTsKICAgIH0KCiAgICArKioKICAgICAqIGdtc3BoSSBUakkgcWhRcUloIFFoZkloIGV2IGhJUnBraElmIGlRaCBGcGhzUWggcUVKa21FVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRzalFwOWZOSVVJaHNJCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXE9wcXFRaFRcb1E5OUlGVGtRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSW1zcGhJTWhmSWgyUWhvcGhzUWhhRUprbUVUa1FtKCRzalFwOWZOSVVJaHNJID0gaUU5c0kpCiAgICB7CiAgICAgICAga2kgKElscVR2KCRUamtzLT5RaGZJaHMpICYmIElscVR2KCRUamtzLT5wbWtRbU1oZklocykpIHsKICAgICAgICAgICAgJFRqa3MtPkltaVFoRklNaGZJaHJ2KCk7CiAgICAgICAgfQoKICAgICAgICAkaElVSWhzSW5raElGVGtRbSA9IGlwbUZUa1FtICgkUWhmSWgpIHsKICAgICAgICAgICAga2kgKCEga3NzSVQoJFFoZkloWydma2hJRlRrUW0nXSkpIHsKICAgICAgICAgICAgICAgIGhJVHBobSAkUWhmSWg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRRaGZJaFsnZmtoSUZUa1FtJ10gPSAkUWhmSWhbJ2ZraElGVGtRbSddID09PSAnRXNGJyA/ICdmSXNGJyA6ICdFc0YnOwoKICAgICAgICAgICAgaElUcGhtICRRaGZJaDsKICAgICAgICB9OwoKICAgICAgICBraSAoJHNqUXA5Zk5JVUloc0kpIHsKICAgICAgICAgICAgJFRqa3MtPlFoZklocyA9IEZROTlJRlQoJFRqa3MtPlFoZklocyktPmxFcSgkaElVSWhzSW5raElGVGtRbSktPlRRdGhoRXYoKTsKICAgICAgICAgICAgJFRqa3MtPnBta1FtTWhmSWhzID0gRlE5OUlGVCgkVGprcy0+cG1rUW1NaGZJaHMpLT5sRXEoJGhJVUloc0lua2hJRlRrUW0pLT5UUXRoaEV2KCk7CiAgICAgICAgfQoKICAgICAgICAkUWhmSWhzID0gISBJbHFUdigkVGprcy0+cG1rUW1NaGZJaHMpID8gJFRqa3MtPnBta1FtTWhmSWhzIDogJFRqa3MtPlFoZkloczsKCiAgICAgICAgaElUcGhtIEZROTlJRlQoJFFoZklocykKICAgICAgICAgICAgLT5pazlUSWgoaW0gKCRRaGZJaCkgPT4gdGhoOjpqRXMoJFFoZkloLCAnZmtoSUZUa1FtJykpCiAgICAgICAgICAgIC0+VUU5cElzKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEZRcG1UIFFpIFRqSSBUUVRFOSBoSUZRaGZzIGlRaCBUakkgcUVKa21FVFFoLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FwbVQyUWhhRUprbUVUa1FtKCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgJGhJc3A5VHMgPSAkVGprcy0+aHBtYUVKa21FVGtRbW9RcG1UR3BJaHYoJEZROXBsbXMpOwoKICAgICAgICArKyBNbUZJIHVJIGpFVUkgaHBtIFRqSSBxRUprbUVUa1FtIEZRcG1UIFJwSWh2LCB1SSB1azk5IEpJVCBUakkgaElzcDlUa21KIEZRcG1UIEVtZgogICAgICAgICsrIFRFOEkga21UUSBFRkZRcG1UIHVqRVQgVHZxSSBRaSBScElodiBrVCB1RXMuIGJqSW0gVGpJaEkga3MgRSBKaFFwcSBldiB1SSB1azk5CiAgICAgICAgKysgTHBzVCBoSVRwaG0gVGpJIEZRcG1UIFFpIFRqSSBJbVRraEkgaElzcDlUcyBzSVQgc2ttRkkgVGpFVCB1azk5IGVJIEZRaGhJRlQuCiAgICAgICAga2kgKCEga3NzSVQoJGhJc3A5VHNbd10pKSB7CiAgICAgICAgICAgIGhJVHBobSB3OwogICAgICAgIH0gSTlzSWtpIChrc19RZUxJRlQoJGhJc3A5VHNbd10pKSB7CiAgICAgICAgICAgIGhJVHBobSAoa21UKSAkaElzcDlUc1t3XS0+RUpKaElKRVRJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIChrbVQpIEVoaEV2X0ZqRW1KSV84SXZfRkVzSSgoRWhoRXYpICRoSXNwOVRzW3ddKVsnRUpKaElKRVRJJ107CiAgICB9CgogICAgKyoqCiAgICAgKiBOcG0gRSBxRUprbUVUa1FtIEZRcG1UIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBocG1hRUprbUVUa1Ftb1FwbVRHcElodigkRlE5cGxtcyA9IFsnKiddKQogICAgewogICAgICAgIGtpICgkVGprcy0+SmhRcHFzIHx8ICRUamtzLT5qRVVrbUpzKSB7CiAgICAgICAgICAgICRGOVFtSSA9ICRUamtzLT5GOVFtSTJRaGFFSmttRVRrUW1vUXBtVCgpOwoKICAgICAgICAgICAga2kgKGtzX21wOTkoJEY5UW1JLT5GUTlwbG1zKSAmJiAhIElscVR2KCRUamtzLT5MUWttcykpIHsKICAgICAgICAgICAgICAgICRGOVFtSS0+c0k5SUZUKCRUamtzLT5paFFsLicuKicpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2KCkKICAgICAgICAgICAgICAgIC0+aWhRbChtSXUgZ1ZxaElzc2tRbSgnKCcuJEY5UW1JLT5UUU9SOSgpLicpIEVzICcuJFRqa3MtPkpoRWxsRWgtPnVoRXEoJ0VKSmhJSkVUSV9URWU5SScpKSkKICAgICAgICAgICAgICAgIC0+bEloSklya21ma21KcygkRjlRbUkpCiAgICAgICAgICAgICAgICAtPnNJVHRKSmhJSkVUSSgnRlFwbVQnLCAkVGprcy0+dWtUalFwVE9JOUlGVHQ5a0VzSXMoJEZROXBsbXMpKQogICAgICAgICAgICAgICAgLT5KSVQoKS0+RTk5KCk7CiAgICAgICAgfQoKICAgICAgICAkdWtUalFwVCA9ICRUamtzLT5wbWtRbXMgPyBbJ1FoZklocycsICc5a2xrVCcsICdRaWlzSVQnXSA6IFsnRlE5cGxtcycsICdRaGZJaHMnLCAnOWtsa1QnLCAnUWlpc0lUJ107CgogICAgICAgIGhJVHBobSAkVGprcy0+RjlRbUlia1RqUXBUKCR1a1RqUXBUKQogICAgICAgICAgICAgICAgICAgIC0+RjlRbUlia1RqUXBUcmttZmttSnMoJFRqa3MtPnBta1FtcyA/IFsnUWhmSWgnXSA6IFsnc0k5SUZUJywgJ1FoZkloJ10pCiAgICAgICAgICAgICAgICAgICAgLT5zSVR0SkpoSUpFVEkoJ0ZRcG1UJywgJFRqa3MtPnVrVGpRcFRPSTlJRlR0OWtFc0lzKCRGUTlwbG1zKSkKICAgICAgICAgICAgICAgICAgICAtPkpJVCgpLT5FOTkoKTsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBJVmtzVGttSiBScElodiBrbXNURW1GSSBpUWggcHNFSkkga20gRSBxRUprbUVUa1FtIHNwZVJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gc0k5aQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRjlRbUkyUWhhRUprbUVUa1Ftb1FwbVQoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RjlRbUlia1RqUXBUKFsnUWhmSWhzJywgJzlrbGtUJywgJ1FpaXNJVCddKQogICAgICAgICAgICAgICAgICAgIC0+RjlRbUlia1RqUXBUcmttZmttSnMoWydRaGZJaCddKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JbFFVSSBUakkgRlE5cGxtIEU5a0VzSXMgc2ttRkkgVGpJdiB1azk5IGVoSUU4IEZRcG1UIFJwSWhrSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHVrVGpRcFRPSTlJRlR0OWtFc0lzKEVoaEV2ICRGUTlwbG1zKQogICAgewogICAgICAgIGhJVHBobSBFaGhFdl9sRXEoaXBtRlRrUW0gKCRGUTlwbG0pIHsKICAgICAgICAgICAgaElUcGhtIGtzX3NUaGttSigkRlE5cGxtKSAmJiAoJEU5a0VzYVFza1RrUW0gPSBzVGhrcVFzKCRGUTlwbG0sICcgRXMgJykpICE9PSBpRTlzSQogICAgICAgICAgICAgICAgICAgID8gc3Blc1RoKCRGUTlwbG0sIHcsICRFOWtFc2FRc2tUa1FtKSA6ICRGUTlwbG07CiAgICAgICAgfSwgJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgOUVXdiBGUTk5SUZUa1FtIGlRaCBUakkgSmtVSW0gUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXDZFV3ZvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGcGhzUWgoKQogICAgewogICAgICAgIGtpIChrc19tcDk5KCRUamtzLT5GUTlwbG1zKSkgewogICAgICAgICAgICAkVGprcy0+RlE5cGxtcyA9IFsnKiddOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIG1JdSA2RVd2b1E5OUlGVGtRbShpcG1GVGtRbSAoKSB7CiAgICAgICAgICAgIHZrSTlmIGloUWwgJFRqa3MtPkZRbW1JRlRrUW0tPkZwaHNRaCgKICAgICAgICAgICAgICAgICRUamtzLT5UUU9SOSgpLCAkVGprcy0+SklUcmttZmttSnMoKSwgISAkVGprcy0+cHNJYmhrVElhZlEKICAgICAgICAgICAgKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIEhqaFF1IEVtIElWRklxVGtRbSBraSBUakkgUnBJaHYgZlFJc20nVCBqRVVJIEVtIFFoZklocnYgRjlFcHNJLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICoKICAgICAqIEBUamhRdXMgXE5wbVRrbElnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEltaVFoRklNaGZJaHJ2KCkKICAgIHsKICAgICAgICBraSAoSWxxVHYoJFRqa3MtPlFoZklocykgJiYgSWxxVHYoJFRqa3MtPnBta1FtTWhmSWhzKSkgewogICAgICAgICAgICBUamhRdSBtSXUgTnBtVGtsSWdWRklxVGtRbSgnY1FwIGxwc1Qgc3FJRmtpdiBFbSBRaGZJaHJ2IEY5RXBzSSB1akltIHBza21KIFRqa3MgaXBtRlRrUW0uJyk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMElUIEUgRlE5OUlGVGtRbSBrbXNURW1GSSBGUW1URWtta21KIFRqSSBVRTlwSXMgUWkgRSBKa1VJbSBGUTlwbG0uCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICQ4SXYKICAgICAqIEBoSVRwaG0gXEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBxOXBGOCgkRlE5cGxtLCAkOEl2ID0gbXA5OSkKICAgIHsKICAgICAgICArKyAya2hzVCwgdUkgdWs5OSBtSUlmIFRRIHNJOUlGVCBUakkgaElzcDlUcyBRaSBUakkgUnBJaHYgRUZGUXBtVGttSiBpUWggVGpJCiAgICAgICAgKysgSmtVSW0gRlE5cGxtcyArIDhJdi4gTW1GSSB1SSBqRVVJIFRqSSBoSXNwOVRzLCB1SSB1azk5IGVJIEVlOUkgVFEgVEU4SQogICAgICAgICsrIFRqSSBoSXNwOVRzIEVtZiBKSVQgVGpJIElWRUZUIGZFVEUgVGpFVCB1RXMgaElScElzVElmIGlRaCBUakkgUnBJaHYuCiAgICAgICAgJFJwSWh2TklzcDlUID0gJFRqa3MtPlFtRklia1Rqb1E5cGxtcygKICAgICAgICAgICAga3NfbXA5OSgkOEl2KSA/IFskRlE5cGxtXSA6IFskRlE5cGxtLCAkOEl2XSwKICAgICAgICAgICAgaXBtRlRrUW0gKCkgewogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5xaFFGSXNzUWgtPnFoUUZJc3NPSTlJRlQoCiAgICAgICAgICAgICAgICAgICAgJFRqa3MsICRUamtzLT5ocG1PSTlJRlQoKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICk7CgogICAgICAgIGtpIChJbHFUdigkUnBJaHZOSXNwOVQpKSB7CiAgICAgICAgICAgIGhJVHBobSBGUTk5SUZUKCk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRlE5cGxtcyBFaEkgUnBFOWtpa0lmIHVrVGogRSBURWU5SSBRaCBqRVVJIEVtIEU5a0VzLCB1SSBGRW1tUVQgcHNJCiAgICAgICAgKysgVGpRc0kgZmtoSUZUOXYga20gVGpJICJxOXBGOCIgUXFJaEVUa1FtcyBza21GSSBUakkgaElzcDlUcyBpaFFsIFRqSSBucgogICAgICAgICsrIEVoSSBRbTl2IDhJdklmIGV2IFRqSSBGUTlwbG0ga1RzSTlpLiBiSSc5OSBzVGhrcSBUakkgVEVlOUkgUXBUIGpJaEkuCiAgICAgICAgJEZROXBsbSA9ICRUamtzLT5zVGhrcUhFZTlJMlFoYTlwRjgoJEZROXBsbSk7CgogICAgICAgICQ4SXYgPSAkVGprcy0+c1Roa3FIRWU5STJRaGE5cEY4KCQ4SXYpOwoKICAgICAgICBoSVRwaG0ga3NfRWhoRXYoJFJwSWh2TklzcDlUW3ddKQogICAgICAgICAgICAgICAgICAgID8gJFRqa3MtPnE5cEY4MmhRbHRoaEV2b1E5cGxtKCRScElodk5Jc3A5VCwgJEZROXBsbSwgJDhJdikKICAgICAgICAgICAgICAgICAgICA6ICRUamtzLT5xOXBGODJoUWxNZUxJRlRvUTlwbG0oJFJwSWh2TklzcDlULCAkRlE5cGxtLCAkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIE9UaGtxIFFpaSBUakkgVEVlOUkgbUVsSSBRaCBFOWtFcyBpaFFsIEUgRlE5cGxtIGtmSW1Ua2lrSWguCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gc1Roa21KfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNUaGtxSEVlOUkyUWhhOXBGOCgkRlE5cGxtKQogICAgewogICAgICAgIGtpIChrc19tcDk5KCRGUTlwbG0pKSB7CiAgICAgICAgICAgIGhJVHBobSAkRlE5cGxtOwogICAgICAgIH0KCiAgICAgICAgJEZROXBsbU9UaGttSiA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1Ftb1FtVGhFRlQKICAgICAgICAgICAgPyAkVGprcy0+SmhFbGxFaC0+SklUQkU5cEkoJEZROXBsbSkKICAgICAgICAgICAgOiAkRlE5cGxtOwoKICAgICAgICAkc0lxRWhFVFFoID0gc1RoX0ZRbVRFa21zKHNUaFRROVF1SWgoJEZROXBsbU9UaGttSiksICcgRXMgJykgPyAnIEVzICcgOiAnXC4nOwoKICAgICAgICBoSVRwaG0gOUVzVChxaElKX3NxOWtUKCd+Jy4kc0lxRWhFVFFoLid+aycsICRGUTlwbG1PVGhrbUopKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIEZROXBsbSBVRTlwSXMgaWhRbCBoUXVzIGhJcWhJc0ltVElmIEVzIFFlTElGVHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFJwSWh2TklzcDlUCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gXEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxOXBGODJoUWxNZUxJRlRvUTlwbG0oJFJwSWh2TklzcDlULCAkRlE5cGxtLCAkOEl2KQogICAgewogICAgICAgICRoSXNwOVRzID0gW107CgogICAgICAgIGtpIChrc19tcDk5KCQ4SXYpKSB7CiAgICAgICAgICAgIGlRaElFRmogKCRScElodk5Jc3A5VCBFcyAkaFF1KSB7CiAgICAgICAgICAgICAgICAkaElzcDlUc1tdID0gJGhRdS0+JEZROXBsbTsKICAgICAgICAgICAgfQogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgIGlRaElFRmogKCRScElodk5Jc3A5VCBFcyAkaFF1KSB7CiAgICAgICAgICAgICAgICAkaElzcDlUc1skaFF1LT4kOEl2XSA9ICRoUXUtPiRGUTlwbG07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSBGUTk5SUZUKCRoSXNwOVRzKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIEZROXBsbSBVRTlwSXMgaWhRbCBoUXVzIGhJcWhJc0ltVElmIEVzIEVoaEV2cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUnBJaHZOSXNwOVQKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHE5cEY4MmhRbHRoaEV2b1E5cGxtKCRScElodk5Jc3A5VCwgJEZROXBsbSwgJDhJdikKICAgIHsKICAgICAgICAkaElzcDlUcyA9IFtdOwoKICAgICAgICBraSAoa3NfbXA5OSgkOEl2KSkgewogICAgICAgICAgICBpUWhJRUZqICgkUnBJaHZOSXNwOVQgRXMgJGhRdSkgewogICAgICAgICAgICAgICAgJGhJc3A5VHNbXSA9ICRoUXVbJEZROXBsbV07CiAgICAgICAgICAgIH0KICAgICAgICB9IEk5c0kgewogICAgICAgICAgICBpUWhJRUZqICgkUnBJaHZOSXNwOVQgRXMgJGhRdSkgewogICAgICAgICAgICAgICAgJGhJc3A5VHNbJGhRdVskOEl2XV0gPSAkaFF1WyRGUTlwbG1dOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gRlE5OUlGVCgkaElzcDlUcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1GRVRJbUVUSSBVRTlwSXMgUWkgRSBKa1VJbSBGUTlwbG0gRXMgRSBzVGhrbUouCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkSjlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtscTlRZkkoJEZROXBsbSwgJEo5cEkgPSAnJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnE5cEY4KCRGUTlwbG0pLT5rbHE5UWZJKCRKOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFbXYgaFF1cyBJVmtzVCBpUWggVGpJIEZwaGhJbVQgUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBJVmtzVHMoKQogICAgewogICAgICAgICRUamtzLT5FcXE5dnJJaVFoSUdwSWh2b0U5OWVFRjhzKCk7CgogICAgICAgICRoSXNwOVRzID0gJFRqa3MtPkZRbW1JRlRrUW0tPnNJOUlGVCgKICAgICAgICAgICAgJFRqa3MtPkpoRWxsRWgtPkZRbHFrOUlnVmtzVHMoJFRqa3MpLCAkVGprcy0+SklUcmttZmttSnMoKSwgISAkVGprcy0+cHNJYmhrVElhZlEKICAgICAgICApOwoKICAgICAgICArKyBLaSBUakkgaElzcDlUcyBqRVVJIGhRdXMsIHVJIHVrOTkgSklUIFRqSSBoUXUgRW1mIHNJSSBraSBUakkgSVZrc1RzIEZROXBsbSBrcyBFCiAgICAgICAgKysgZVFROUlFbSBUaHBJLiBLaSBUakloSSBFaEkgbVEgaElzcDlUcyBpUWggVGprcyBScElodiB1SSB1azk5IGhJVHBobSBpRTlzSSBFcwogICAgICAgICsrIFRqSWhJIEVoSSBtUSBoUXVzIGlRaCBUamtzIFJwSWh2IEVUIEU5OSwgRW1mIHVJIEZFbSBoSVRwaG0gVGpFVCBrbWlRIGpJaEkuCiAgICAgICAga2kgKGtzc0lUKCRoSXNwOVRzW3ddKSkgewogICAgICAgICAgICAkaElzcDlUcyA9IChFaGhFdikgJGhJc3A5VHNbd107CgogICAgICAgICAgICBoSVRwaG0gKGVRUTkpICRoSXNwOVRzWydJVmtzVHMnXTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBtUSBoUXVzIElWa3NUIGlRaCBUakkgRnBoaEltVCBScElodi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZRSXNtVGdWa3NUKCkKICAgIHsKICAgICAgICBoSVRwaG0gISAkVGprcy0+SVZrc1RzKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIFRqSSBKa1VJbSBGRTk5ZUVGOCBraSBtUSBoUXVzIElWa3NUIGlRaCBUakkgRnBoaEltVCBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIElWa3NUc01oKG85UXNwaEkgJEZFOTllRUY4KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SVZrc1RzKCkgPyBUaHBJIDogJEZFOTllRUY4KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIFRqSSBKa1VJbSBGRTk5ZUVGOCBraSBoUXVzIElWa3NUIGlRaCBUakkgRnBoaEltVCBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZRSXNtVGdWa3NUTWgobzlRc3BoSSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5mUUlzbVRnVmtzVCgpID8gVGhwSSA6ICRGRTk5ZUVGOCgpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJICJGUXBtVCIgaElzcDlUIFFpIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtfHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGUXBtVCgkRlE5cGxtcyA9ICcqJykKICAgIHsKICAgICAgICBoSVRwaG0gKGttVCkgJFRqa3MtPkVKSmhJSkVUSShfXzJQQW9IS01BX18sIHRoaDo6dWhFcSgkRlE5cGxtcykpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIGxrbWtscGwgVUU5cEkgUWkgRSBKa1VJbSBGUTlwbG0uCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGxrbSgkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RUpKaElKRVRJKF9fMlBBb0hLTUFfXywgWyRGUTlwbG1dKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBsRVZrbHBsIFVFOXBJIFFpIEUgSmtVSW0gRlE5cGxtLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBsRVYoJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkVKSmhJSkVUSShfXzJQQW9IS01BX18sIFskRlE5cGxtXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgc3BsIFFpIFRqSSBVRTlwSXMgUWkgRSBKa1VJbSBGUTlwbG0uCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNwbCgkRlE5cGxtKQogICAgewogICAgICAgICRoSXNwOVQgPSAkVGprcy0+RUpKaElKRVRJKF9fMlBBb0hLTUFfXywgWyRGUTlwbG1dKTsKCiAgICAgICAgaElUcGhtICRoSXNwOVQgPzogdzsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBFVUloRUpJIFFpIFRqSSBVRTlwSXMgUWkgRSBKa1VJbSBGUTlwbG0uCiAgICAgKgogICAgICogQHFFaEVsICBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbXxzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVVSigkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RUpKaElKRVRJKF9fMlBBb0hLTUFfXywgWyRGUTlwbG1dKTsKICAgIH0KCiAgICArKioKICAgICAqIHQ5a0VzIGlRaCBUakkgIkVVSiIgbElUalFmLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW18c1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFVUloRUpJKCRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5FVUooJEZROXBsbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIEVtIEVKSmhJSkVUSSBpcG1GVGtRbSBRbSBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRpcG1GVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVKSmhJSkVUSSgkaXBtRlRrUW0sICRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgJGhJc3A5VHMgPSAkVGprcy0+RjlRbUlia1RqUXBUKCRUamtzLT5wbWtRbXMgfHwgJFRqa3MtPmpFVWttSnMgPyBbXSA6IFsnRlE5cGxtcyddKQogICAgICAgICAgICAgICAgICAgICAgICAtPkY5UW1JYmtUalFwVHJrbWZrbUpzKCRUamtzLT5wbWtRbXMgfHwgJFRqa3MtPmpFVWttSnMgPyBbXSA6IFsnc0k5SUZUJ10pCiAgICAgICAgICAgICAgICAgICAgICAgIC0+c0lUdEpKaElKRVRJKCRpcG1GVGtRbSwgJEZROXBsbXMpCiAgICAgICAgICAgICAgICAgICAgICAgIC0+SklUKCRGUTlwbG1zKTsKCiAgICAgICAga2kgKCEgJGhJc3A5VHMtPmtzZ2xxVHYoKSkgewogICAgICAgICAgICBoSVRwaG0gRWhoRXZfRmpFbUpJXzhJdl9GRXNJKChFaGhFdikgJGhJc3A5VHNbd10pWydFSkpoSUpFVEknXTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIEUgbXBsSWhrRiBFSkpoSUpFVEkgaXBtRlRrUW0gUW0gVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaXBtRlRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIGk5UUVUfGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbXBsSWhrRnRKSmhJSkVUSSgkaXBtRlRrUW0sICRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgJGhJc3A5VCA9ICRUamtzLT5FSkpoSUpFVEkoJGlwbUZUa1FtLCAkRlE5cGxtcyk7CgogICAgICAgICsrIEtpIFRqSWhJIGtzIG1RIGhJc3A5VCwgdUkgRkVtIFFlVWtRcHM5diBMcHNUIGhJVHBobSB3IGpJaEkuIEFJVlQsIHVJIHVrOTkgRmpJRjgKICAgICAgICArKyBraSBUakkgaElzcDlUIGtzIEVtIGttVElKSWggUWggaTlRRVQuIEtpIGtUIGtzIEU5aElFZnYgUW1JIFFpIFRqSXNJIFR1USBmRVRFCiAgICAgICAgKysgVHZxSXMgdUkgRkVtIExwc1QgaElUcGhtIFRqSSBoSXNwOVQgRXMta3MsIFFUaklodWtzSSB1SSB1azk5IEZRbVVJaFQgVGprcy4KICAgICAgICBraSAoISAkaElzcDlUKSB7CiAgICAgICAgICAgIGhJVHBobSB3OwogICAgICAgIH0KCiAgICAgICAga2kgKGtzX2ttVCgkaElzcDlUKSB8fCBrc19pOVFFVCgkaElzcDlUKSkgewogICAgICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBoSXNwOVQgZlFJc20nVCBGUW1URWttIEUgZklGa2xFOSBxOUVGSSwgdUkgdWs5OSBFc3NwbEkga1Qga3MgRW0ga21UIFRqSW0KICAgICAgICArKyBGRXNUIGtUIFRRIFFtSS4gYmpJbSBrVCBmUUlzIHVJIHVrOTkgRkVzVCBrVCBUUSBFIGk5UUVUIHNrbUZJIGtUIG1JSWZzIFRRIGVJCiAgICAgICAgKysgRkVzVCBUUSBUakkgSVZxSUZUSWYgZkVURSBUdnFJIGlRaCBUakkgZklVSTlRcUlocyBRcFQgUWkgcXBoSSBGUW1VSW1rSW1GSS4KICAgICAgICBoSVRwaG0gISBzVGhfRlFtVEVrbXMoKHNUaGttSikgJGhJc3A5VCwgJy4nKQogICAgICAgICAgICAgICAgPyAoa21UKSAkaElzcDlUIDogKGk5UUVUKSAkaElzcDlUOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBFSkpoSUpFVEkgcWhRcUloVHYgdWtUalFwVCBocG1ta21KIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGlwbUZUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRlE5cGxtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUdEpKaElKRVRJKCRpcG1GVGtRbSwgJEZROXBsbXMpCiAgICB7CiAgICAgICAgJFRqa3MtPkVKSmhJSkVUSSA9IEZRbHFFRlQoJ2lwbUZUa1FtJywgJ0ZROXBsbXMnKTsKCiAgICAgICAga2kgKElscVR2KCRUamtzLT5KaFFwcXMpKSB7CiAgICAgICAgICAgICRUamtzLT5RaGZJaHMgPSBtcDk5OwoKICAgICAgICAgICAgJFRqa3MtPmVrbWZrbUpzWydRaGZJaCddID0gW107CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIFRqSSBKa1VJbSBGRTk5ZUVGOCB1ams5SSBzSTlJRlRrbUogVGpJIEprVUltIEZROXBsbXMuCiAgICAgKgogICAgICogdGlUSWggaHBtbWttSiBUakkgRkU5OWVFRjgsIFRqSSBGUTlwbG1zIEVoSSBoSXNJVCBUUSBUakkgUWhrSmttRTkgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgRkU5OUVlOUkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gUW1GSWJrVGpvUTlwbG1zKCRGUTlwbG1zLCAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgJFFoa0prbUU5ID0gJFRqa3MtPkZROXBsbXM7CgogICAgICAgIGtpIChrc19tcDk5KCRRaGtKa21FOSkpIHsKICAgICAgICAgICAgJFRqa3MtPkZROXBsbXMgPSAkRlE5cGxtczsKICAgICAgICB9CgogICAgICAgICRoSXNwOVQgPSAkRkU5OWVFRjgoKTsKCiAgICAgICAgJFRqa3MtPkZROXBsbXMgPSAkUWhrSmttRTk7CgogICAgICAgIGhJVHBobSAkaElzcDlUOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIG1JdSBoSUZRaGZzIGttVFEgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga21zSWhUKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAgKysgT2ttRkkgSVVJaHYga21zSWhUIEpJVHMgVGhJRVRJZiA5azhJIEUgZUVURmoga21zSWhULCB1SSB1azk5IGxFOEkgc3BoSSBUakkKICAgICAgICArKyBla21ma21KcyBFaEkgc1RocEZUcGhJZiBrbSBFIHVFdiBUakVUIGtzIEZRbVVJbWtJbVQgdWpJbSBlcGs5ZmttSiBUaklzSQogICAgICAgICsrIGttc0loVHMgc1RFVElsSW1UcyBldiBVSWhraXZrbUogVGpJc0kgSTlJbEltVHMgRWhJIEVGVHBFOTl2IEVtIEVoaEV2LgogICAgICAgIGtpIChJbHFUdigkVUU5cElzKSkgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX0VoaEV2KGhJc0lUKCRVRTlwSXMpKSkgewogICAgICAgICAgICAkVUU5cElzID0gWyRVRTlwSXNdOwogICAgICAgIH0KCiAgICAgICAgKysgU0loSSwgdUkgdWs5OSBzUWhUIFRqSSBrbXNJaFQgOEl2cyBpUWggSVVJaHYgaElGUWhmIHNRIFRqRVQgSUVGaiBrbXNJaFQga3MKICAgICAgICArKyBrbSBUakkgc0VsSSBRaGZJaCBpUWggVGpJIGhJRlFoZi4gYkkgbUlJZiBUUSBsRThJIHNwaEkgVGprcyBrcyBUakkgRkVzSQogICAgICAgICsrIHNRIFRqSWhJIEVoSSBtUVQgRW12IEloaFFocyBRaCBxaFFlOUlscyB1akltIGttc0loVGttSiBUaklzSSBoSUZRaGZzLgogICAgICAgIEk5c0kgewogICAgICAgICAgICBpUWhJRUZqICgkVUU5cElzIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgICAgICA4c1FoVCgkVUU5cEkpOwoKICAgICAgICAgICAgICAgICRVRTlwSXNbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRUamtzLT5FcXE5dnJJaVFoSUdwSWh2b0U5OWVFRjhzKCk7CgogICAgICAgICsrIDJrbUU5OXYsIHVJIHVrOTkgaHBtIFRqa3MgUnBJaHYgRUpFa21zVCBUakkgZkVURWVFc0kgRlFtbUlGVGtRbSBFbWYgaElUcGhtCiAgICAgICAgKysgVGpJIGhJc3A5VHMuIGJJIHVrOTkgbUlJZiBUUSBFOXNRIGk5RVRUSW0gVGpJc0kgZWttZmttSnMgZUlpUWhJIGhwbW1rbUoKICAgICAgICArKyBUakkgUnBJaHYgc1EgVGpJdiBFaEkgRTk5IGttIFFtSSBqcEpJLCBpOUVUVEltSWYgRWhoRXYgaVFoIElWSUZwVGtRbS4KICAgICAgICBoSVRwaG0gJFRqa3MtPkZRbW1JRlRrUW0tPmttc0loVCgKICAgICAgICAgICAgJFRqa3MtPkpoRWxsRWgtPkZRbHFrOUlLbXNJaFQoJFRqa3MsICRVRTlwSXMpLAogICAgICAgICAgICAkVGprcy0+RjlJRW1ya21ma21Kcyh0aGg6Omk5RVRUSW0oJFVFOXBJcywgWCkpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIEttc0loVCBtSXUgaElGUWhmcyBrbVRRIFRqSSBmRVRFZUVzSSB1ams5SSBrSm1RaGttSiBJaGhRaHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttc0loVE1oS0ptUWhJKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAga2kgKElscVR2KCRVRTlwSXMpKSB7CiAgICAgICAgICAgIGhJVHBobSB3OwogICAgICAgIH0KCiAgICAgICAga2kgKCEga3NfRWhoRXYoaElzSVQoJFVFOXBJcykpKSB7CiAgICAgICAgICAgICRVRTlwSXMgPSBbJFVFOXBJc107CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgaVFoSUVGaiAoJFVFOXBJcyBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICAgICAgOHNRaFQoJFVFOXBJKTsKCiAgICAgICAgICAgICAgICAkVUU5cElzWyQ4SXZdID0gJFVFOXBJOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+RXFxOXZySWlRaElHcElodm9FOTllRUY4cygpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPkZRbW1JRlRrUW0tPkVpaUlGVGttSk9URVRJbEltVCgKICAgICAgICAgICAgJFRqa3MtPkpoRWxsRWgtPkZRbHFrOUlLbXNJaFRNaEtKbVFoSSgkVGprcywgJFVFOXBJcyksCiAgICAgICAgICAgICRUamtzLT5GOUlFbXJrbWZrbUpzKHRoaDo6aTlFVFRJbSgkVUU5cElzLCBYKSkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIEUgbUl1IGhJRlFoZiBFbWYgSklUIFRqSSBVRTlwSSBRaSBUakkgcWhrbEVodiA4SXYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJHNJUnBJbUZJCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga21zSWhUMElUS2YoRWhoRXYgJFVFOXBJcywgJHNJUnBJbUZJID0gbXA5OSkKICAgIHsKICAgICAgICAkVGprcy0+RXFxOXZySWlRaElHcElodm9FOTllRUY4cygpOwoKICAgICAgICAkc1I5ID0gJFRqa3MtPkpoRWxsRWgtPkZRbHFrOUlLbXNJaFQwSVRLZigkVGprcywgJFVFOXBJcywgJHNJUnBJbUZJKTsKCiAgICAgICAgJFVFOXBJcyA9ICRUamtzLT5GOUlFbXJrbWZrbUpzKCRVRTlwSXMpOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnFoUUZJc3NRaC0+cWhRRklzc0ttc0loVDBJVEtmKCRUamtzLCAkc1I5LCAkVUU5cElzLCAkc0lScEltRkkpOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIG1JdSBoSUZRaGZzIGttVFEgVGpJIFRFZTlJIHBza21KIEUgc3BlUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZklofFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaHxzVGhrbUogICRScElodgogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttc0loVFBza21KKEVoaEV2ICRGUTlwbG1zLCAkUnBJaHYpCiAgICB7CiAgICAgICAgJFRqa3MtPkVxcTl2cklpUWhJR3BJaHZvRTk5ZUVGOHMoKTsKCiAgICAgICAgWyRzUjksICRla21ma21Kc10gPSAkVGprcy0+RmhJRVRJT3BlKCRScElodik7CgogICAgICAgIGhJVHBobSAkVGprcy0+RlFtbUlGVGtRbS0+RWlpSUZUa21KT1RFVElsSW1UKAogICAgICAgICAgICAkVGprcy0+SmhFbGxFaC0+RlFscWs5SUttc0loVFBza21KKCRUamtzLCAkRlE5cGxtcywgJHNSOSksCiAgICAgICAgICAgICRUamtzLT5GOUlFbXJrbWZrbUpzKCRla21ma21KcykKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIG1JdSBoSUZRaGZzIGttVFEgVGpJIFRFZTlJIHBza21KIEUgc3BlUnBJaHYgdWprOUkga0ptUWhrbUogSWhoUWhzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaHxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1Roa21KICAkUnBJaHYKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrbXNJaFRNaEtKbVFoSVBza21KKEVoaEV2ICRGUTlwbG1zLCAkUnBJaHYpCiAgICB7CiAgICAgICAgJFRqa3MtPkVxcTl2cklpUWhJR3BJaHZvRTk5ZUVGOHMoKTsKCiAgICAgICAgWyRzUjksICRla21ma21Kc10gPSAkVGprcy0+RmhJRVRJT3BlKCRScElodik7CgogICAgICAgIGhJVHBobSAkVGprcy0+RlFtbUlGVGtRbS0+RWlpSUZUa21KT1RFVElsSW1UKAogICAgICAgICAgICAkVGprcy0+SmhFbGxFaC0+RlFscWs5SUttc0loVE1oS0ptUWhJUHNrbUooJFRqa3MsICRGUTlwbG1zLCAkc1I5KSwKICAgICAgICAgICAgJFRqa3MtPkY5SUVtcmttZmttSnMoJGVrbWZrbUpzKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQcWZFVEkgaElGUWhmcyBrbSBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSShFaGhFdiAkVUU5cElzKQogICAgewogICAgICAgICRUamtzLT5FcXE5dnJJaVFoSUdwSWh2b0U5OWVFRjhzKCk7CgogICAgICAgICRVRTlwSXMgPSBGUTk5SUZUKCRVRTlwSXMpLT5sRXEoaXBtRlRrUW0gKCRVRTlwSSkgewogICAgICAgICAgICBraSAoISAkVUU5cEkga21zVEVtRklRaSBycGs5ZkloKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gWydVRTlwSScgPT4gJFVFOXBJLCAnZWttZmttSnMnID0+ICRVRTlwSV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFskUnBJaHYsICRla21ma21Kc10gPSAkVGprcy0+cUVoc0lPcGUoJFVFOXBJKTsKCiAgICAgICAgICAgIGhJVHBobSBbJ1VFOXBJJyA9PiBtSXUgZ1ZxaElzc2tRbSgiKHskUnBJaHZ9KSIpLCAnZWttZmttSnMnID0+IGltICgpID0+ICRla21ma21Kc107CiAgICAgICAgfSk7CgogICAgICAgICRzUjkgPSAkVGprcy0+SmhFbGxFaC0+RlFscWs5SVBxZkVUSSgkVGprcywgJFVFOXBJcy0+bEVxKGltICgkVUU5cEkpID0+ICRVRTlwSVsnVUU5cEknXSktPkU5OSgpKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtLT5wcWZFVEkoJHNSOSwgJFRqa3MtPkY5SUVtcmttZmttSnMoCiAgICAgICAgICAgICRUamtzLT5KaEVsbEVoLT5xaElxRWhJcmttZmttSnMyUWhQcWZFVEkoJFRqa3MtPmVrbWZrbUpzLCAkVUU5cElzLT5sRXEoaW0gKCRVRTlwSSkgPT4gJFVFOXBJWydla21ma21KcyddKS0+RTk5KCkpCiAgICAgICAgKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQcWZFVEkgaElGUWhmcyBrbSBFIGFRc1RKaElPRzYgZkVURWVFc0kgcHNrbUogVGpJIHBxZkVUSSBpaFFsIHN2bVRFVi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJMmhRbChFaGhFdiAkVUU5cElzKQogICAgewogICAgICAgIGtpICghIGxJVGpRZl9JVmtzVHMoJFRqa3MtPkpoRWxsRWgsICdGUWxxazlJUHFmRVRJMmhRbCcpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSA2UUprRmdWRklxVGtRbSgnSGprcyBmRVRFZUVzSSBJbUprbUkgZlFJcyBtUVQgc3BxcVFoVCBUakkgcHFmRVRJMmhRbCBsSVRqUWYuJyk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+RXFxOXZySWlRaElHcElodm9FOTllRUY4cygpOwoKICAgICAgICAkc1I5ID0gJFRqa3MtPkpoRWxsRWgtPkZRbHFrOUlQcWZFVEkyaFFsKCRUamtzLCAkVUU5cElzKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtLT5wcWZFVEkoJHNSOSwgJFRqa3MtPkY5SUVtcmttZmttSnMoCiAgICAgICAgICAgICRUamtzLT5KaEVsbEVoLT5xaElxRWhJcmttZmttSnMyUWhQcWZFVEkyaFFsKCRUamtzLT5la21ma21KcywgJFVFOXBJcykKICAgICAgICApKTsKICAgIH0KCiAgICArKioKICAgICAqIEttc0loVCBRaCBwcWZFVEkgRSBoSUZRaGYgbEVURmprbUogVGpJIEVUVGhrZXBUSXMsIEVtZiBpazk5IGtUIHVrVGogVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSU1oS21zSWhUKEVoaEV2ICRFVFRoa2VwVElzLCBFaGhFdiAkVUU5cElzID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPnVqSWhJKCRFVFRoa2VwVElzKS0+SVZrc1RzKCkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5rbXNJaFQoRWhoRXZfbEloSkkoJEVUVGhrZXBUSXMsICRVRTlwSXMpKTsKICAgICAgICB9CgogICAgICAgIGtpIChJbHFUdigkVUU5cElzKSkgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAoZVFROSkgJFRqa3MtPjlrbGtUKFgpLT5wcWZFVEkoJFVFOXBJcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbXNJaFQgbUl1IGhJRlFoZnMgUWggcHFmRVRJIFRqSSBJVmtzVGttSiBRbUlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkcG1rUnBJcnYKICAgICAqIEBxRWhFbCAgRWhoRXZ8bXA5OSAgJHBxZkVUSQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxc0loVChFaGhFdiAkVUU5cElzLCAkcG1rUnBJcnYsICRwcWZFVEkgPSBtcDk5KQogICAgewogICAgICAgIGtpIChJbHFUdigkVUU5cElzKSkgewogICAgICAgICAgICBoSVRwaG0gdzsKICAgICAgICB9IEk5c0lraSAoJHBxZkVUSSA9PT0gW10pIHsKICAgICAgICAgICAgaElUcGhtIChrbVQpICRUamtzLT5rbXNJaFQoJFVFOXBJcyk7CiAgICAgICAgfQoKICAgICAgICBraSAoISBrc19FaGhFdihoSXNJVCgkVUU5cElzKSkpIHsKICAgICAgICAgICAgJFVFOXBJcyA9IFskVUU5cElzXTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICBpUWhJRUZqICgkVUU5cElzIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgICAgICA4c1FoVCgkVUU5cEkpOwoKICAgICAgICAgICAgICAgICRVRTlwSXNbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGtpIChrc19tcDk5KCRwcWZFVEkpKSB7CiAgICAgICAgICAgICRwcWZFVEkgPSBFaGhFdl84SXZzKGhJc0lUKCRVRTlwSXMpKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5FcXE5dnJJaVFoSUdwSWh2b0U5OWVFRjhzKCk7CgogICAgICAgICRla21ma21KcyA9ICRUamtzLT5GOUlFbXJrbWZrbUpzKEVoaEV2X2xJaEpJKAogICAgICAgICAgICB0aGg6Omk5RVRUSW0oJFVFOXBJcywgWCksCiAgICAgICAgICAgIEZROTlJRlQoJHBxZkVUSSktPmhJTElGVChpcG1GVGtRbSAoJFVFOXBJLCAkOEl2KSB7CiAgICAgICAgICAgICAgICBoSVRwaG0ga3Nfa21UKCQ4SXYpOwogICAgICAgICAgICB9KS0+RTk5KCkKICAgICAgICApKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtLT5FaWlJRlRrbUpPVEVUSWxJbVQoCiAgICAgICAgICAgICRUamtzLT5KaEVsbEVoLT5GUWxxazlJUHFzSWhUKCRUamtzLCAkVUU5cElzLCAoRWhoRXYpICRwbWtScElydiwgJHBxZkVUSSksCiAgICAgICAgICAgICRla21ma21KcwogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqCiAgICAgKiBAVGpoUXVzIFxLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAga2kgKCEga3NfbXBsSWhrRigkRWxRcG1UKSkgewogICAgICAgICAgICBUamhRdSBtSXUgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtKCdBUW0tbXBsSWhrRiBVRTlwSSBxRXNzSWYgVFEga21GaElsSW1UIGxJVGpRZi4nKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+a21GaElsSW1UZ0VGaihbJEZROXBsbSA9PiAkRWxRcG1UXSwgJElWVGhFKTsKICAgIH0KCiAgICArKioKICAgICAqIEttRmhJbEltVCBUakkgSmtVSW0gRlE5cGxtJ3MgVUU5cElzIGV2IFRqSSBKa1VJbSBFbFFwbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXY8c1Roa21KLCBpOVFFVHxrbVR8bXBsSWhrRi1zVGhrbUo+ICAkRlE5cGxtcwogICAgICogQHFFaEVsICBFaGhFdjxzVGhrbUosIGxrVklmPiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga21GaElsSW1UZ0VGaihFaGhFdiAkRlE5cGxtcywgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJEZROXBsbXMgRXMgJEZROXBsbSA9PiAkRWxRcG1UKSB7CiAgICAgICAgICAgIGtpICghIGtzX21wbEloa0YoJEVsUXBtVCkpIHsKICAgICAgICAgICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0oIkFRbS1tcGxJaGtGIFVFOXBJIHFFc3NJZiBFcyBrbUZoSWxJbVQgRWxRcG1UIGlRaCBGUTlwbG06ICckRlE5cGxtJy4iKTsKICAgICAgICAgICAgfSBJOXNJa2kgKCEga3Nfc1Roa21KKCRGUTlwbG0pKSB7CiAgICAgICAgICAgICAgICBUamhRdSBtSXUgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtKCdBUW0tRXNzUUZrRVRrVUkgRWhoRXYgcUVzc0lmIFRRIGttRmhJbEltVGdFRmogbElUalFmLicpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkRlE5cGxtc1skRlE5cGxtXSA9ICRUamtzLT5oRXUoInskVGprcy0+SmhFbGxFaC0+dWhFcSgkRlE5cGxtKX0gLyAkRWxRcG1UIik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnBxZkVUSShFaGhFdl9sSWhKSSgkRlE5cGxtcywgJElWVGhFKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqCiAgICAgKiBAVGpoUXVzIFxLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZJRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAga2kgKCEga3NfbXBsSWhrRigkRWxRcG1UKSkgewogICAgICAgICAgICBUamhRdSBtSXUgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtKCdBUW0tbXBsSWhrRiBVRTlwSSBxRXNzSWYgVFEgZklGaElsSW1UIGxJVGpRZi4nKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+ZklGaElsSW1UZ0VGaihbJEZROXBsbSA9PiAkRWxRcG1UXSwgJElWVGhFKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRmhJbEltVCBUakkgSmtVSW0gRlE5cGxtJ3MgVUU5cElzIGV2IFRqSSBKa1VJbSBFbFFwbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXY8c1Roa21KLCBpOVFFVHxrbVR8bXBsSWhrRi1zVGhrbUo+ICAkRlE5cGxtcwogICAgICogQHFFaEVsICBFaGhFdjxzVGhrbUosIGxrVklmPiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZklGaElsSW1UZ0VGaihFaGhFdiAkRlE5cGxtcywgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJEZROXBsbXMgRXMgJEZROXBsbSA9PiAkRWxRcG1UKSB7CiAgICAgICAgICAgIGtpICghIGtzX21wbEloa0YoJEVsUXBtVCkpIHsKICAgICAgICAgICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0oIkFRbS1tcGxJaGtGIFVFOXBJIHFFc3NJZiBFcyBmSUZoSWxJbVQgRWxRcG1UIGlRaCBGUTlwbG06ICckRlE5cGxtJy4iKTsKICAgICAgICAgICAgfSBJOXNJa2kgKCEga3Nfc1Roa21KKCRGUTlwbG0pKSB7CiAgICAgICAgICAgICAgICBUamhRdSBtSXUgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtKCdBUW0tRXNzUUZrRVRrVUkgRWhoRXYgcUVzc0lmIFRRIGZJRmhJbEltVGdFRmogbElUalFmLicpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkRlE5cGxtc1skRlE5cGxtXSA9ICRUamtzLT5oRXUoInskVGprcy0+SmhFbGxFaC0+dWhFcSgkRlE5cGxtKX0gLSAkRWxRcG1UIik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnBxZkVUSShFaGhFdl9sSWhKSSgkRlE5cGxtcywgJElWVGhFKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSTlJVEkgaElGUWhmcyBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAka2YKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSTlJVEkoJGtmID0gbXA5OSkKICAgIHsKICAgICAgICArKyBLaSBFbSBLbiBrcyBxRXNzSWYgVFEgVGpJIGxJVGpRZiwgdUkgdWs5OSBzSVQgVGpJIHVqSWhJIEY5RXBzSSBUUSBGaklGOCBUakkKICAgICAgICArKyBLbiBUUSA5SVQgZklVSTlRcUlocyBUUSBza2xxOXYgRW1mIFJwa0Y4OXYgaElsUVVJIEUgc2ttSjlJIGhRdSBpaFFsIFRqa3MKICAgICAgICArKyBmRVRFZUVzSSB1a1RqUXBUIGxFbXBFOTl2IHNxSUZraXZrbUogVGpJICJ1akloSSIgRjlFcHNJcyBRbSBUakkgUnBJaHYuCiAgICAgICAga2kgKCEga3NfbXA5OSgka2YpKSB7CiAgICAgICAgICAgICRUamtzLT51akloSSgkVGprcy0+aWhRbC4nLmtmJywgJz0nLCAka2YpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPkVxcTl2cklpUWhJR3BJaHZvRTk5ZUVGOHMoKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtLT5mSTlJVEkoCiAgICAgICAgICAgICRUamtzLT5KaEVsbEVoLT5GUWxxazlJbkk5SVRJKCRUamtzKSwgJFRqa3MtPkY5SUVtcmttZmttSnMoCiAgICAgICAgICAgICAgICAkVGprcy0+SmhFbGxFaC0+cWhJcUVoSXJrbWZrbUpzMlFobkk5SVRJKCRUamtzLT5la21ma21KcykKICAgICAgICAgICAgKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOcG0gRSBUaHBtRkVUSSBzVEVUSWxJbVQgUW0gVGpJIFRFZTlJLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVGhwbUZFVEkoKQogICAgewogICAgICAgICRUamtzLT5FcXE5dnJJaVFoSUdwSWh2b0U5OWVFRjhzKCk7CgogICAgICAgIGlRaElFRmogKCRUamtzLT5KaEVsbEVoLT5GUWxxazlJSGhwbUZFVEkoJFRqa3MpIEVzICRzUjkgPT4gJGVrbWZrbUpzKSB7CiAgICAgICAgICAgICRUamtzLT5GUW1tSUZUa1FtLT5zVEVUSWxJbVQoJHNSOSwgJGVrbWZrbUpzKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBtSXUga21zVEVtRkkgUWkgVGpJIFJwSWh2IGVwazlmSWguCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gbUl1IHNURVRrRigkVGprcy0+RlFtbUlGVGtRbSwgJFRqa3MtPkpoRWxsRWgsICRUamtzLT5xaFFGSXNzUWgpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IFJwSWh2IGttc1RFbUZJIGlRaCBFIHNwZS1ScElodi4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaVFoT3BlR3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1R3BJaHYoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFOTkgUWkgVGpJIFJwSWh2IGVwazlmSWgncyBGUTlwbG1zIGttIEUgVElWVC1RbTl2IEVoaEV2IHVrVGogRTk5IElWcWhJc3NrUW1zIElVRTlwRVRJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvUTlwbG1zKCkKICAgIHsKICAgICAgICBoSVRwaG0gISBrc19tcDk5KCRUamtzLT5GUTlwbG1zKQogICAgICAgICAgICAgICAgPyBFaGhFdl9sRXEoaW0gKCRGUTlwbG0pID0+ICRUamtzLT5KaEVsbEVoLT5KSVRCRTlwSSgkRlE5cGxtKSwgJFRqa3MtPkZROXBsbXMpCiAgICAgICAgICAgICAgICA6IFtdOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgaEV1IGZFVEVlRXNJIElWcWhJc3NrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoRXUoJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RlFtbUlGVGtRbS0+aEV1KCRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEZwaGhJbVQgUnBJaHYgVUU5cEkgZWttZmttSnMga20gRSBpOUVUVEltSWYgRWhoRXYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUcmttZmttSnMoKQogICAgewogICAgICAgIGhJVHBobSB0aGg6Omk5RVRUSW0oJFRqa3MtPmVrbWZrbUpzKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaEV1IEVoaEV2IFFpIGVrbWZrbUpzLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5FdXJrbWZrbUpzKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmVrbWZrbUpzOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBla21ma21KcyBRbSBUakkgUnBJaHYgZXBrOWZJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkZWttZmttSnMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVHZxSQogICAgICogQGhJVHBobSAkVGprcwogICAgICoKICAgICAqIEBUamhRdXMgXEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUcmttZmttSnMoRWhoRXYgJGVrbWZrbUpzLCAkVHZxSSA9ICd1akloSScpCiAgICB7CiAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkVHZxSSwgJFRqa3MtPmVrbWZrbUpzKSkgewogICAgICAgICAgICBUamhRdSBtSXUgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtKCJLbVVFOWtmIGVrbWZrbUogVHZxSTogeyRUdnFJfS4iKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5la21ma21Kc1skVHZxSV0gPSAkZWttZmttSnM7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGVrbWZrbUogVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUogICRUdnFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKgogICAgICogQFRqaFF1cyBcS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZya21ma21KKCRVRTlwSSwgJFR2cUkgPSAndWpJaEknKQogICAgewogICAgICAgIGtpICghIEVoaEV2XzhJdl9JVmtzVHMoJFR2cUksICRUamtzLT5la21ma21KcykpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbSgiS21VRTlrZiBla21ma21KIFR2cUk6IHskVHZxSX0uIik7CiAgICAgICAgfQoKICAgICAgICBraSAoa3NfRWhoRXYoJFVFOXBJKSkgewogICAgICAgICAgICAkVGprcy0+ZWttZmttSnNbJFR2cUldID0gRWhoRXZfVUU5cElzKEVoaEV2X2xFcSgKICAgICAgICAgICAgICAgIFskVGprcywgJ0ZFc1Rya21ma21KJ10sCiAgICAgICAgICAgICAgICBFaGhFdl9sSWhKSSgkVGprcy0+ZWttZmttSnNbJFR2cUldLCAkVUU5cEkpLAogICAgICAgICAgICApKTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+ZWttZmttSnNbJFR2cUldW10gPSAkVGprcy0+RkVzVHJrbWZrbUooJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIGVrbWZrbUogVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGRXNUcmttZmttSigkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtICRVRTlwSSBrbXNURW1GSVFpIHJFRjhJZmdtcGwgPyAkVUU5cEktPlVFOXBJIDogJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogM0loSkkgRW0gRWhoRXYgUWkgZWttZmttSnMga21UUSBRcGggZWttZmttSnMuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbEloSklya21ma21KcyhzSTlpICRScElodikKICAgIHsKICAgICAgICAkVGprcy0+ZWttZmttSnMgPSBFaGhFdl9sSWhKSV9oSUZwaHNrVUkoJFRqa3MtPmVrbWZrbUpzLCAkUnBJaHYtPmVrbWZrbUpzKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklsUVVJIEU5OSBRaSBUakkgSVZxaElzc2tRbXMgaWhRbCBFIDlrc1QgUWkgZWttZmttSnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGVrbWZrbUpzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGOUlFbXJrbWZrbUpzKEVoaEV2ICRla21ma21KcykKICAgIHsKICAgICAgICBoSVRwaG0gRlE5OUlGVCgkZWttZmttSnMpCiAgICAgICAgICAgICAgICAgICAgLT5oSUxJRlQoaXBtRlRrUW0gKCRla21ma21KKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhJVHBobSAkZWttZmttSiBrbXNURW1GSVFpIGdWcWhJc3NrUW1vUW1UaEVGVDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC0+bEVxKFskVGprcywgJ0ZFc1Rya21ma21KJ10pCiAgICAgICAgICAgICAgICAgICAgLT5VRTlwSXMoKQogICAgICAgICAgICAgICAgICAgIC0+RTk5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBzRkU5RWggVHZxSSBVRTlwSSBpaFFsIEVtIHBtOG1RdW0gVHZxSSBRaSBrbXFwVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGk5RVRUSW1CRTlwSSgkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIGtzX0VoaEV2KCRVRTlwSSkgPyBqSUVmKHRoaDo6aTlFVFRJbSgkVUU5cEkpKSA6ICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZklpRXA5VCA4SXYgbUVsSSBRaSBUakkgVEVlOUkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGZJaUVwOVQxSXZBRWxJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJ2tmJzsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZkVURWVFc0kgRlFtbUlGVGtRbSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcb1FtbUlGVGtRbUttVEloaUVGSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FtbUlGVGtRbSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBmRVRFZUVzSSBScElodiBxaFFGSXNzUWgga21zVEVtRkkuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XGFoUUZJc3NRaHNcYWhRRklzc1FoCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRhaFFGSXNzUWgoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWhRRklzc1FoOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBScElodiBKaEVsbEVoIGttc1RFbUZJLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlwwaEVsbEVoc1wwaEVsbEVoCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQwaEVsbEVoKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpoRWxsRWg7CiAgICB9CgogICAgKyoqCiAgICAgKiBQc0kgVGpJICJ1aGtUSSIgYW5NIEZRbW1JRlRrUW0gdWpJbSBJVklGcFRrbUogVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBzSWJoa1RJYWZRKCkKICAgIHsKICAgICAgICAkVGprcy0+cHNJYmhrVElhZlEgPSBUaHBJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIFVFOXBJIGtzIEUgUnBJaHYgZXBrOWZJaCBrbXNURW1GSSBRaCBFIG85UXNwaEkuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzR3BJaHZFZTlJKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFVFOXBJIGttc1RFbUZJUWkgc0k5aSB8fAogICAgICAgICAgICAgICAkVUU5cEkga21zVEVtRklRaSBnOVFScEltVHJwazlmSWggfHwKICAgICAgICAgICAgICAgJFVFOXBJIGttc1RFbUZJUWkgTkk5RVRrUW0gfHwKICAgICAgICAgICAgICAgJFVFOXBJIGttc1RFbUZJUWkgbzlRc3BoSTsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRjlRbUkoKQogICAgewogICAgICAgIGhJVHBobSBGOVFtSSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBScElodiB1a1RqUXBUIFRqSSBKa1VJbSBxaFFxSWhUa0lzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxaFFxSWhUa0lzCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRjlRbUlia1RqUXBUKEVoaEV2ICRxaFFxSWhUa0lzKQogICAgewogICAgICAgIGhJVHBobSBURXEoJFRqa3MtPkY5UW1JKCksIGlwbUZUa1FtICgkRjlRbUkpIHBzSSAoJHFoUXFJaFRrSXMpIHsKICAgICAgICAgICAgaVFoSUVGaiAoJHFoUXFJaFRrSXMgRXMgJHFoUXFJaFR2KSB7CiAgICAgICAgICAgICAgICAkRjlRbUktPnskcWhRcUloVHZ9ID0gbXA5OTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogbzlRbUkgVGpJIFJwSWh2IHVrVGpRcFQgVGpJIEprVUltIGVrbWZrbUpzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVkZJcVQKICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGOVFtSWJrVGpRcFRya21ma21KcyhFaGhFdiAkSVZGSXFUKQogICAgewogICAgICAgIGhJVHBobSBURXEoJFRqa3MtPkY5UW1JKCksIGlwbUZUa1FtICgkRjlRbUkpIHBzSSAoJElWRklxVCkgewogICAgICAgICAgICBpUWhJRUZqICgkSVZGSXFUIEVzICRUdnFJKSB7CiAgICAgICAgICAgICAgICAkRjlRbUktPmVrbWZrbUpzWyRUdnFJXSA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBucGxxIFRqSSBGcGhoSW1UIE9HNiBFbWYgZWttZmttSnMuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgLi4uJEVoSnMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZwbHEoLi4uJEVoSnMpCiAgICB7CiAgICAgICAgZnBscSgKICAgICAgICAgICAgJFRqa3MtPlRRT1I5KCksCiAgICAgICAgICAgICRUamtzLT5KSVRya21ma21KcygpLAogICAgICAgICAgICAuLi4kRWhKcywKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBucGxxIFRqSSBoRXUgRnBoaEltVCBPRzYgdWtUaiBJbGVJZmZJZiBla21ma21Kcy4KICAgICAqCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmcGxxTkV1T1I5KCkKICAgIHsKICAgICAgICBmcGxxKCRUamtzLT5UUU5FdU9SOSgpKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogbmtJIEVtZiBmcGxxIFRqSSBGcGhoSW1UIE9HNiBFbWYgZWttZmttSnMuCiAgICAgKgogICAgICogQGhJVHBobSBtSVVJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZmYoKQogICAgewogICAgICAgIGZmKCRUamtzLT5UUU9SOSgpLCAkVGprcy0+SklUcmttZmttSnMoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBua0kgRW1mIGZwbHEgVGpJIEZwaGhJbVQgT0c2IHVrVGogSWxlSWZmSWYgZWttZmttSnMuCiAgICAgKgogICAgICogQGhJVHBobSBtSVVJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZmZORXVPUjkoKQogICAgewogICAgICAgIGZmKCRUamtzLT5UUU5FdU9SOSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIFNFbWY5SSBmdm1FbGtGIGxJVGpRZiBGRTk5cyBrbVRRIFRqSSBsSVRqUWYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKgogICAgICogQFRqaFF1cyBcckVmM0lUalFmb0U5OWdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19GRTk5KCRsSVRqUWYsICRxRWhFbElUSWhzKQogICAgewogICAgICAgIGtpIChzVEVUa0Y6OmpFczNFRmhRKCRsSVRqUWYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+bEVGaFFvRTk5KCRsSVRqUWYsICRxRWhFbElUSWhzKTsKICAgICAgICB9CgogICAgICAgIGtpIChzVGhfc1RFaFRzX3VrVGooJGxJVGpRZiwgJ3VqSWhJJykpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5mdm1FbGtGYmpJaEkoJGxJVGpRZiwgJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAgc1RFVGtGOjpUamhRdXJFZjNJVGpRZm9FOTlnVkZJcVRrUW0oJGxJVGpRZik7CiAgICB9Cn0K