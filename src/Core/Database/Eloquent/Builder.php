<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IHgudyAKICogbkVUSSB3NS13eC14d3haCiAqIMSQw6J2IDnDoCBUw6BrIHPhuqNtIEbhu6dFIG/DlEEwIEhjIEhBU1MgSDMgbkIgQUtBdC4gQnBrIDnDsm1KIDhqw7RtSiBz4butIGbhu6VtSiA4amsgRmrGsEUgxJHGsOG7o0YgcWrDqXEuCiAqKwoKCm1FbElzcUVGSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVQ7Cgpwc0kgckVmM0lUalFmb0U5OWdWRklxVGtRbTsKcHNJIG85UXNwaEk7CnBzSSBnVkZJcVRrUW07CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloIEVzIHJwazlmSWhvUW1UaEVGVDsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW07CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXHRoaEV2RWU5STsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxvUW1GSWhtc1xycGs5ZnNHcEloa0lzOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXG9RbUZJaG1zXEdwSWhrSXNOSTlFVGtRbXNqa3FzOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXE5JOUVUa1Ftc1xySTlRbUpzSFEzRW12Owpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbTsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZkloIEVzIEdwSWh2cnBrOWZJaDsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxOSUZRaGZzQVFUMlFwbWZnVkZJcVRrUW07CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcUG1rUnBJb1Ftc1RoRWttVEJrUTlFVGtRbWdWRklxVGtRbTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFx0aGg7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcT1RoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXEhoRWtUc1wyUWh1RWhmc29FOTlzOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXEhoRWtUc1xnOVFScEltVFxvUWxsa1RHcElodjNJVGpRZjsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxIaEVrVHNcZzlRUnBJbVRcYUVKa21FVGtRbTsKcHNJIE5JaTlJRlRrUW1vOUVzczsKcHNJIE5JaTlJRlRrUW0zSVRqUWY7CgorKioKICogQHFoUXFJaFR2LWhJRWYgU2tKakloTWhmSWhycGs5ZkloYWhRVnYgJFFoYmpJaEkKICogQHFoUXFJaFR2LWhJRWYgU2tKakloTWhmSWhycGs5ZkloYWhRVnYgJHVqSWhJQVFUCiAqIEBxaFFxSWhUdi1oSUVmIFNrSmpJaE1oZklocnBrOWZJaGFoUVZ2ICRRaGJqSWhJQVFUCiAqCiAqIEBsa1ZrbSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWgKICorCkY5RXNzIHJwazlmSWgga2xxOUlsSW1UcyBycGs5Zklob1FtVGhFRlQKewoKICAgIHBzSSBycGs5ZnNHcEloa0lzLCAyUWh1RWhmc29FOTlzLCBHcEloa0lzTkk5RVRrUW1zamtxcyB7CiAgICAgICAgcnBrOWZzR3BJaGtJczo6c1E5SSBFcyBlRXNJT1E5STsKICAgIH0KICAgIHBzSSBhRUprbUVUa1FtOwoKICAgICsqKgogICAgICogSGpJIGVFc0kgUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaAogICAgICorCiAgICBxaFFUSUZUSWYgJFJwSWh2OwoKICAgICsqKgogICAgICogSGpJIGxRZkk5IGVJa21KIFJwSWhrSWYuCiAgICAgKgogICAgICogQFVFaCBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5CiAgICAgKisKICAgIHFoUVRJRlRJZiAkbFFmSTk7CgogICAgKyoqCiAgICAgKiBIakkgaEk5RVRrUW1zamtxcyBUakVUIHNqUXA5ZiBlSSBJRUpJaCA5UUVmSWYuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJElFSkloNlFFZiA9IFtdOwoKICAgICsqKgogICAgICogdDk5IFFpIFRqSSBKOVFlRTk5diBoSUprc1RJaElmIGVwazlmSWggbEVGaFFzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbEVGaFFzID0gW107CgogICAgKyoqCiAgICAgKiB0OTkgUWkgVGpJIDlRRkU5OXYgaElKa3NUSWhJZiBlcGs5ZkloIGxFRmhRcy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkOVFGRTkzRUZoUXMgPSBbXTsKCiAgICArKioKICAgICAqIHQgaElxOUVGSWxJbVQgaVFoIFRqSSBUdnFrRkU5IGZJOUlUSSBpcG1GVGtRbS4KICAgICAqCiAgICAgKiBAVUVoIFxvOVFzcGhJCiAgICAgKisKICAgIHFoUVRJRlRJZiAkUW1uSTlJVEk7CgogICAgKyoqCiAgICAgKiBIakkgcWhRcUloVGtJcyBUakVUIHNqUXA5ZiBlSSBoSVRwaG1JZiBpaFFsIFJwSWh2IGVwazlmSWguCiAgICAgKgogICAgICogQFVFaCBzVGhrbUpbXQogICAgICorCiAgICBxaFFUSUZUSWYgJHFoUXFJaFR2YUVzc1RqaHAgPSBbCiAgICAgICAgJ2loUWwnLAogICAgXTsKCiAgICArKioKICAgICAqIEhqSSBsSVRqUWZzIFRqRVQgc2pRcDlmIGVJIGhJVHBobUlmIGloUWwgUnBJaHYgZXBrOWZJaC4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSltdCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcUVzc1RqaHAgPSBbCiAgICAgICAgJ0VKSmhJSkVUSScsCiAgICAgICAgJ0VVSWhFSkknLAogICAgICAgICdFVUonLAogICAgICAgICdGUXBtVCcsCiAgICAgICAgJ2ZmJywKICAgICAgICAnZmZoRXVzUjknLAogICAgICAgICdmUUlzbVRJVmtzVCcsCiAgICAgICAgJ2ZRSXNtVElWa3NUUWgnLAogICAgICAgICdmcGxxJywKICAgICAgICAnZnBscWhFdXNSOScsCiAgICAgICAgJ0lWa3NUcycsCiAgICAgICAgJ0lWa3NUc1FoJywKICAgICAgICAnSVZxOUVrbScsCiAgICAgICAgJ0pJVGVrbWZrbUpzJywKICAgICAgICAnSklURlFtbUlGVGtRbScsCiAgICAgICAgJ0pJVEpoRWxsRWgnLAogICAgICAgICdrbHE5UWZJJywKICAgICAgICAna21zSWhUJywKICAgICAgICAna21zSWhUSklUa2YnLAogICAgICAgICdrbXNJaFRRaGtKbVFoSScsCiAgICAgICAgJ2ttc0loVHBza21KJywKICAgICAgICAna21zSWhUUWhrSm1RaElwc2ttSicsCiAgICAgICAgJ2xFVicsCiAgICAgICAgJ2xrbScsCiAgICAgICAgJ2hFdScsCiAgICAgICAgJ2hFdVVFOXBJJywKICAgICAgICAnc3BsJywKICAgICAgICAnVFFzUjknLAogICAgICAgICdUUWhFdXNSOScsCiAgICBdOwoKICAgICsqKgogICAgICogdHFxOWtJZiBKOVFlRTkgc0ZRcUlzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRzRlFxSXMgPSBbXTsKCiAgICArKioKICAgICAqIE5JbFFVSWYgSjlRZUU5IHNGUXFJcy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkaElsUVVJZk9GUXFJcyA9IFtdOwoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGc5UVJwSW1UIFJwSWh2IGVwazlmSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZRbXNUaHBGVChHcElodnJwazlmSWggJFJwSWh2KQogICAgewogICAgICAgICRUamtzLT5ScElodiA9ICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFbWYgaElUcGhtIEVtIHBtLXNFVUlmIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBsRThJKEVoaEV2ICRFVFRoa2VwVElzID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCRFVFRoa2VwVElzKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgbUl1IEo5UWVFOSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGtmSW1Ua2lrSWgKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxPRlFxSXxcbzlRc3BoSSAgJHNGUXFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1a1RqMDlRZUU5T0ZRcUkoJGtmSW1Ua2lrSWgsICRzRlFxSSkKICAgIHsKICAgICAgICAkVGprcy0+c0ZRcUlzWyRrZkltVGtpa0loXSA9ICRzRlFxSTsKCiAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoJHNGUXFJLCAnSVZUSW1mJykpIHsKICAgICAgICAgICAgJHNGUXFJLT5JVlRJbWYoJFRqa3MpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklsUVVJIEUgaElKa3NUSWhJZiBKOVFlRTkgc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXE9GUXFJfHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1a1RqUXBUMDlRZUU5T0ZRcUkoJHNGUXFJKQogICAgewogICAgICAgIGtpICghIGtzX3NUaGttSigkc0ZRcUkpKSB7CiAgICAgICAgICAgICRzRlFxSSA9IEpJVF9GOUVzcygkc0ZRcUkpOwogICAgICAgIH0KCiAgICAgICAgcG1zSVQoJFRqa3MtPnNGUXFJc1skc0ZRcUldKTsKCiAgICAgICAgJFRqa3MtPmhJbFFVSWZPRlFxSXNbXSA9ICRzRlFxSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklsUVVJIEU5OSBRaCBxRXNzSWYgaElKa3NUSWhJZiBKOVFlRTkgc0ZRcUlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8bXA5OSAgJHNGUXFJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUalFwVDA5UWVFOU9GUXFJcyhFaGhFdiAkc0ZRcUlzID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoISBrc19FaGhFdigkc0ZRcUlzKSkgewogICAgICAgICAgICAkc0ZRcUlzID0gRWhoRXZfOEl2cygkVGprcy0+c0ZRcUlzKTsKICAgICAgICB9CgogICAgICAgIGlRaElFRmogKCRzRlFxSXMgRXMgJHNGUXFJKSB7CiAgICAgICAgICAgICRUamtzLT51a1RqUXBUMDlRZUU5T0ZRcUkoJHNGUXFJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFaGhFdiBRaSBKOVFlRTkgc0ZRcUlzIFRqRVQgdUloSSBoSWxRVUlmIGloUWwgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJbFFVSWZPRlFxSXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElsUVVJZk9GUXFJczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHVqSWhJIEY5RXBzSSBRbSBUakkgcWhrbEVodiA4SXYgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRrZgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEkxSXYoJGtmKQogICAgewogICAgICAgIGtpICgka2Yga21zVEVtRklRaSAzUWZJOSkgewogICAgICAgICAgICAka2YgPSAka2YtPkpJVDFJdigpOwogICAgICAgIH0KCiAgICAgICAga2kgKGtzX0VoaEV2KCRrZikgfHwgJGtmIGttc1RFbUZJUWkgdGhoRXZFZTlJKSB7CiAgICAgICAgICAgIGtpIChrbV9FaGhFdigkVGprcy0+bFFmSTktPkpJVDFJdkh2cUkoKSwgWydrbVQnLCAna21USUpJaCddKSkgewogICAgICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT51akloSUttVElKSWhLbU5FdSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJGtmKTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICRUamtzLT5ScElodi0+dWpJaElLbSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJGtmKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAga2kgKCRrZiAhPT0gbXA5OSAmJiAkVGprcy0+bFFmSTktPkpJVDFJdkh2cUkoKSA9PT0gJ3NUaGttSicpIHsKICAgICAgICAgICAgJGtmID0gKHNUaGttSikgJGtmOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT51akloSSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJz0nLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgdWpJaEkgRjlFcHNJIFFtIFRqSSBxaGtsRWh2IDhJdiBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSTFJdkFRVCgka2YpCiAgICB7CiAgICAgICAga2kgKCRrZiBrbXNURW1GSVFpIDNRZkk5KSB7CiAgICAgICAgICAgICRrZiA9ICRrZi0+SklUMUl2KCk7CiAgICAgICAgfQoKICAgICAgICBraSAoa3NfRWhoRXYoJGtmKSB8fCAka2Yga21zVEVtRklRaSB0aGhFdkVlOUkpIHsKICAgICAgICAgICAga2kgKGttX0VoaEV2KCRUamtzLT5sUWZJOS0+SklUMUl2SHZxSSgpLCBbJ2ttVCcsICdrbVRJSkloJ10pKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+UnBJaHYtPnVqSWhJS21USUpJaEFRVEttTkV1KCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAka2YpOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT51akloSUFRVEttKCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAka2YpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICBraSAoJGtmICE9PSBtcDk5ICYmICRUamtzLT5sUWZJOS0+SklUMUl2SHZxSSgpID09PSAnc1Roa21KJykgewogICAgICAgICAgICAka2YgPSAoc1Roa21KKSAka2Y7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJKCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAnIT0nLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgZUVza0YgdWpJaEkgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEkoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBraSAoJEZROXBsbSBrbXNURW1GSVFpIG85UXNwaEkgJiYga3NfbXA5OSgkUXFJaEVUUWgpKSB7CiAgICAgICAgICAgICRGUTlwbG0oJFJwSWh2ID0gJFRqa3MtPmxRZkk5LT5tSXVHcElodmJrVGpRcFROSTlFVGtRbXNqa3FzKCkpOwoKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5FZmZBSXNUSWZiakloSUdwSWh2KCRScElodi0+SklUR3BJaHYoKSwgJGVRUTlJRW0pOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5ScElodi0+dWpJaEkoLi4uaXBtRl9KSVRfRWhKcygpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGVFc2tGIHVqSWhJIEY5RXBzSSBUUSBUakkgUnBJaHYsIEVtZiBoSVRwaG0gVGpJIGlraHNUIGhJc3A5VC4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fHNURVRrRnxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVGJqSWhJKCRGUTlwbG0sICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSSguLi5pcG1GX0pJVF9FaEpzKCkpLT5pa2hzVCgpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfEVoaEV2fHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoYmpJaEkoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSkKICAgIHsKICAgICAgICBbJFVFOXBJLCAkUXFJaEVUUWhdID0gJFRqa3MtPlJwSWh2LT5xaElxRWhJQkU5cEl0bWZNcUloRVRRaCgKICAgICAgICAgICAgJFVFOXBJLCAkUXFJaEVUUWgsIGlwbUZfbXBsX0VoSnMoKSA9PT0geAogICAgICAgICk7CgogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaEkoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgZUVza0YgInVqSWhJIG1RVCIgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaElBUVQoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAkZVFROUlFbS4nIG1RVCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaCB1akloSSBtUVQiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxFaGhFdnxzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJQVFUKCRGUTlwbG0sICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSUFRVCgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJ1FoJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoZkloIGV2IiBGOUVwc0kgaVFoIEUgVGtsSXNURWxxIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOUVUSXNUKCRGUTlwbG0gPSBtcDk5KQogICAgewogICAgICAgIGtpIChrc19tcDk5KCRGUTlwbG0pKSB7CiAgICAgICAgICAgICRGUTlwbG0gPSAkVGprcy0+bFFmSTktPkpJVG9oSUVUSWZ0VG9ROXBsbSgpID8/ICdGaElFVElmX0VUJzsKICAgICAgICB9CgogICAgICAgICRUamtzLT5ScElodi0+OUVUSXNUKCRGUTlwbG0pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgRW0gIlFoZkloIGV2IiBGOUVwc0kgaVFoIEUgVGtsSXNURWxxIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUTlmSXNUKCRGUTlwbG0gPSBtcDk5KQogICAgewogICAgICAgIGtpIChrc19tcDk5KCRGUTlwbG0pKSB7CiAgICAgICAgICAgICRGUTlwbG0gPSAkVGprcy0+bFFmSTktPkpJVG9oSUVUSWZ0VG9ROXBsbSgpID8/ICdGaElFVElmX0VUJzsKICAgICAgICB9CgogICAgICAgICRUamtzLT5ScElodi0+UTlmSXNUKCRGUTlwbG0pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBGUTk5SUZUa1FtIFFpIGxRZkk5cyBpaFFsIHE5RWttIEVoaEV2cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAka1RJbHMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqdmZoRVRJKEVoaEV2ICRrVElscykKICAgIHsKICAgICAgICAka21zVEVtRkkgPSAkVGprcy0+bUl1M1FmSTlLbXNURW1GSSgpOwoKICAgICAgICBoSVRwaG0gJGttc1RFbUZJLT5tSXVvUTk5SUZUa1FtKEVoaEV2X2xFcShpcG1GVGtRbSAoJGtUSWwpIHBzSSAoJGtUSWxzLCAka21zVEVtRkkpIHsKICAgICAgICAgICAgJGxRZkk5ID0gJGttc1RFbUZJLT5tSXUyaFFscnBrOWZJaCgka1RJbCk7CgogICAgICAgICAgICBraSAoRlFwbVQoJGtUSWxzKSA+IFgpIHsKICAgICAgICAgICAgICAgICRsUWZJOS0+cWhJVUltVHM2RVd2NlFFZmttSiA9IDNRZkk5OjpxaElVSW1UczZFV3Y2UUVma21KKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSAkbFFmSTk7CiAgICAgICAgfSwgJGtUSWxzKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBGUTk5SUZUa1FtIFFpIGxRZkk5cyBpaFFsIEUgaEV1IFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkUnBJaHYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRla21ma21KcwogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXG9ROTlJRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxHcElodigkUnBJaHYsICRla21ma21KcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+anZmaEVUSSgKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPnNJOUlGVCgkUnBJaHYsICRla21ma21KcykKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAka2YKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcb1E5OUlGVGtRbXxzVEVUa0ZbXXxzVEVUa0Z8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWttZigka2YsICRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAga2kgKGtzX0VoaEV2KCRrZikgfHwgJGtmIGttc1RFbUZJUWkgdGhoRXZFZTlJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWttZjNFbXYoJGtmLCAkRlE5cGxtcyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJMUl2KCRrZiktPmlraHNUKCRGUTlwbG1zKTsKICAgIH0KCiAgICArKioKICAgICAqIDJrbWYgbHA5VGtxOUkgbFFmSTlzIGV2IFRqSWtoIHFoa2xFaHYgOEl2cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXHRoaEV2RWU5SXxFaGhFdiAgJGtmcwogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcb1E5OUlGVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWttZjNFbXYoJGtmcywgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICAka2ZzID0gJGtmcyBrbXNURW1GSVFpIHRoaEV2RWU5SSA/ICRrZnMtPlRRdGhoRXYoKSA6ICRrZnM7CgogICAgICAgIGtpIChJbHFUdigka2ZzKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5LT5tSXVvUTk5SUZUa1FtKCk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJMUl2KCRrZnMpLT5KSVQoJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdiBRaCBUamhRdSBFbSBJVkZJcVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXG9ROTlJRlRrUW18c1RFVGtGfHNURVRrRltdCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOT4KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrbWZNaDJFazkoJGtmLCAkRlE5cGxtcyA9IFsnKiddKQogICAgewogICAgICAgICRoSXNwOVQgPSAkVGprcy0+aWttZigka2YsICRGUTlwbG1zKTsKCiAgICAgICAgJGtmID0gJGtmIGttc1RFbUZJUWkgdGhoRXZFZTlJID8gJGtmLT5UUXRoaEV2KCkgOiAka2Y7CgogICAgICAgIGtpIChrc19FaGhFdigka2YpKSB7CiAgICAgICAgICAgIGtpIChGUXBtVCgkaElzcDlUKSAhPT0gRlFwbVQoRWhoRXZfcG1rUnBJKCRrZikpKSB7CiAgICAgICAgICAgICAgICBUamhRdSAobUl1IDNRZkk5QVFUMlFwbWZnVkZJcVRrUW0pLT5zSVQzUWZJOSgKICAgICAgICAgICAgICAgICAgICBKSVRfRjlFc3MoJFRqa3MtPmxRZkk5KSwgRWhoRXZfZmtpaSgka2YsICRoSXNwOVQtPmxRZkk5MUl2cygpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICAgICAgfQoKICAgICAgICBraSAoa3NfbXA5OSgkaElzcDlUKSkgewogICAgICAgICAgICBUamhRdSAobUl1IDNRZkk5QVFUMlFwbWZnVkZJcVRrUW0pLT5zSVQzUWZJOSgKICAgICAgICAgICAgICAgIEpJVF9GOUVzcygkVGprcy0+bFFmSTkpLCAka2YKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkaElzcDlUOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdiBRaCBoSVRwaG0gaWhJc2ogbFFmSTkga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrbWZNaEFJdSgka2YsICRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAga2kgKCEga3NfbXA5OSgkbFFmSTkgPSAkVGprcy0+aWttZigka2YsICRGUTlwbG1zKSkpIHsKICAgICAgICAgICAgaElUcGhtICRsUWZJOTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+bUl1M1FmSTlLbXNURW1GSSgpOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdiBRaCBGRTk5IEUgRkU5OWVFRjguCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxvUTk5SUZUa1FtfHNURVRrRltdfHNURVRrRnxsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWttZk1oKCRrZiwgJEZROXBsbXMgPSBbJyonXSwgbzlRc3BoSSAkRkU5OWVFRjggPSBtcDk5KQogICAgewogICAgICAgIGtpICgkRlE5cGxtcyBrbXNURW1GSVFpIG85UXNwaEkpIHsKICAgICAgICAgICAgJEZFOTllRUY4ID0gJEZROXBsbXM7CgogICAgICAgICAgICAkRlE5cGxtcyA9IFsnKiddOwogICAgICAgIH0KCiAgICAgICAga2kgKCEga3NfbXA5OSgkbFFmSTkgPSAkVGprcy0+aWttZigka2YsICRGUTlwbG1zKSkpIHsKICAgICAgICAgICAgaElUcGhtICRsUWZJOTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRkU5OWVFRjgoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaWtoc1QgaElGUWhmIGxFVEZqa21KIFRqSSBFVFRoa2VwVElzIFFoIGttc1RFbVRrRVRJIGtULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVE1oQUl1KEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRVRTlwSXMgPSBbXSkKICAgIHsKICAgICAgICBraSAoISBrc19tcDk5KCRrbXNURW1GSSA9ICRUamtzLT51akloSSgkRVRUaGtlcFRJcyktPmlraHNUKCkpKSB7CiAgICAgICAgICAgIGhJVHBobSAka21zVEVtRkk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdTNRZkk5S21zVEVtRkkoRWhoRXZfbEloSkkoJEVUVGhrZXBUSXMsICRVRTlwSXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaWtoc1QgaElGUWhmIGxFVEZqa21KIFRqSSBFVFRoa2VwVElzLiBLaSBUakkgaElGUWhmIGtzIG1RVCBpUXBtZiwgRmhJRVRJIGtULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVE1ob2hJRVRJKEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRVRTlwSXMgPSBbXSkKICAgIHsKICAgICAgICBraSAoISBrc19tcDk5KCRrbXNURW1GSSA9IChGOVFtSSAkVGprcyktPnVqSWhJKCRFVFRoa2VwVElzKS0+aWtoc1QoKSkpIHsKICAgICAgICAgICAgaElUcGhtICRrbXNURW1GSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+RmhJRVRJTWgya2hzVCgkRVRUaGtlcFRJcywgJFVFOXBJcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0VFRJbHFUIFRRIEZoSUVUSSBUakkgaElGUWhmLiBLaSBFIHBta1JwSSBGUW1zVGhFa21UIFVrUTlFVGtRbSBRRkZwaHMsIEVUVElscVQgVFEgaWttZiBUakkgbEVURmprbUogaElGUWhmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGaElFVElNaDJraHNUKEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRVRTlwSXMgPSBbXSkKICAgIHsKICAgICAgICBUaHYgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPnVrVGpPRVVJcVFrbVRLaUFJSWZJZihpbSAoKSA9PiAkVGprcy0+RmhJRVRJKEVoaEV2X2xJaEpJKCRFVFRoa2VwVElzLCAkVUU5cElzKSkpOwogICAgICAgIH0gRkVURmogKFBta1JwSW9RbXNUaEVrbVRCa1E5RVRrUW1nVkZJcVRrUW0gJEkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5wc0liaGtUSWFmUSgpLT51akloSSgkRVRUaGtlcFRJcyktPmlraHNUKCkgPz8gVGpoUXUgJEk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIFFoIHBxZkVUSSBFIGhJRlFoZiBsRVRGamttSiBUakkgRVRUaGtlcFRJcywgRW1mIGlrOTkga1QgdWtUaiBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSU1ob2hJRVRJKEVoaEV2ICRFVFRoa2VwVElzLCBFaGhFdiAkVUU5cElzID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIFRFcSgkVGprcy0+aWtoc1RNaG9oSUVUSSgkRVRUaGtlcFRJcywgJFVFOXBJcyksIGlwbUZUa1FtICgka21zVEVtRkkpIHBzSSAoJFVFOXBJcykgewogICAgICAgICAgICBraSAoISAka21zVEVtRkktPnVFc05JRkltVDl2b2hJRVRJZikgewogICAgICAgICAgICAgICAgJGttc1RFbUZJLT5pazk5KCRVRTlwSXMpLT5zRVVJKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIFJwSWh2IEVtZiBKSVQgVGpJIGlraHNUIGhJc3A5VCBRaCBUamhRdSBFbSBJVkZJcVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOT4KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlraHNUTWgyRWs5KCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAga2kgKCEga3NfbXA5OSgkbFFmSTkgPSAkVGprcy0+aWtoc1QoJEZROXBsbXMpKSkgewogICAgICAgICAgICBoSVRwaG0gJGxRZkk5OwogICAgICAgIH0KCiAgICAgICAgVGpoUXUgKG1JdSAzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtKS0+c0lUM1FmSTkoSklUX0Y5RXNzKCRUamtzLT5sUWZJOSkpOwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBUakkgUnBJaHYgRW1mIEpJVCBUakkgaWtoc1QgaElzcDlUIFFoIEZFOTkgRSBGRTk5ZUVGOC4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8c1RFVGtGfGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVE1oKCRGUTlwbG1zID0gWycqJ10sIG85UXNwaEkgJEZFOTllRUY4ID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoJEZROXBsbXMga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRGRTk5ZUVGOCA9ICRGUTlwbG1zOwoKICAgICAgICAgICAgJEZROXBsbXMgPSBbJyonXTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJGxRZkk5ID0gJFRqa3MtPmlraHNUKCRGUTlwbG1zKSkpIHsKICAgICAgICAgICAgaElUcGhtICRsUWZJOTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRkU5OWVFRjgoKTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIFJwSWh2IEVtZiBKSVQgVGpJIGlraHNUIGhJc3A5VCBraSBrVCdzIFRqSSBzUTlJIGxFVEZqa21KIGhJRlFoZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOQogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtPFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTk+CiAgICAgKiBAVGpoUXVzIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcM3A5VGtxOUlOSUZRaGZzMlFwbWZnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNROUkoJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBUaHYgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmVFc0lPUTlJKCRGUTlwbG1zKTsKICAgICAgICB9IEZFVEZqIChOSUZRaGZzQVFUMlFwbWZnVkZJcVRrUW0pIHsKICAgICAgICAgICAgVGpoUXUgKG1JdSAzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtKS0+c0lUM1FmSTkoSklUX0Y5RXNzKCRUamtzLT5sUWZJOSkpOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHNrbUo5SSBGUTlwbG0ncyBVRTlwSSBpaFFsIFRqSSBpa2hzVCBoSXNwOVQgUWkgRSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVUU5cEkoJEZROXBsbSkKICAgIHsKICAgICAgICBraSAoJGhJc3A5VCA9ICRUamtzLT5pa2hzVChbJEZROXBsbV0pKSB7CiAgICAgICAgICAgICRGUTlwbG0gPSAkRlE5cGxtIGttc1RFbUZJUWkgZ1ZxaElzc2tRbSA/ICRGUTlwbG0tPkpJVEJFOXBJKCRUamtzLT5KSVQwaEVsbEVoKCkpIDogJEZROXBsbTsKCiAgICAgICAgICAgIGhJVHBobSAkaElzcDlULT57T1RoOjpFaVRJaDZFc1QoJEZROXBsbSwgJy4nKX07CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMElUIEUgc2ttSjlJIEZROXBsbSdzIFVFOXBJIGloUWwgVGpJIGlraHNUIGhJc3A5VCBRaSBFIFJwSWh2IGtpIGtUJ3MgVGpJIHNROUkgbEVURmprbUogaElGUWhmLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOT4KICAgICAqIEBUamhRdXMgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVwzcDlUa3E5SU5JRlFoZnMyUXBtZmdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1E5SUJFOXBJKCRGUTlwbG0pCiAgICB7CiAgICAgICAgJEZROXBsbSA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1FtID8gJEZROXBsbS0+SklUQkU5cEkoJFRqa3MtPkpJVDBoRWxsRWgoKSkgOiAkRlE5cGxtOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnNROUkoWyRGUTlwbG1dKS0+e09UaDo6RWlUSWg2RXNUKCRGUTlwbG0sICcuJyl9OwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgc2ttSjlJIEZROXBsbSdzIFVFOXBJIGloUWwgVGpJIGlraHNUIGhJc3A5VCBRaSBUakkgUnBJaHYgUWggVGpoUXUgRW0gSVZGSXFUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOT4KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFVFOXBJTWgyRWs5KCRGUTlwbG0pCiAgICB7CiAgICAgICAgJEZROXBsbSA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1FtID8gJEZROXBsbS0+SklUQkU5cEkoJFRqa3MtPkpJVDBoRWxsRWgoKSkgOiAkRlE5cGxtOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlraHNUTWgyRWs5KFskRlE5cGxtXSktPntPVGg6OkVpVEloNkVzVCgkRlE5cGxtLCAnLicpfTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIFJwSWh2IEVzIEUgInNJOUlGVCIgc1RFVElsSW1ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXG9ROTlJRlRrUW18c1RFVGtGW10KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVCgkRlE5cGxtcyA9IFsnKiddKQogICAgewogICAgICAgICRlcGs5ZkloID0gJFRqa3MtPkVxcTl2T0ZRcUlzKCk7CgogICAgICAgICsrIEtpIHVJIEVGVHBFOTl2IGlRcG1mIGxRZkk5cyB1SSB1azk5IEU5c1EgSUVKSWggOVFFZiBFbXYgaEk5RVRrUW1zamtxcyBUakVUCiAgICAgICAgKysgakVVSSBlSUltIHNxSUZraWtJZiBFcyBtSUlma21KIFRRIGVJIElFSkloIDlRRWZJZiwgdWprRmogdWs5OSBzUTlVSSBUakkKICAgICAgICArKyBtL1ggUnBJaHYga3NzcEkgaVFoIFRqSSBmSVVJOVFxSWhzIFRRIEVVUWtmIGhwbW1rbUogRSA5UVQgUWkgUnBJaGtJcy4KICAgICAgICBraSAoRlFwbVQoJGxRZkk5cyA9ICRlcGs5ZkloLT5KSVQzUWZJOXMoJEZROXBsbXMpKSA+IHcpIHsKICAgICAgICAgICAgJGxRZkk5cyA9ICRlcGs5ZkloLT5JRUpJaDZRRWZOSTlFVGtRbXMoJGxRZkk5cyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGVwazlmSWgtPkpJVDNRZkk5KCktPm1JdW9ROTlJRlRrUW0oJGxRZkk5cyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGp2ZmhFVElmIGxRZkk5cyB1a1RqUXBUIElFSkloIDlRRWZrbUouCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTlbXXxzVEVUa0ZbXQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUM1FmSTlzKCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+anZmaEVUSSgKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5KSVQoJEZROXBsbXMpLT5FOTkoKQogICAgICAgICktPkU5OSgpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBUakkgaEk5RVRrUW1zamtxcyBpUWggVGpJIGxRZkk5cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbFFmSTlzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBJRUpJaDZRRWZOSTlFVGtRbXMoRWhoRXYgJGxRZkk5cykKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+SUVKSWg2UUVmIEVzICRtRWxJID0+ICRGUW1zVGhFa21UcykgewogICAgICAgICAgICArKyAyUWggbUlzVElmIElFSkloIDlRRWZzIHVJJzk5IHM4a3EgOVFFZmttSiBUaklsIGpJaEkgRW1mIFRqSXYgdWs5OSBlSSBzSVQgRXMgRW0KICAgICAgICAgICAgKysgSUVKSWggOVFFZiBRbSBUakkgUnBJaHYgVFEgaElUaGtJVUkgVGpJIGhJOUVUa1FtIHNRIFRqRVQgVGpJdiB1azk5IGVJIElFSkloCiAgICAgICAgICAgICsrIDlRRWZJZiBRbSBUakVUIFJwSWh2LCBlSUZFcHNJIFRqRVQga3MgdWpJaEkgVGpJdiBKSVQganZmaEVUSWYgRXMgbFFmSTlzLgogICAgICAgICAgICBraSAoISBzVGhfRlFtVEVrbXMoJG1FbEksICcuJykpIHsKICAgICAgICAgICAgICAgICRsUWZJOXMgPSAkVGprcy0+SUVKSWg2UUVmTkk5RVRrUW0oJGxRZkk5cywgJG1FbEksICRGUW1zVGhFa21Ucyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkbFFmSTlzOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWg5diA5UUVmIFRqSSBoSTlFVGtRbXNqa3EgUW0gRSBzSVQgUWkgbFFmSTlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRsUWZJOXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQHFFaEVsICBcbzlRc3BoSSAgJEZRbXNUaEVrbVRzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJRUpJaDZRRWZOSTlFVGtRbShFaGhFdiAkbFFmSTlzLCAkbUVsSSwgbzlRc3BoSSAkRlFtc1RoRWttVHMpCiAgICB7CiAgICAgICAgKysgMmtoc1QgdUkgdWs5OSAiZUVGOCBwcSIgVGpJIElWa3NUa21KIHVqSWhJIEZRbWZrVGtRbXMgUW0gVGpJIFJwSWh2IHNRIHVJIEZFbQogICAgICAgICsrIEVmZiBRcGggSUVKSWggRlFtc1RoRWttVHMuIEhqSW0gdUkgdWs5OSBsSWhKSSBUakkgdWpJaElzIFRqRVQgdUloSSBRbSBUakkKICAgICAgICArKyBScElodiBlRUY4IFRRIGtUIGttIFFoZkloIFRqRVQgRW12IHVqSWhJIEZRbWZrVGtRbXMgbGtKalQgZUkgc3FJRmtpa0lmLgogICAgICAgICRoSTlFVGtRbSA9ICRUamtzLT5KSVROSTlFVGtRbSgkbUVsSSk7CgogICAgICAgICRoSTlFVGtRbS0+RWZmZ0VKSWhvUW1zVGhFa21UcygkbFFmSTlzKTsKCiAgICAgICAgJEZRbXNUaEVrbVRzKCRoSTlFVGtRbSk7CgogICAgICAgICsrIE1tRkkgdUkgakVVSSBUakkgaElzcDlUcywgdUkgTHBzVCBsRVRGaiBUalFzSSBlRUY4IHBxIFRRIFRqSWtoIHFFaEltVCBsUWZJOXMKICAgICAgICArKyBwc2ttSiBUakkgaEk5RVRrUW1zamtxIGttc1RFbUZJLiBIakltIHVJIExwc1QgaElUcGhtIFRqSSBpa21rc2pJZiBFaGhFdnMKICAgICAgICArKyBRaSBsUWZJOXMgdWprRmogakVVSSBlSUltIElFSkloOXYganZmaEVUSWYgRW1mIEVoSSBoSUVma0lmIGlRaCBoSVRwaG0uCiAgICAgICAgaElUcGhtICRoSTlFVGtRbS0+bEVURmooCiAgICAgICAgICAgICRoSTlFVGtRbS0+a21rVE5JOUVUa1FtKCRsUWZJOXMsICRtRWxJKSwKICAgICAgICAgICAgJGhJOUVUa1FtLT5KSVRnRUpJaCgpLCAkbUVsSQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGhJOUVUa1FtIGttc1RFbUZJIGlRaCBUakkgSmtVSW0gaEk5RVRrUW0gbUVsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJG1FbEkKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxOSTlFVGtRbXNcTkk5RVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5JOUVUa1FtKCRtRWxJKQogICAgewogICAgICAgICsrIGJJIHVFbVQgVFEgaHBtIEUgaEk5RVRrUW1zamtxIFJwSWh2IHVrVGpRcFQgRW12IEZRbXNUaEVrbXMgc1EgVGpFVCB1SSB1azk5CiAgICAgICAgKysgbVFUIGpFVUkgVFEgaElsUVVJIFRqSXNJIHVqSWhJIEY5RXBzSXMgbEVtcEU5OXYgdWprRmogSklUcyBoSUU5OXYgakVGOHYKICAgICAgICArKyBFbWYgSWhoUWggcWhRbUkuIGJJIGZRbSdUIHVFbVQgRlFtc1RoRWttVHMgZUlGRXBzSSB1SSBFZmYgSUVKSWggUW1Jcy4KICAgICAgICAkaEk5RVRrUW0gPSBOSTlFVGtRbTo6bVFvUW1zVGhFa21UcyhpcG1GVGtRbSAoKSBwc0kgKCRtRWxJKSB7CiAgICAgICAgICAgIFRodiB7CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVDNRZkk5KCktPm1JdUttc1RFbUZJKCktPiRtRWxJKCk7CiAgICAgICAgICAgIH0gRkVURmogKHJFZjNJVGpRZm9FOTlnVkZJcVRrUW0pIHsKICAgICAgICAgICAgICAgIFRqaFF1IE5JOUVUa1FtQVFUMlFwbWZnVkZJcVRrUW06OmxFOEkoJFRqa3MtPkpJVDNRZkk5KCksICRtRWxJKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAkbUlzVElmID0gJFRqa3MtPmhJOUVUa1Ftc0FJc1RJZlBtZkloKCRtRWxJKTsKCiAgICAgICAgKysgS2kgVGpJaEkgRWhJIG1Jc1RJZiBoSTlFVGtRbXNqa3FzIHNJVCBRbSBUakkgUnBJaHYsIHVJIHVrOTkgcXBUIFRqUXNJIFFtVFEKICAgICAgICArKyBUakkgUnBJaHYga21zVEVtRklzIHNRIFRqRVQgVGpJdiBGRW0gZUkgakVtZjlJZiBFaVRJaCBUamtzIGhJOUVUa1Ftc2prcQogICAgICAgICsrIGtzIDlRRWZJZi4gS20gVGprcyB1RXYgVGpJdiB1azk5IEU5OSBUaGtGODlJIGZRdW0gRXMgVGpJdiBFaEkgOVFFZklmLgogICAgICAgIGtpIChGUXBtVCgkbUlzVElmKSA+IHcpIHsKICAgICAgICAgICAgJGhJOUVUa1FtLT5KSVRHcElodigpLT51a1RqKCRtSXNUSWYpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSTlFVGtRbTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZklJcTl2IG1Jc1RJZiBoSTlFVGtRbXMgaVFoIEUgSmtVSW0gVFFxLTlJVUk5IGhJOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhJOUVUa1Ftc0FJc1RJZlBtZkloKCRoSTlFVGtRbSkKICAgIHsKICAgICAgICAkbUlzVElmID0gW107CgogICAgICAgICsrIGJJIEVoSSBlRXNrRkU5OXYgOVFROGttSiBpUWggRW12IGhJOUVUa1Ftc2prcXMgVGpFVCBFaEkgbUlzVElmIGZJSXFJaCBUakVtCiAgICAgICAgKysgVGpJIEprVUltIFRRcS05SVVJOSBoSTlFVGtRbXNqa3EuIGJJIHVrOTkgTHBzVCBGaklGOCBpUWggRW12IGhJOUVUa1FtcwogICAgICAgICsrIFRqRVQgc1RFaFQgdWtUaiBUakkgSmtVSW0gVFFxIGhJOUVUa1FtcyBFbWYgRWZmcyBUaklsIFRRIFFwaCBFaGhFdnMuCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPklFSkloNlFFZiBFcyAkbUVsSSA9PiAkRlFtc1RoRWttVHMpIHsKICAgICAgICAgICAga2kgKCRUamtzLT5rc0FJc1RJZlBtZkloKCRoSTlFVGtRbSwgJG1FbEkpKSB7CiAgICAgICAgICAgICAgICAkbUlzVElmW3NwZXNUaCgkbUVsSSwgc1RoOUltKCRoSTlFVGtRbS4nLicpKV0gPSAkRlFtc1RoRWttVHM7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkbUlzVElmOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBoSTlFVGtRbXNqa3Ega3MgbUlzVElmLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc0FJc1RJZlBtZkloKCRoSTlFVGtRbSwgJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9GUW1URWttcygkbUVsSSwgJy4nKSAmJiBzVGhfc1RFaFRzX3VrVGooJG1FbEksICRoSTlFVGtRbS4nLicpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgOUVXdiBGUTk5SUZUa1FtIGlRaCBUakkgSmtVSW0gUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXDZFV3ZvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGcGhzUWgoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RXFxOXZPRlFxSXMoKS0+UnBJaHYtPkZwaHNRaCgpLT5sRXEoaXBtRlRrUW0gKCRoSUZRaGYpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCktPm1JdTJoUWxycGs5ZkloKCRoSUZRaGYpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgSkltSWhrRiAiUWhmSWggZXYiIEY5RXBzSSBraSBUakkgUnBJaHYgZlFJc20nVCBFOWhJRWZ2IGpFVUkgUW1JLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSW1pUWhGSU1oZklocnYoKQogICAgewogICAgICAgIGtpIChJbHFUdigkVGprcy0+UnBJaHYtPlFoZklocykgJiYgSWxxVHYoJFRqa3MtPlJwSWh2LT5wbWtRbU1oZklocykpIHsKICAgICAgICAgICAgJFRqa3MtPlFoZklocnYoJFRqa3MtPmxRZkk5LT5KSVRHcEU5a2lrSWYxSXZBRWxJKCksICdFc0YnKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBGUTk5SUZUa1FtIHVrVGogVGpJIFVFOXBJcyBRaSBFIEprVUltIEZROXBsbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJDhJdgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHE5cEY4KCRGUTlwbG0sICQ4SXYgPSBtcDk5KQogICAgewogICAgICAgICRoSXNwOVRzID0gJFRqa3MtPlRRckVzSSgpLT5xOXBGOCgkRlE5cGxtLCAkOEl2KTsKCiAgICAgICAgJEZROXBsbSA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1FtID8gJEZROXBsbS0+SklUQkU5cEkoJFRqa3MtPkpJVDBoRWxsRWgoKSkgOiAkRlE5cGxtOwoKICAgICAgICAkRlE5cGxtID0gT1RoOjpFaVRJaCgkRlE5cGxtLCAieyRUamtzLT5sUWZJOS0+SklUSEVlOUkoKX0uIik7CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBqRXMgRSBscFRFVFFoIGlRaCBUakkgaElScElzVElmIEZROXBsbSwgdUkgdWs5OSBzcWttIFRqaFFwSmoKICAgICAgICArKyBUakkgaElzcDlUcyBFbWYgbHBURVRJIFRqSSBVRTlwSXMgc1EgVGpFVCBUakkgbHBURVRJZiBVSWhza1FtIFFpIFRqSXNJCiAgICAgICAgKysgRlE5cGxtcyBFaEkgaElUcGhtSWYgRXMgdlFwIHVRcDlmIElWcUlGVCBpaFFsIFRqSXNJIGc5UVJwSW1UIGxRZkk5cy4KICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPmpFczBJVDNwVEVUUWgoJEZROXBsbSkgJiYKICAgICAgICAgICAgISAkVGprcy0+bFFmSTktPmpFc29Fc1QoJEZROXBsbSkgJiYKICAgICAgICAgICAgISBrbV9FaGhFdigkRlE5cGxtLCAkVGprcy0+bFFmSTktPkpJVG5FVElzKCkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkaElzcDlUczsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkaElzcDlUcy0+bEVxKGlwbUZUa1FtICgkVUU5cEkpIHBzSSAoJEZROXBsbSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5LT5tSXUyaFFscnBrOWZJaChbJEZROXBsbSA9PiAkVUU5cEldKS0+eyRGUTlwbG19OwogICAgICAgIH0pOwogICAgfQoKCgogICAgKyoqCiAgICAgKiBPRVVJIEUgbUl1IGxRZkk5IEVtZiBoSVRwaG0gVGpJIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8JFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZoSUVUSShFaGhFdiAkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSBURXEoJFRqa3MtPm1JdTNRZkk5S21zVEVtRkkoJEVUVGhrZXBUSXMpLCBpcG1GVGtRbSAoJGttc1RFbUZJKSB7CiAgICAgICAgICAgICRrbXNURW1GSS0+c0VVSSgpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBFIG1JdSBsUWZJOSBFbWYgaElUcGhtIFRqSSBrbXNURW1GSS4gdDk5UXUgbEVzcy1Fc3NrSm1sSW1ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8JFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJb2hJRVRJKEVoaEV2ICRFVFRoa2VwVElzKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTktPnBtSnBFaGZJZihpcG1GVGtRbSAoKSBwc0kgKCRFVFRoa2VwVElzKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+bUl1M1FmSTlLbXNURW1GSSgpLT5GaElFVEkoJEVUVGhrZXBUSXMpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBFIG1JdSBsUWZJOSBrbXNURW1GSSB1a1RqIGxFc3MgRXNza0ptbEltVCB1a1RqUXBUIGhFa3NrbUogbFFmSTkgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8JFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJb2hJRVRJR3BrSVQ5dihFaGhFdiAkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAzUWZJOTo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+aVFoRklvaElFVEkoJEVUVGhrZXBUSXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIFBxZkVUSSBoSUZRaGZzIGttIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKCRUamtzLT5FZmZQcWZFVElmdFRvUTlwbG0oJFVFOXBJcykpOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIG1JdSBoSUZRaGZzIFFoIHBxZkVUSSBUakkgSVZrc1RrbUogUW1Jcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJHBta1JwSXJ2CiAgICAgKiBAcUVoRWwgIEVoaEV2fG1wOTkgICRwcWZFVEkKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwcXNJaFQoRWhoRXYgJFVFOXBJcywgJHBta1JwSXJ2LCAkcHFmRVRJID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoSWxxVHYoJFVFOXBJcykpIHsKICAgICAgICAgICAgaElUcGhtIHc7CiAgICAgICAgfQoKICAgICAgICBraSAoISBrc19FaGhFdihoSXNJVCgkVUU5cElzKSkpIHsKICAgICAgICAgICAgJFVFOXBJcyA9IFskVUU5cElzXTsKICAgICAgICB9CgogICAgICAgIGtpIChrc19tcDk5KCRwcWZFVEkpKSB7CiAgICAgICAgICAgICRwcWZFVEkgPSBFaGhFdl84SXZzKGhJc0lUKCRVRTlwSXMpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPnBxc0loVCgKICAgICAgICAgICAgJFRqa3MtPkVmZkhrbElzVEVscXNIUVBxc0loVEJFOXBJcygkVGprcy0+RWZmUG1rUnBJS2ZzSFFQcXNJaFRCRTlwSXMoJFVFOXBJcykpLAogICAgICAgICAgICAkcG1rUnBJcnYsCiAgICAgICAgICAgICRUamtzLT5FZmZQcWZFVElmdFRIUVBxc0loVG9ROXBsbXMoJHBxZkVUSSkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogUHFmRVRJIFRqSSBGUTlwbG0ncyBwcWZFVEkgVGtsSXNURWxxLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUTlwbG0KICAgICAqIEBoSVRwaG0ga21UfGlFOXNJCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBUUXBGaigkRlE5cGxtID0gbXA5OSkKICAgIHsKICAgICAgICAkVGtsSSA9ICRUamtzLT5sUWZJOS0+aWhJc2pIa2xJc1RFbHEoKTsKCiAgICAgICAga2kgKCRGUTlwbG0pIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKFskRlE5cGxtID0+ICRUa2xJXSk7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEgJFRqa3MtPmxRZkk5LT5wc0lzSGtsSXNURWxxcygpIHx8IGtzX21wOTkoJEZROXBsbSkpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKFskRlE5cGxtID0+ICRUa2xJXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+a21GaElsSW1UKAogICAgICAgICAgICAkRlE5cGxtLCAkRWxRcG1ULCAkVGprcy0+RWZmUHFmRVRJZnRUb1E5cGxtKCRJVlRoRSkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogbklGaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPmZJRmhJbEltVCgKICAgICAgICAgICAgJEZROXBsbSwgJEVsUXBtVCwgJFRqa3MtPkVmZlBxZkVUSWZ0VG9ROXBsbSgkSVZUaEUpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBUakkgInBxZkVUSWYgRVQiIEZROXBsbSBUUSBFbSBFaGhFdiBRaSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmUHFmRVRJZnRUb1E5cGxtKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPmxRZkk5LT5wc0lzSGtsSXNURWxxcygpIHx8CiAgICAgICAgICAgIGtzX21wOTkoJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKSkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkRlE5cGxtLCAkVUU5cElzKSkgewogICAgICAgICAgICAkVGtsSXNURWxxID0gJFRqa3MtPmxRZkk5LT5paElzakhrbElzVEVscU9UaGttSigpOwoKICAgICAgICAgICAga2kgKAogICAgICAgICAgICAgICAgJFRqa3MtPmxRZkk5LT5qRXNPSVQzcFRFVFFoKCRGUTlwbG0pCiAgICAgICAgICAgICAgICB8fCAkVGprcy0+bFFmSTktPmpFc3RUVGhrZXBUSU9JVDNwVEVUUWgoJEZROXBsbSkKICAgICAgICAgICAgICAgIHx8ICRUamtzLT5sUWZJOS0+akVzb0VzVCgkRlE5cGxtKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICRUa2xJc1RFbHEgPSAkVGprcy0+bFFmSTktPm1JdUttc1RFbUZJKCkKICAgICAgICAgICAgICAgICAgICAtPmlRaEZJMms5OShbJEZROXBsbSA9PiAkVGtsSXNURWxxXSkKICAgICAgICAgICAgICAgICAgICAtPkpJVHRUVGhrZXBUSXMoKVskRlE5cGxtXSA/PyAkVGtsSXNURWxxOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkVUU5cElzID0gRWhoRXZfbEloSkkoWyRGUTlwbG0gPT4gJFRrbElzVEVscV0sICRVRTlwSXMpOwogICAgICAgIH0KCiAgICAgICAgJHNJSmxJbVRzID0gcWhJSl9zcTlrVCgnK1xzL0VzXHMvK2snLCAkVGprcy0+UnBJaHYtPmloUWwpOwoKICAgICAgICAkUnBFOWtpa0lmb1E5cGxtID0gSW1mKCRzSUpsSW1UcykuJy4nLiRGUTlwbG07CgogICAgICAgICRVRTlwSXNbJFJwRTlraWtJZm9ROXBsbV0gPSB0aGg6OkpJVCgkVUU5cElzLCAkUnBFOWtpa0lmb1E5cGxtLCAkVUU5cElzWyRGUTlwbG1dKTsKCiAgICAgICAgcG1zSVQoJFVFOXBJc1skRlE5cGxtXSk7CgogICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIHBta1JwSSBLbnMgVFEgVGpJIGttc0loVElmIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZQbWtScElLZnNIUVBxc0loVEJFOXBJcyhFaGhFdiAkVUU5cElzKQogICAgewogICAgICAgIGtpICghICRUamtzLT5sUWZJOS0+cHNJc1Bta1JwSUtmcygpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgICAgIH0KCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPmxRZkk5LT5wbWtScElLZnMoKSBFcyAkcG1rUnBJS2Z0VFRoa2VwVEkpIHsKICAgICAgICAgICAgaVFoSUVGaiAoJFVFOXBJcyBFcyAmJGhRdSkgewogICAgICAgICAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkcG1rUnBJS2Z0VFRoa2VwVEksICRoUXUpKSB7CiAgICAgICAgICAgICAgICAgICAgJGhRdSA9IEVoaEV2X2xJaEpJKFskcG1rUnBJS2Z0VFRoa2VwVEkgPT4gJFRqa3MtPmxRZkk5LT5tSXVQbWtScElLZigpXSwgJGhRdSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIFRrbElzVEVscXMgVFEgVGpJIGttc0loVElmIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZIa2xJc1RFbHFzSFFQcXNJaFRCRTlwSXMoRWhoRXYgJFVFOXBJcykKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICAgICAgfQoKICAgICAgICAkVGtsSXNURWxxID0gJFRqa3MtPmxRZkk5LT5paElzakhrbElzVEVscU9UaGttSigpOwoKICAgICAgICAkRlE5cGxtcyA9IEVoaEV2X2lrOVRJaChbCiAgICAgICAgICAgICRUamtzLT5sUWZJOS0+SklUb2hJRVRJZnRUb1E5cGxtKCksCiAgICAgICAgICAgICRUamtzLT5sUWZJOS0+SklUUHFmRVRJZnRUb1E5cGxtKCksCiAgICAgICAgXSk7CgogICAgICAgIGlRaElFRmogKCRGUTlwbG1zIEVzICRGUTlwbG0pIHsKICAgICAgICAgICAgaVFoSUVGaiAoJFVFOXBJcyBFcyAmJGhRdSkgewogICAgICAgICAgICAgICAgJGhRdSA9IEVoaEV2X2xJaEpJKFskRlE5cGxtID0+ICRUa2xJc1RFbHFdLCAkaFF1KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgVGpJICJwcWZFVElmIEVUIiBGUTlwbG0gVFEgVGpJIHBxZkVUSWYgRlE5cGxtcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcHFmRVRJCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZQcWZFVElmdFRIUVBxc0loVG9ROXBsbXMoRWhoRXYgJHBxZkVUSSkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgaElUcGhtICRwcWZFVEk7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEga3NfbXA5OSgkRlE5cGxtKSAmJgogICAgICAgICAgICAhIEVoaEV2XzhJdl9JVmtzVHMoJEZROXBsbSwgJHBxZkVUSSkgJiYKICAgICAgICAgICAgISBrbV9FaGhFdigkRlE5cGxtLCAkcHFmRVRJKSkgewogICAgICAgICAgICAkcHFmRVRJW10gPSAkRlE5cGxtOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRwcWZFVEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSTlJVEkgaElGUWhmcyBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSTlJVEkoKQogICAgewogICAgICAgIGtpIChrc3NJVCgkVGprcy0+UW1uSTlJVEkpKSB7CiAgICAgICAgICAgIGhJVHBobSBGRTk5X3BzSWhfaXBtRigkVGprcy0+UW1uSTlJVEksICRUamtzKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPmZJOUlUSSgpOwogICAgfQoKICAgICsqKgogICAgICogTnBtIFRqSSBmSWlFcDlUIGZJOUlUSSBpcG1GVGtRbSBRbSBUakkgZXBrOWZJaC4KICAgICAqCiAgICAgKiBPa21GSSB1SSBmUSBtUVQgRXFxOXYgc0ZRcUlzIGpJaEksIFRqSSBoUXUgdWs5OSBFRlRwRTk5diBlSSBmSTlJVElmLgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJbkk5SVRJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlJwSWh2LT5mSTlJVEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgaElxOUVGSWxJbVQgaVFoIFRqSSBmSWlFcDlUIGZJOUlUSSBpcG1GVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUW1uSTlJVEkobzlRc3BoSSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgJFRqa3MtPlFtbkk5SVRJID0gJEZFOTllRUY4OwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSBsUWZJOSBqRXMgRSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc0FFbElmT0ZRcUkoJHNGUXFJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTkgJiYgJFRqa3MtPmxRZkk5LT5qRXNBRWxJZk9GUXFJKCRzRlFxSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvRTk5IFRqSSBKa1VJbSA5UUZFOSBsUWZJOSBzRlFxSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRzRlFxSXMKICAgICAqIEBoSVRwaG0gc1RFVGtGfGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRlFxSXMoJHNGUXFJcykKICAgIHsKICAgICAgICAkZXBrOWZJaCA9ICRUamtzOwoKICAgICAgICBpUWhJRUZqICh0aGg6OnVoRXEoJHNGUXFJcykgRXMgJHNGUXFJID0+ICRxRWhFbElUSWhzKSB7CiAgICAgICAgICAgICsrIEtpIFRqSSBzRlFxSSA4SXYga3MgRW0ga21USUpJaCwgVGpJbSBUakkgc0ZRcUkgdUVzIHFFc3NJZiBFcyBUakkgVUU5cEkgRW1mCiAgICAgICAgICAgICsrIFRqSSBxRWhFbElUSWggOWtzVCBrcyBJbHFUdiwgc1EgdUkgdWs5OSBpUWhsRVQgVGpJIHNGUXFJIG1FbEkgRW1mIFRqSXNJCiAgICAgICAgICAgICsrIHFFaEVsSVRJaHMgakloSS4gSGpJbSwgdUknOTkgZUkgaElFZnYgVFEgRkU5OSBUakkgc0ZRcUkgUW0gVGpJIGxRZkk5LgogICAgICAgICAgICBraSAoa3Nfa21UKCRzRlFxSSkpIHsKICAgICAgICAgICAgICAgIFskc0ZRcUksICRxRWhFbElUSWhzXSA9IFskcUVoRWxJVElocywgW11dOwogICAgICAgICAgICB9CgogICAgICAgICAgICArKyBBSVZUIHVJJzk5IHFFc3MgVGpJIHNGUXFJIEZFOTllRUY4IFRRIFRqSSBGRTk5T0ZRcUkgbElUalFmIHVqa0ZqIHVrOTkgVEU4SQogICAgICAgICAgICArKyBGRWhJIFFpIEpoUXBxa21KIFRqSSAidWpJaElzIiBxaFFxSWg5diBzUSBUakkgOVFKa0ZFOSBRaGZJaCBmUUlzbSdUIEpJVAogICAgICAgICAgICArKyBsSXNzSWYgcHEgdWpJbSBFZmZrbUogc0ZRcUlzLiBIakltIHVJJzk5IGhJVHBobSBlRUY4IFFwVCBUakkgZXBrOWZJaC4KICAgICAgICAgICAgJGVwazlmSWggPSAkZXBrOWZJaC0+RkU5OUFFbElmT0ZRcUkoCiAgICAgICAgICAgICAgICAkc0ZRcUksIHRoaDo6dWhFcSgkcUVoRWxJVElocykKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkZXBrOWZJaDsKICAgIH0KCiAgICArKioKICAgICAqIHRxcTl2IFRqSSBzRlFxSXMgVFEgVGpJIGc5UVJwSW1UIGVwazlmSWgga21zVEVtRkkgRW1mIGhJVHBobSBrVC4KICAgICAqCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRXFxOXZPRlFxSXMoKQogICAgewogICAgICAgIGtpICghICRUamtzLT5zRlFxSXMpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAgJGVwazlmSWggPSBGOVFtSSAkVGprczsKCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPnNGUXFJcyBFcyAka2ZJbVRraWtJaCA9PiAkc0ZRcUkpIHsKICAgICAgICAgICAga2kgKCEga3NzSVQoJGVwazlmSWgtPnNGUXFJc1ska2ZJbVRraWtJaF0pKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGVwazlmSWgtPkZFOTlPRlFxSShpcG1GVGtRbSAoc0k5aSAkZXBrOWZJaCkgcHNJICgkc0ZRcUkpIHsKICAgICAgICAgICAgICAgICsrIEtpIFRqSSBzRlFxSSBrcyBFIG85UXNwaEkgdUkgdWs5OSBMcHNUIEpRIEVqSUVmIEVtZiBGRTk5IFRqSSBzRlFxSSB1a1RqIFRqSQogICAgICAgICAgICAgICAgKysgZXBrOWZJaCBrbXNURW1GSS4gSGpJICJGRTk5T0ZRcUkiIGxJVGpRZiB1azk5IHFoUXFJaDl2IEpoUXBxIFRqSSBGOUVwc0lzCiAgICAgICAgICAgICAgICArKyBUakVUIEVoSSBFZmZJZiBUUSBUamtzIFJwSWh2IHNRICJ1akloSSIgRjlFcHNJcyBsRWttVEVrbSBxaFFxSWggOVFKa0YuCiAgICAgICAgICAgICAgICBraSAoJHNGUXFJIGttc1RFbUZJUWkgbzlRc3BoSSkgewogICAgICAgICAgICAgICAgICAgICRzRlFxSSgkZXBrOWZJaCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgKysgS2kgVGpJIHNGUXFJIGtzIEUgc0ZRcUkgUWVMSUZULCB1SSB1azk5IEZFOTkgVGpJIEVxcTl2IGxJVGpRZiBRbSBUamtzIHNGUXFJCiAgICAgICAgICAgICAgICArKyBxRXNza21KIGttIFRqSSBlcGs5ZkloIEVtZiBUakkgbFFmSTkga21zVEVtRkkuIHRpVEloIHVJIGhwbSBFOTkgUWkgVGpJc0kKICAgICAgICAgICAgICAgICsrIHNGUXFJcyB1SSB1azk5IGhJVHBobSBlRUY4IFRqSSBlcGs5ZkloIGttc1RFbUZJIFRRIFRqSSBRcFRza2ZJIEZFOTlJaC4KICAgICAgICAgICAgICAgIGtpICgkc0ZRcUkga21zVEVtRklRaSBPRlFxSSkgewogICAgICAgICAgICAgICAgICAgICRzRlFxSS0+RXFxOXYoJGVwazlmSWgsICRUamtzLT5KSVQzUWZJOSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGVwazlmSWg7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBUakkgSmtVSW0gc0ZRcUkgUW0gVGpJIEZwaGhJbVQgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkc0ZRcUkKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRTk5T0ZRcUkoRkU5OUVlOUkgJHNGUXFJLCBFaGhFdiAkcUVoRWxJVElocyA9IFtdKQogICAgewogICAgICAgIEVoaEV2X3Btc2praVQoJHFFaEVsSVRJaHMsICRUamtzKTsKCiAgICAgICAgJFJwSWh2ID0gJFRqa3MtPkpJVEdwSWh2KCk7CgogICAgICAgICsrIGJJIHVrOTkgOElJcSBUaEVGOCBRaSBqUXUgbEVtdiB1akloSXMgRWhJIFFtIFRqSSBScElodiBlSWlRaEkgaHBtbWttSiBUakkKICAgICAgICArKyBzRlFxSSBzUSBUakVUIHVJIEZFbSBxaFFxSWg5diBKaFFwcSBUakkgRWZmSWYgc0ZRcUkgRlFtc1RoRWttVHMga20gVGpJCiAgICAgICAgKysgUnBJaHYgRXMgVGpJa2ggUXVtIGtzUTlFVElmIG1Jc1RJZiB1akloSSBzVEVUSWxJbVQgRW1mIEVVUWtmIGtzc3BJcy4KICAgICAgICAkUWhrSmttRTliakloSW9RcG1UID0ga3NfbXA5OSgkUnBJaHYtPnVqSWhJcykKICAgICAgICAgICAgICAgICAgICA/IHcgOiBGUXBtVCgkUnBJaHYtPnVqSWhJcyk7CgogICAgICAgICRoSXNwOVQgPSAkc0ZRcUkoLi4uJHFFaEVsSVRJaHMpID8/ICRUamtzOwoKICAgICAgICBraSAoRlFwbVQoKEVoaEV2KSAkUnBJaHYtPnVqSWhJcykgPiAkUWhrSmttRTliakloSW9RcG1UKSB7CiAgICAgICAgICAgICRUamtzLT5FZmZBSXViakloSXNia1Rqa20waFFwcSgkUnBJaHYsICRRaGtKa21FOWJqSWhJb1FwbVQpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBUakkgSmtVSW0gbUVsSWYgc0ZRcUkgUW0gVGpJIEZwaGhJbVQgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRkU5OUFFbElmT0ZRcUkoJHNGUXFJLCBFaGhFdiAkcUVoRWxJVElocyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RkU5OU9GUXFJKGlwbUZUa1FtICguLi4kcUVoRWxJVElocykgcHNJICgkc0ZRcUkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+RkU5OUFFbElmT0ZRcUkoJHNGUXFJLCAkcUVoRWxJVElocyk7CiAgICAgICAgfSwgJHFFaEVsSVRJaHMpOwogICAgfQoKICAgICsqKgogICAgICogQUlzVCB1akloSSBGUW1ma1RrUW1zIGV2IHM5a0ZrbUogVGpJbCBFVCBUakkgSmtVSW0gdWpJaEkgRlFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQHFFaEVsICBrbVQgICRRaGtKa21FOWJqSWhJb1FwbVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmQUl1YmpJaElzYmtUamttMGhRcHEoR3BJaHZycGs5ZkloICRScElodiwgJFFoa0prbUU5YmpJaElvUXBtVCkKICAgIHsKICAgICAgICArKyBTSWhJLCB1SSBUUVRFOTl2IGhJbFFVSSBFOTkgUWkgVGpJIHVqSWhJIEY5RXBzSXMgc2ttRkkgdUkgRWhJIEpRa21KIFRRCiAgICAgICAgKysgaEllcGs5ZiBUaklsIEVzIG1Jc1RJZiBScEloa0lzIGV2IHM5a0ZrbUogVGpJIEpoUXBxcyBRaSB1akloSXMga21UUQogICAgICAgICsrIFRqSWtoIFF1bSBzSUZUa1Ftcy4gSGprcyBrcyBUUSBxaElVSW1UIEVtdiBGUW1pcHNrbUogOVFKa0YgUWhmSWguCiAgICAgICAgJEU5OWJqSWhJcyA9ICRScElodi0+dWpJaElzOwoKICAgICAgICAkUnBJaHYtPnVqSWhJcyA9IFtdOwoKICAgICAgICAkVGprcy0+SmhRcHFiakloSU85a0ZJMlFoT0ZRcUkoCiAgICAgICAgICAgICRScElodiwgRWhoRXZfczlrRkkoJEU5OWJqSWhJcywgdywgJFFoa0prbUU5YmpJaElvUXBtVCkKICAgICAgICApOwoKICAgICAgICAkVGprcy0+SmhRcHFiakloSU85a0ZJMlFoT0ZRcUkoCiAgICAgICAgICAgICRScElodiwgRWhoRXZfczlrRkkoJEU5OWJqSWhJcywgJFFoa0prbUU5YmpJaElvUXBtVCkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogTzlrRkkgdWpJaEkgRlFtZmtUa1FtcyBFVCBUakkgSmtVSW0gUWlpc0lUIEVtZiBFZmYgVGpJbCBUUSBUakkgUnBJaHYgRXMgRSBtSXNUSWYgRlFtZmtUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZkloICAkUnBJaHYKICAgICAqIEBxRWhFbCAgRWhoRXYgICR1akloSU85a0ZJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpoUXBxYmpJaElPOWtGSTJRaE9GUXFJKEdwSWh2cnBrOWZJaCAkUnBJaHYsICR1akloSU85a0ZJKQogICAgewogICAgICAgICR1akloSXJRUTlJRW1zID0gRlE5OUlGVCgkdWpJaElPOWtGSSktPnE5cEY4KCdlUVE5SUVtJyk7CgogICAgICAgICsrIFNJaEkgdUknOTkgRmpJRjgga2kgVGpJIEprVUltIHNwZXNJVCBRaSB1akloSSBGOUVwc0lzIEZRbVRFa21zIEVtdiAiUWgiCiAgICAgICAgKysgZVFROUlFbXMgRW1mIGttIFRqa3MgRkVzSSBGaElFVEkgRSBtSXNUSWYgdWpJaEkgSVZxaElzc2tRbS4gSGpFVCB1RXYKICAgICAgICArKyB1SSBmUW0nVCBFZmYgRW12IHBtbUlGSXNzRWh2IG1Jc1RrbUogVGpwcyA4SUlxa21KIFRqSSBScElodiBGOUlFbS4KICAgICAgICBraSAoJHVqSWhJclFROUlFbXMtPkZRbVRFa21zKGltICgkOVFKa0ZFOU1xSWhFVFFoKSA9PiBzVGhfRlFtVEVrbXMoJDlRSmtGRTlNcUloRVRRaCwgJ1FoJykpKSB7CiAgICAgICAgICAgICRScElodi0+dWpJaElzW10gPSAkVGprcy0+RmhJRVRJQUlzVElmYmpJaEkoCiAgICAgICAgICAgICAgICAkdWpJaElPOWtGSSwgc1RoX2hJcTlFRkkoJyBtUVQnLCAnJywgJHVqSWhJclFROUlFbXMtPmlraHNUKCkpCiAgICAgICAgICAgICk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFJwSWh2LT51akloSXMgPSBFaGhFdl9sSWhKSSgkUnBJaHYtPnVqSWhJcywgJHVqSWhJTzlrRkkpOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIHVqSWhJIEVoaEV2IHVrVGogbUlzVElmIHVqSWhJIEZRbWZrVGtRbXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJHVqSWhJTzlrRkkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRmhJRVRJQUlzVElmYmpJaEkoJHVqSWhJTzlrRkksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgJHVqSWhJMGhRcHEgPSAkVGprcy0+SklUR3BJaHYoKS0+aVFoQUlzVElmYmpJaEkoKTsKCiAgICAgICAgJHVqSWhJMGhRcHEtPnVqSWhJcyA9ICR1akloSU85a0ZJOwoKICAgICAgICBoSVRwaG0gWydUdnFJJyA9PiAnQUlzVElmJywgJ1JwSWh2JyA9PiAkdWpJaEkwaFFwcSwgJ2VRUTlJRW0nID0+ICRlUVE5SUVtXTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgaEk5RVRrUW1zamtxcyBUakVUIHNqUXA5ZiBlSSBJRUpJaCA5UUVmSWYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8RWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KfFxvOVFzcGhJfG1wOTkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUaigkaEk5RVRrUW1zLCAkRkU5OWVFRjggPSBtcDk5KQogICAgewogICAgICAgIGtpICgkRkU5OWVFRjgga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRJRUpJaDZRRWYgPSAkVGprcy0+cUVoc0lia1RqTkk5RVRrUW1zKFskaEk5RVRrUW1zID0+ICRGRTk5ZUVGOF0pOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRJRUpJaDZRRWYgPSAkVGprcy0+cUVoc0lia1RqTkk5RVRrUW1zKGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXMpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPklFSkloNlFFZiA9IEVoaEV2X2xJaEpJKCRUamtzLT5JRUpJaDZRRWYsICRJRUpJaDZRRWYpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIFRqSSBzcUlGa2lrSWYgaEk5RVRrUW1zIGloUWwgZUlrbUogSUVKSWggOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpRcFQoJGhJOUVUa1FtcykKICAgIHsKICAgICAgICAkVGprcy0+SUVKSWg2UUVmID0gRWhoRXZfZmtpaV84SXYoJFRqa3MtPklFSkloNlFFZiwgRWhoRXZfaTlrcSgKICAgICAgICAgICAga3Nfc1Roa21KKCRoSTlFVGtRbXMpID8gaXBtRl9KSVRfRWhKcygpIDogJGhJOUVUa1FtcwogICAgICAgICkpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIGhJOUVUa1Ftc2prcXMgVGpFVCBzalFwOWYgZUkgSUVKSWggOVFFZklmIHVqazlJIGhJbFFVa21KIEVtdiBxaElVa1Fwczl2IEVmZklmIElFSkloIDlRRWZrbUogc3FJRmtpa0ZFVGtRbXMuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUak1tOXYoJGhJOUVUa1FtcykKICAgIHsKICAgICAgICAkVGprcy0+SUVKSWg2UUVmID0gW107CgogICAgICAgIGhJVHBobSAkVGprcy0+dWtUaigkaEk5RVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBrbXNURW1GSSBRaSBUakkgbFFmSTkgZUlrbUogUnBJaGtJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1M1FmSTlLbXNURW1GSSgkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTktPm1JdUttc1RFbUZJKCRFVFRoa2VwVElzKS0+c0lUb1FtbUlGVGtRbSgKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPkpJVEFFbEkoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhRWhzSSBFIDlrc1QgUWkgaEk5RVRrUW1zIGttVFEga21ma1VrZnBFOXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUVoc0lia1RqTkk5RVRrUW1zKEVoaEV2ICRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAga2kgKCRoSTlFVGtRbXMgPT09IFtdKSB7CiAgICAgICAgICAgIGhJVHBobSBbXTsKICAgICAgICB9CgogICAgICAgICRoSXNwOVRzID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5xaElxRWhJQUlzVElmYmtUak5JOUVUa1Ftc2prcXMoJGhJOUVUa1FtcykgRXMgJG1FbEkgPT4gJEZRbXNUaEVrbVRzKSB7CiAgICAgICAgICAgICsrIGJJIG1JSWYgVFEgc0lxRWhFVEkgUXBUIEVtdiBtSXNUSWYga21GOXBmSXMsIHVqa0ZqIEU5OVF1cyBUakkgZklVSTlRcUlocwogICAgICAgICAgICArKyBUUSA5UUVmIGZJSXEgaEk5RVRrUW1zamtxcyBwc2ttSiAiZlFUcyIgdWtUalFwVCBzVEVUa21KIElFRmogOUlVSTkgUWkKICAgICAgICAgICAgKysgVGpJIGhJOUVUa1Ftc2prcSB1a1RqIGtUcyBRdW0gOEl2IGttIFRqSSBFaGhFdiBRaSBJRUpJaC05UUVmIG1FbElzLgogICAgICAgICAgICAkaElzcDlUcyA9ICRUamtzLT5FZmZBSXNUSWZia1RqcygkbUVsSSwgJGhJc3A5VHMpOwoKICAgICAgICAgICAgJGhJc3A5VHNbJG1FbEldID0gJEZRbXNUaEVrbVRzOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSXNwOVRzOwogICAgfQoKICAgICsqKgogICAgICogYWhJcUVoSSBtSXNUSWYgdWtUaiBoSTlFVGtRbXNqa3FzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkcWhJaWtWCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxaElxRWhJQUlzVElmYmtUak5JOUVUa1Ftc2prcXMoJGhJOUVUa1FtcywgJHFoSWlrViA9ICcnKQogICAgewogICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMgPSBbXTsKCiAgICAgICAga2kgKCRxaElpa1YgIT09ICcnKSB7CiAgICAgICAgICAgICRxaElpa1YgLj0gJy4nOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgRW12IFFpIFRqSSBoSTlFVGtRbXNqa3FzIEVoSSBpUWhsRVRUSWYgdWtUaiBUakkgWyRFVFRoa2VwVEkgPT4gRWhoRXYoKV0KICAgICAgICArKyBzdm1URVYsIHVJIHNqRTk5IDlRUXEgUVVJaCBUakkgbUlzVElmIGhJOUVUa1FtcyBFbWYgcWhJcUltZiBJRUZqIDhJdiBRaQogICAgICAgICsrIFRqa3MgRWhoRXYgdWprOUkgaTlFVFRJbWttSiBrbVRRIFRqSSBUaEVma1RrUW1FOSBmUVQgbVFURVRrUW0gaVFobEVULgogICAgICAgIGlRaElFRmogKCRoSTlFVGtRbXMgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKCEga3Nfc1Roa21KKCQ4SXYpIHx8ICEga3NfRWhoRXYoJFVFOXBJKSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFskRVRUaGtlcFRJLCAkRVRUaGtlcFRJT0k5SUZUb1Ftc1RoRWttVF0gPSAkVGprcy0+cUVoc0lBRWxJdG1mdFRUaGtlcFRJT0k5SUZUa1Ftb1Ftc1RoRWttVCgkOEl2KTsKCiAgICAgICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMgPSBFaGhFdl9sSWhKSSgKICAgICAgICAgICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMsCiAgICAgICAgICAgICAgICBbInskcWhJaWtWfXskRVRUaGtlcFRJfSIgPT4gJEVUVGhrZXBUSU9JOUlGVG9RbXNUaEVrbVRdLAogICAgICAgICAgICAgICAgJFRqa3MtPnFoSXFFaElBSXNUSWZia1RqTkk5RVRrUW1zamtxcygkVUU5cEksICJ7JHFoSWlrVn17JEVUVGhrZXBUSX0iKSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIHBtc0lUKCRoSTlFVGtRbXNbJDhJdl0pOwogICAgICAgIH0KCiAgICAgICAgKysgYkkgbVF1IDhtUXUgVGpFVCBUakkgaElsRWtta21KIGhJOUVUa1Ftc2prcXMgRWhJIGttIEUgZlFUIG1RVEVUa1FtIGlRaGxFVAogICAgICAgICsrIEVtZiBsRXYgZUkgRSBzVGhrbUogUWggbzlRc3BoSS4gYkknOTkgOVFRcSBRVUloIFRqSWwgRW1mIEltc3BoSSBFOTkgUWkKICAgICAgICArKyBUakkgcWhJc0ltVCBvOVFzcGhJcyBFaEkgbEloSklmIC8gc1Roa21KcyBFaEkgbEVmSSBrbVRRIEZRbXNUaEVrbVRzLgogICAgICAgIGlRaElFRmogKCRoSTlFVGtRbXMgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKGtzX21wbEloa0YoJDhJdikgJiYga3Nfc1Roa21KKCRVRTlwSSkpIHsKICAgICAgICAgICAgICAgIFskOEl2LCAkVUU5cEldID0gJFRqa3MtPnFFaHNJQUVsSXRtZnRUVGhrZXBUSU9JOUlGVGtRbW9RbXNUaEVrbVQoJFVFOXBJKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJHFoSXFFaElmTkk5RVRrUW1zamtxc1skcWhJaWtWLiQ4SXZdID0gJFRqa3MtPkZRbGVrbUlvUW1zVGhFa21UcyhbCiAgICAgICAgICAgICAgICAkVUU5cEksCiAgICAgICAgICAgICAgICAkcWhJcUVoSWZOSTlFVGtRbXNqa3FzWyRxaElpa1YuJDhJdl0gPz8gc1RFVGtGIGlwbUZUa1FtICgpIHsKICAgICAgICAgICAgICAgICAgICArKwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJHFoSXFFaElmTkk5RVRrUW1zamtxczsKICAgIH0KCiAgICArKioKICAgICAqIG9RbGVrbUkgRW0gRWhoRXYgUWkgRlFtc1RoRWttVHMga21UUSBFIHNrbUo5SSBGUW1zVGhFa21ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUW1zVGhFa21UcwogICAgICogQGhJVHBobSBcbzlRc3BoSQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFsZWttSW9RbXNUaEVrbVRzKEVoaEV2ICRGUW1zVGhFa21UcykKICAgIHsKICAgICAgICBoSVRwaG0gaXBtRlRrUW0gKCRlcGs5ZkloKSBwc0kgKCRGUW1zVGhFa21UcykgewogICAgICAgICAgICBpUWhJRUZqICgkRlFtc1RoRWttVHMgRXMgJEZRbXNUaEVrbVQpIHsKICAgICAgICAgICAgICAgICRlcGs5ZkloID0gJEZRbXNUaEVrbVQoJGVwazlmSWgpID8/ICRlcGs5ZkloOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJGVwazlmSWg7CiAgICAgICAgfTsKICAgIH0KCiAgICArKioKICAgICAqIGFFaHNJIFRqSSBFVFRoa2VwVEkgc0k5SUZUIEZRbXNUaEVrbVRzIGloUWwgVGpJIG1FbEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxRWhzSUFFbEl0bWZ0VFRoa2VwVElPSTlJRlRrUW1vUW1zVGhFa21UKCRtRWxJKQogICAgewogICAgICAgIGhJVHBobSBzVGhfRlFtVEVrbXMoJG1FbEksICc6JykKICAgICAgICAgICAgPyAkVGprcy0+RmhJRVRJT0k5SUZUYmtUam9RbXNUaEVrbVQoJG1FbEkpCiAgICAgICAgICAgIDogWyRtRWxJLCBzVEVUa0YgaXBtRlRrUW0gKCkgewogICAgICAgICAgICAgICAgKysKICAgICAgICAgICAgfV07CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBGUW1zVGhFa21UIFRRIHNJOUlGVCBUakkgSmtVSW0gRlE5cGxtcyBpUWggVGpJIGhJOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRmhJRVRJT0k5SUZUYmtUam9RbXNUaEVrbVQoJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIFtJVnE5UWZJKCc6JywgJG1FbEkpW3ddLCBzVEVUa0YgaXBtRlRrUW0gKCRScElodikgcHNJICgkbUVsSSkgewogICAgICAgICAgICAkUnBJaHYtPnNJOUlGVChFaGhFdl9sRXEoc1RFVGtGIGlwbUZUa1FtICgkRlE5cGxtKSBwc0kgKCRScElodikgewogICAgICAgICAgICAgICAga2kgKHNUaF9GUW1URWttcygkRlE5cGxtLCAnLicpKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtICRGUTlwbG07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaElUcGhtICRScElodiBrbXNURW1GSVFpIHJJOVFtSnNIUTNFbXYKICAgICAgICAgICAgICAgICAgICAgICAgPyAkUnBJaHYtPkpJVE5JOUVUSWYoKS0+SklUSEVlOUkoKS4nLicuJEZROXBsbQogICAgICAgICAgICAgICAgICAgICAgICA6ICRGUTlwbG07CiAgICAgICAgICAgIH0sIElWcTlRZkkoJywnLCBJVnE5UWZJKCc6JywgJG1FbEkpW1hdKSkpOwogICAgICAgIH1dOwogICAgfQoKICAgICsqKgogICAgICogYUVoc0kgVGpJIG1Jc1RJZiBoSTlFVGtRbXNqa3FzIGttIEUgaEk5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaElzcDlUcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmQUlzVElmYmtUanMoJG1FbEksICRoSXNwOVRzKQogICAgewogICAgICAgICRxaFFKaElzcyA9IFtdOwoKICAgICAgICArKyBLaSBUakkgaEk5RVRrUW0gakVzIEU5aElFZnYgZUlJbSBzSVQgUW0gVGpJIGhJc3A5VCBFaGhFdiwgdUkgdWs5OSBtUVQgc0lUIGtUCiAgICAgICAgKysgRUpFa20sIHNrbUZJIFRqRVQgdVFwOWYgUVVJaGhrZkkgRW12IEZRbXNUaEVrbVRzIFRqRVQgdUloSSBFOWhJRWZ2IHE5RUZJZgogICAgICAgICsrIFFtIFRqSSBoSTlFVGtRbXNqa3FzLiBiSSB1azk5IFFtOXYgc0lUIFRqSSBRbUlzIFRqRVQgRWhJIG1RVCBzcUlGa2lrSWYuCiAgICAgICAgaVFoSUVGaiAoSVZxOVFmSSgnLicsICRtRWxJKSBFcyAkc0lKbEltVCkgewogICAgICAgICAgICAkcWhRSmhJc3NbXSA9ICRzSUpsSW1UOwoKICAgICAgICAgICAga2kgKCEga3NzSVQoJGhJc3A5VHNbJDlFc1QgPSBrbHE5UWZJKCcuJywgJHFoUUpoSXNzKV0pKSB7CiAgICAgICAgICAgICAgICAkaElzcDlUc1skOUVzVF0gPSBzVEVUa0YgaXBtRlRrUW0gKCkgewogICAgICAgICAgICAgICAgICAgICsrCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGhJc3A5VHM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBScElodi1Ua2xJIEZFc1RzIFRRIFRqSSBsUWZJOSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRkVzVHMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpvRXNUcygkRkVzVHMpCiAgICB7CiAgICAgICAgJFRqa3MtPmxRZkk5LT5sSWhKSW9Fc1RzKCRGRXNUcyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIEprVUltIG85UXNwaEkgdWtUamttIEUgVGhFbXNFRlRrUW0gc0VVSXFRa21UIGtpIG1JSWZJZi4KICAgICAqCiAgICAgKiBAVElscTlFVEkgSDNRZkk5QkU5cEkKICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJKCk6IEgzUWZJOUJFOXBJICAkc0ZRcUkKICAgICAqIEBoSVRwaG0gSDNRZkk5QkU5cEkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpPRVVJcVFrbVRLaUFJSWZJZihvOVFzcGhJICRzRlFxSSk6IGxrVklmCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRHcElodigpLT5KSVRvUW1tSUZUa1FtKCktPlRoRW1zRUZUa1FtNklVSTkoKSA+IHcKICAgICAgICAgICAgPyAkVGprcy0+SklUR3BJaHYoKS0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbSgkc0ZRcUkpCiAgICAgICAgICAgIDogJHNGUXFJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHBtZkloOXZrbUogUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUR3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UnBJaHY7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIHBtZkloOXZrbUogUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRHcElodigkUnBJaHYpCiAgICB7CiAgICAgICAgJFRqa3MtPlJwSWh2ID0gJFJwSWh2OwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBlRXNJIFJwSWh2IGVwazlmSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFRRckVzSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5FcXE5dk9GUXFJcygpLT5KSVRHcElodigpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBoSTlFVGtRbXNqa3FzIGVJa21KIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVGdFSkloNlFFZnMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SUVKSWg2UUVmOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBoSTlFVGtRbXNqa3FzIGVJa21KIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJRUpJaDZRRWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVGdFSkloNlFFZnMoRWhoRXYgJElFSkloNlFFZikKICAgIHsKICAgICAgICAkVGprcy0+SUVKSWg2UUVmID0gJElFSkloNlFFZjsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogS21ma0ZFVEkgVGpFVCBUakkgSmtVSW0gaEk5RVRrUW1zamtxcyBzalFwOWYgbVFUIGVJIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpRcFRnRUpJaDZRRWYoRWhoRXYgJGhJOUVUa1FtcykKICAgIHsKICAgICAgICAkaEk5RVRrUW1zID0gRWhoRXZfZmtpaShFaGhFdl84SXZzKCRUamtzLT5sUWZJOS0+SklUTkk5RVRrUW1zKCkpLCAkaEk5RVRrUW1zKTsKCiAgICAgICAgaElUcGhtICRUamtzLT51a1RqKCRoSTlFVGtRbXMpOwogICAgfQoKICAgICsqKgogICAgICogMjlwc2ogVGpJIGhJOUVUa1Ftc2prcXMgZUlrbUogSUVKSWg5diA5UUVmSWYuCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUalFwVGdFSkloNlFFZnMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+c0lUZ0VKSWg2UUVmcyhbXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGZJaUVwOVQgOEl2IG1FbEkgUWkgVGpJIFRFZTlJLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSWlFcDlUMUl2QUVsSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVQzUWZJOSgpLT5KSVQxSXZBRWxJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5IGttc1RFbUZJIGVJa21KIFJwSWhrSWYuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUM1FmSTkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgRSBsUWZJOSBrbXNURW1GSSBpUWggVGpJIGxRZkk5IGVJa21KIFJwSWhrSWYuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5ICAkbFFmSTkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVDNRZkk5KDNRZkk5ICRsUWZJOSkKICAgIHsKICAgICAgICAkVGprcy0+bFFmSTkgPSAkbFFmSTk7CgogICAgICAgICRUamtzLT5ScElodi0+aWhRbCgkbFFmSTktPkpJVEhFZTlJKCkpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBHcEU5a2l2IFRqSSBKa1VJbSBGUTlwbG0gbUVsSSBldiBUakkgbFFmSTkncyBURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFJwRTlraXZvUTlwbG0oJEZROXBsbSkKICAgIHsKICAgICAgICAkRlE5cGxtID0gJEZROXBsbSBrbXNURW1GSVFpIGdWcWhJc3NrUW0gPyAkRlE5cGxtLT5KSVRCRTlwSSgkVGprcy0+SklUMGhFbGxFaCgpKSA6ICRGUTlwbG07CgogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTktPlJwRTlraXZvUTlwbG0oJEZROXBsbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBHcEU5a2l2IFRqSSBKa1VJbSBGUTlwbG1zIHVrVGogVGpJIGxRZkk5J3MgVEVlOUkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFJwRTlraXZvUTlwbG1zKCRGUTlwbG1zKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTktPlJwRTlraXZvUTlwbG1zKCRGUTlwbG1zKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgSmtVSW0gbEVGaFEgZXYgbUVsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJG1FbEkKICAgICAqIEBoSVRwaG0gXG85UXNwaEkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDNFRmhRKCRtRWxJKQogICAgewogICAgICAgIGhJVHBobSB0aGg6OkpJVCgkVGprcy0+OVFGRTkzRUZoUXMsICRtRWxJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9qSUY4cyBraSBFIGxFRmhRIGtzIGhJSmtzVEloSWYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFczNFRmhRKCRtRWxJKQogICAgewogICAgICAgIGhJVHBobSBrc3NJVCgkVGprcy0+OVFGRTkzRUZoUXNbJG1FbEldKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgSmtVSW0gSjlRZUU5IGxFRmhRIGV2IG1FbEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAaElUcGhtIFxvOVFzcGhJCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gSklUMDlRZUU5M0VGaFEoJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIHRoaDo6SklUKHNURVRrRjo6JGxFRmhRcywgJG1FbEkpOwogICAgfQoKICAgICsqKgogICAgICogb2pJRjhzIGtpIEUgSjlRZUU5IGxFRmhRIGtzIGhJSmtzVEloSWYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBqRXMwOVFlRTkzRUZoUSgkbUVsSSkKICAgIHsKICAgICAgICBoSVRwaG0ga3NzSVQoc1RFVGtGOjokbEVGaFFzWyRtRWxJXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBudm1FbGtGRTk5diBFRkZJc3MgZXBrOWZJaCBxaFFWa0lzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKgogICAgICogQFRqaFF1cyBcZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0pJVCgkOEl2KQogICAgewogICAgICAgIGtpIChrbV9FaGhFdigkOEl2LCBbJ1FoYmpJaEknLCAndWpJaElBUVQnLCAnUWhiakloSUFRVCddKSkgewogICAgICAgICAgICBoSVRwaG0gbUl1IFNrSmpJaE1oZklocnBrOWZJaGFoUVZ2KCRUamtzLCAkOEl2KTsKICAgICAgICB9CgogICAgICAgIGtpIChrbV9FaGhFdigkOEl2LCAkVGprcy0+cWhRcUloVHZhRXNzVGpocCkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+eyQ4SXZ9OwogICAgICAgIH0KCiAgICAgICAgVGpoUXUgbUl1IGdWRklxVGtRbSgiYWhRcUloVHYgW3skOEl2fV0gZlFJcyBtUVQgSVZrc1QgUW0gVGpJIGc5UVJwSW1UIGVwazlmSWgga21zVEVtRkkuIik7CiAgICB9CgogICAgKyoqCiAgICAgKiBudm1FbGtGRTk5diBqRW1mOUkgRkU5OXMga21UUSBUakkgUnBJaHYga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZFOTkoJGxJVGpRZiwgJHFFaEVsSVRJaHMpCiAgICB7CiAgICAgICAga2kgKCRsSVRqUWYgPT09ICdsRUZoUScpIHsKICAgICAgICAgICAgJFRqa3MtPjlRRkU5M0VGaFFzWyRxRWhFbElUSWhzW3ddXSA9ICRxRWhFbElUSWhzW1hdOwoKICAgICAgICAgICAgaElUcGhtOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5qRXMzRUZoUSgkbElUalFmKSkgewogICAgICAgICAgICBFaGhFdl9wbXNqa2lUKCRxRWhFbElUSWhzLCAkVGprcyk7CgogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRkU5M0VGaFFzWyRsSVRqUWZdKC4uLiRxRWhFbElUSWhzKTsKICAgICAgICB9CgogICAgICAgIGtpIChzVEVUa0Y6OmpFczA5UWVFOTNFRmhRKCRsSVRqUWYpKSB7CiAgICAgICAgICAgICRGRTk5RWU5SSA9IHNURVRrRjo6JGxFRmhRc1skbElUalFmXTsKCiAgICAgICAgICAgIGtpICgkRkU5OUVlOUkga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICAgICAkRkU5OUVlOUkgPSAkRkU5OUVlOUktPmVrbWZIUSgkVGprcywgc1RFVGtGOjpGOUVzcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSAkRkU5OUVlOUkoLi4uJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5qRXNBRWxJZk9GUXFJKCRsSVRqUWYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RkU5OUFFbElmT0ZRcUkoJGxJVGpRZiwgJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAga2kgKGttX0VoaEV2KHNUaFRROVF1SWgoJGxJVGpRZiksICRUamtzLT5xRXNzVGpocCkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+eyRsSVRqUWZ9KC4uLiRxRWhFbElUSWhzKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5pUWh1RWhmb0U5OUhRKCRUamtzLT5ScElodiwgJGxJVGpRZiwgJHFFaEVsSVRJaHMpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBudm1FbGtGRTk5diBqRW1mOUkgRkU5OXMga21UUSBUakkgUnBJaHYga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKgogICAgICogQFRqaFF1cyBcckVmM0lUalFmb0U5OWdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIF9fRkU5OU9URVRrRigkbElUalFmLCAkcUVoRWxJVElocykKICAgIHsKICAgICAgICBraSAoJGxJVGpRZiA9PT0gJ2xFRmhRJykgewogICAgICAgICAgICBzVEVUa0Y6OiRsRUZoUXNbJHFFaEVsSVRJaHNbd11dID0gJHFFaEVsSVRJaHNbWF07CgogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBraSAoJGxJVGpRZiA9PT0gJ2xrVmttJykgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjpoSUprc1RJaDNrVmttKCRxRWhFbElUSWhzW3ddLCAkcUVoRWxJVEloc1tYXSA/PyBUaHBJKTsKICAgICAgICB9CgogICAgICAgIGtpICghIHNURVRrRjo6akVzMDlRZUU5M0VGaFEoJGxJVGpRZikpIHsKICAgICAgICAgICAgc1RFVGtGOjpUamhRdXJFZjNJVGpRZm9FOTlnVkZJcVRrUW0oJGxJVGpRZik7CiAgICAgICAgfQoKICAgICAgICAkRkU5OUVlOUkgPSBzVEVUa0Y6OiRsRUZoUXNbJGxJVGpRZl07CgogICAgICAgIGtpICgkRkU5OUVlOUkga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRGRTk5RWU5SSA9ICRGRTk5RWU5SS0+ZWttZkhRKG1wOTksIHNURVRrRjo6RjlFc3MpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRGRTk5RWU5SSguLi4kcUVoRWxJVElocyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSUprc1RJaCBUakkgSmtVSW0gbGtWa20gdWtUaiBUakkgZXBrOWZJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxrVmttCiAgICAgKiBAcUVoRWwgIGVRUTkgICRoSXE5RUZJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiBpcG1GVGtRbSBoSUprc1RJaDNrVmttKCRsa1ZrbSwgJGhJcTlFRkkpCiAgICB7CiAgICAgICAgJGxJVGpRZnMgPSAobUl1IE5JaTlJRlRrUW1vOUVzcygkbGtWa20pKS0+SklUM0lUalFmcygKICAgICAgICAgICAgTklpOUlGVGtRbTNJVGpRZjo6S09fYVByNktvIHwgTklpOUlGVGtRbTNJVGpRZjo6S09fYU5NSGdvSGduCiAgICAgICAgKTsKCiAgICAgICAgaVFoSUVGaiAoJGxJVGpRZnMgRXMgJGxJVGpRZikgewogICAgICAgICAgICBraSAoJGhJcTlFRkkgfHwgISBzVEVUa0Y6OmpFczA5UWVFOTNFRmhRKCRsSVRqUWYtPm1FbEkpKSB7CiAgICAgICAgICAgICAgICBzVEVUa0Y6OmxFRmhRKCRsSVRqUWYtPm1FbEksICRsSVRqUWYtPmttVVE4SSgkbGtWa20pKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBnOVFScEltVCBScElodiBlcGs5ZkloLgogICAgICoKICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGOVFtSSgpCiAgICB7CiAgICAgICAgaElUcGhtIEY5UW1JICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMlFoRkkgRSBGOVFtSSBRaSBUakkgcG1mSWg5dmttSiBScElodiBlcGs5ZkloIHVqSW0gRjlRbWttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fRjlRbUkoKQogICAgewogICAgICAgICRUamtzLT5ScElodiA9IEY5UW1JICRUamtzLT5ScElodjsKICAgIH0KfQo=