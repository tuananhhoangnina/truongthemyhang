<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IHgudyAKICogbkVUSSB3NS13eC14d3haCiAqIMSQw6J2IDnDoCBUw6BrIHPhuqNtIEbhu6dFIG/DlEEwIEhjIEhBU1MgSDMgbkIgQUtBdC4gQnBrIDnDsm1KIDhqw7RtSiBz4butIGbhu6VtSiA4amsgRmrGsEUgxJHGsOG7o0YgcWrDqXEuCiAqKwoKCm1FbElzcUVGSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVQ7Cgpwc0kgdGhoRXZ0RkZJc3M7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xyaFFFZkZFc1RrbUpcU0VzcmhRRWZGRXNUb2pFbW1JOTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXEdwSXBJXEdwSXBJRWU5SW9ROTlJRlRrUW07CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xHcElwSVxHcElwSUVlOUlnbVRrVHY7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xOUXBUa21KXFBoOU5RcFRFZTlJOwpwc0kgSzk5cGxrbUVUSVxvUW1UaEVGVHNcT3BxcVFoVFx0aGhFdkVlOUk7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXG9FbXJJZ3NGRXFJZmJqSW1vRXNUSFFPVGhrbUo7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXERzUW1FZTlJOwpwc0kgQUtBdG9NTmdcbkVURWVFc0lvUWhJXG9RbW1JRlRrUW1OSXNROVVJaEttVEloaUVGSSBFcyBOSXNROVVJaDsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxvUTk5SUZUa1FtIEVzIGc5UVJwSW1Ub1E5OUlGVGtRbTsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxOSTlFVGtRbXNcckk5UW1Kc0hRM0VtdjsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxOSTlFVGtRbXNcb1FtRklobXNcdHNha1VRVDsKcHNJIEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxOSTlFVGtRbXNcU0VzM0VtdkhqaFFwSmo7CnBzSSBBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcTkk5RVRrUW1zXGFrVVFUOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXHRoaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtIEVzIHJFc0lvUTk5SUZUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXE9UaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxIaEVrVHNcMlFodUVoZnNvRTk5czsKcHNJIERzUW1PSWhrRTlrV0VlOUk7CnBzSSA2UUprRmdWRklxVGtRbTsKcHNJIE9UaGttSkVlOUk7CgpFZXNUaEVGVCBGOUVzcyAzUWZJOSBrbHE5SWxJbVRzIHRoaEV2RWU5SSwgdGhoRXZ0RkZJc3MsIG9FbXJJZ3NGRXFJZmJqSW1vRXNUSFFPVGhrbUosIFNFc3JoUUVmRkVzVG9qRW1tSTksIERzUW1FZTlJLCBEc1FtT0loa0U5a1dFZTlJLCBHcElwSUVlOUlnbVRrVHYsIE9UaGttSkVlOUksIFBoOU5RcFRFZTlJCnsKICAgIHBzSSBvUW1GSWhtc1xTRXN0VFRoa2VwVElzLAogICAgICAgIG9RbUZJaG1zXFNFc2dVSW1UcywKICAgICAgICBvUW1GSWhtc1xTRXMwOVFlRTlPRlFxSXMsCiAgICAgICAgb1FtRklobXNcU0VzTkk5RVRrUW1zamtxcywKICAgICAgICBvUW1GSWhtc1xTRXNIa2xJc1RFbHFzLAogICAgICAgIG9RbUZJaG1zXFNFc1Bta1JwSUtmcywKICAgICAgICBvUW1GSWhtc1xTa2ZJc3RUVGhrZXBUSXMsCiAgICAgICAgb1FtRklobXNcMHBFaGZzdFRUaGtlcFRJcywKICAgICAgICBvUW1GSWhtc1wwSVR0VFRoa2VwVEksCiAgICAgICAgMlFodUVoZnNvRTk5czsKICAgICsqKgogICAgICogSGpJIEZRbW1JRlRrUW0gbUVsSSBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggc1Roa21KfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmICRGUW1tSUZUa1FtOwoKICAgICsqKgogICAgICogSGpJIFRFZTlJIEVzc1FGa0VUSWYgdWtUaiBUakkgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmICRURWU5STsKCiAgICArKioKICAgICAqIEhqSSBxaGtsRWh2IDhJdiBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcWhrbEVodjFJdiA9ICdrZic7CgogICAgKyoqCiAgICAgKiBIakkgIlR2cUkiIFFpIFRqSSBxaGtsRWh2IDhJdiBLbi4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgJDhJdkh2cUkgPSAna21UJzsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBUakkgS25zIEVoSSBFcFRRLWttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcXBlOWtGICRrbUZoSWxJbVRrbUogPSBUaHBJOwoKICAgICsqKgogICAgICogSGpJIGhJOUVUa1FtcyBUUSBJRUpJaCA5UUVmIFFtIElVSWh2IFJwSWh2LgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICR1a1RqID0gW107CgogICAgKyoqCiAgICAgKiBIakkgaEk5RVRrUW1zamtxIEZRcG1UcyBUakVUIHNqUXA5ZiBlSSBJRUpJaCA5UUVmSWYgUW0gSVVJaHYgUnBJaHYuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJHVrVGpvUXBtVCA9IFtdOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIHVqSVRqSWggOUVXdiA5UUVma21KIHVrOTkgZUkgcWhJVUltVElmIFFtIFRqa3MgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkcWhJVUltVHM2RVd2NlFFZmttSiA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIG1wbGVJaCBRaSBsUWZJOXMgVFEgaElUcGhtIGlRaCBxRUprbUVUa1FtLgogICAgICoKICAgICAqIEBVRWgga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcUloYUVKSSA9IFhaOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIFRqSSBsUWZJOSBJVmtzVHMuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkSVZrc1RzID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgVGpJIGxRZkk5IHVFcyBrbXNJaFRJZiBmcGhrbUogVGpJIFFlTElGVCdzIDlraUlGdkY5SS4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcXBlOWtGICR1RXNOSUZJbVQ5dm9oSUVUSWYgPSBpRTlzSTsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBUakVUIFRqSSBRZUxJRlQncyBzVGhrbUogaElxaElzSW1URVRrUW0gc2pRcDlmIGVJIElzRkVxSWYgdWpJbSBfX1RRT1Roa21KIGtzIGttVVE4SWYuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiAkSXNGRXFJYmpJbW9Fc1RrbUpIUU9UaGttSiA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIEZRbW1JRlRrUW0gaElzUTlVSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQFVFaCBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXG9RbW1JRlRrUW1OSXNROVVJaEttVEloaUVGSQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRoSXNROVVJaDsKCiAgICArKioKICAgICAqIEhqSSBJVUltVCBma3NxRVRGakloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBVRWggXEs5OXBsa21FVElcb1FtVGhFRlRzXGdVSW1Uc1xua3NxRVRGakloCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGZrc3FFVEZqSWg7CgogICAgKyoqCiAgICAgKiBIakkgRWhoRXYgUWkgZVFRVElmIGxRZkk5cy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGVRUVRJZiA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEVoaEV2IFFpIFRoRWtUIGtta1RrRTlrV0locyBUakVUIHVrOTkgZUkgRkU5OUlmIFFtIElFRmogbUl1IGttc1RFbUZJLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkVGhFa1RLbWtUa0U5a1dJaHMgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBFaGhFdiBRaSBKOVFlRTkgc0ZRcUlzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJEo5UWVFOU9GUXFJcyA9IFtdOwoKICAgICsqKgogICAgICogSGpJIDlrc1QgUWkgbFFmSTlzIEY5RXNzSXMgVGpFVCBzalFwOWYgbVFUIGVJIEVpaUlGVElmIHVrVGogVFFwRmouCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRrSm1RaElNbUhRcEZqID0gW107CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMgdWpJVGpJaCA5RVd2IDlRRWZrbUogc2pRcDlmIGVJIGhJc1Roa0ZUSWYgUW0gRTk5IGxRZkk5cy4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbFFmSTlzT2pRcDlmYWhJVUltVDZFV3Y2UUVma21KID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBIakkgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogOUVXdiA5UUVma21KIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQFVFaCBGRTk5RWU5SXxtcDk5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJDlFV3Y2UUVma21KQmtROUVUa1Ftb0U5OWVFRjg7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgRW0gSVZGSXFUa1FtIHNqUXA5ZiBlSSBUamhRdW0ga21zVElFZiBRaSBzazlJbVQ5diBma3NGRWhma21KIG1RbS1pazk5RWU5SSBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRsUWZJOXNPalFwOWZhaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcyA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIEZFOTllRUY4IFRqRVQga3MgaElzcVFtc2tlOUkgaVFoIGpFbWY5a21KIGZrc0ZFaGZJZiBFVFRoa2VwVEkgVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAVUVoIEZFOTlFZTlJfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjg7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgRW0gSVZGSXFUa1FtIHNqUXA5ZiBlSSBUamhRdW0gdWpJbSBUaHZrbUogVFEgRUZGSXNzIEUgbGtzc2ttSiBFVFRoa2VwVEkgUW0gRSBoSVRoa0lVSWYgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGxRZkk5c09qUXA5ZmFoSVVJbVR0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcyA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIEZFOTllRUY4IFRqRVQga3MgaElzcVFtc2tlOUkgaVFoIGpFbWY5a21KIGxrc3NrbUogRVRUaGtlcFRJIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQFVFaCBGRTk5RWU5SXxtcDk5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGxrc3NrbUp0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGODsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBlaFFFZkZFc1RrbUoga3MgRnBoaEltVDl2IEltRWU5SWYuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGtzcmhRRWZGRXNUa21KID0gVGhwSTsKCiAgICArKioKICAgICAqIEhqSSBtRWxJIFFpIFRqSSAiRmhJRVRJZiBFVCIgRlE5cGxtLgogICAgICoKICAgICAqIEBVRWggc1Roa21KfG1wOTkKICAgICAqKwogICAgRlFtc1Qgb05ndEhnbl90SCA9ICdGaElFVElmX0VUJzsKCiAgICArKioKICAgICAqIEhqSSBtRWxJIFFpIFRqSSAicHFmRVRJZiBFVCIgRlE5cGxtLgogICAgICoKICAgICAqIEBVRWggc1Roa21KfG1wOTkKICAgICAqKwogICAgRlFtc1QgUGFudEhnbl90SCA9ICdwcWZFVElmX0VUJzsKCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBnOVFScEltVCBsUWZJOSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZRbXNUaHBGVChFaGhFdiAkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgICRUamtzLT5lUVFUS2lBUVRyUVFUSWYoKTsKCiAgICAgICAgJFRqa3MtPmtta1RrRTlrV0lIaEVrVHMoKTsKCiAgICAgICAgJFRqa3MtPnN2bUZNaGtKa21FOSgpOwoKICAgICAgICAkVGprcy0+aWs5OSgkRVRUaGtlcFRJcyk7CgogICAgfQoKICAgICsqKgogICAgICogb2pJRjgga2kgVGpJIGxRZkk5IG1JSWZzIFRRIGVJIGVRUVRJZiBFbWYga2kgc1EsIGZRIGtULgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gZVFRVEtpQVFUclFRVElmKCkKICAgIHsKICAgICAgICBraSAoISBrc3NJVChzVEVUa0Y6OiRlUVFUSWZbc1RFVGtGOjpGOUVzc10pKSB7CiAgICAgICAgICAgIHNURVRrRjo6JGVRUVRJZltzVEVUa0Y6OkY5RXNzXSA9IFRocEk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2VRUVRrbUonLCBpRTlzSSk7CgogICAgICAgICAgICBzVEVUa0Y6OmVRUVRrbUooKTsKICAgICAgICAgICAgc1RFVGtGOjplUVFUKCk7CiAgICAgICAgICAgIHNURVRrRjo6ZVFRVElmKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2VRUVRJZicsIGlFOXNJKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIEVtdiBFRlRrUW1zIGhJUnBraElmIGVJaVFoSSBUakkgbFFmSTkgZVFRVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVGttSigpCiAgICB7CiAgICAgICAgKysKICAgIH0KCiAgICArKioKICAgICAqIHJRUVRzVGhFcSBUakkgbFFmSTkgRW1mIGtUcyBUaEVrVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVCgpCiAgICB7CiAgICAgICAgc1RFVGtGOjplUVFUSGhFa1RzKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiByUVFUIEU5OSBRaSBUakkgZVFRVEVlOUkgVGhFa1RzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiBpcG1GVGtRbSBlUVFUSGhFa1RzKCkKICAgIHsKICAgICAgICAkRjlFc3MgPSBzVEVUa0Y6OkY5RXNzOwoKICAgICAgICAkZVFRVElmID0gW107CgogICAgICAgIHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzWyRGOUVzc10gPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoRjlFc3NfcHNJc19oSUZwaHNrVUkoJEY5RXNzKSBFcyAkVGhFa1QpIHsKICAgICAgICAgICAgJGxJVGpRZiA9ICdlUVFUJy5GOUVzc19lRXNJbUVsSSgkVGhFa1QpOwoKICAgICAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoJEY5RXNzLCAkbElUalFmKSAmJiAhIGttX0VoaEV2KCRsSVRqUWYsICRlUVFUSWYpKSB7CiAgICAgICAgICAgICAgICBpUWh1RWhmX3NURVRrRl9GRTk5KFskRjlFc3MsICRsSVRqUWZdKTsKCiAgICAgICAgICAgICAgICAkZVFRVElmW10gPSAkbElUalFmOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAobElUalFmX0lWa3NUcygkRjlFc3MsICRsSVRqUWYgPSAna21rVGtFOWtXSScuRjlFc3NfZUVzSW1FbEkoJFRoRWtUKSkpIHsKICAgICAgICAgICAgICAgIHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzWyRGOUVzc11bXSA9ICRsSVRqUWY7CgogICAgICAgICAgICAgICAgc1RFVGtGOjokVGhFa1RLbWtUa0U5a1dJaHNbJEY5RXNzXSA9IEVoaEV2X3Bta1JwSSgKICAgICAgICAgICAgICAgICAgICBzVEVUa0Y6OiRUaEVrVEtta1RrRTlrV0loc1skRjlFc3NdCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogS21rVGtFOWtXSSBFbXYga21rVGtFOWtXRWU5SSBUaEVrVHMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga21rVGtFOWtXSUhoRWtUcygpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoc1RFVGtGOjokVGhFa1RLbWtUa0U5a1dJaHNbc1RFVGtGOjpGOUVzc10gRXMgJGxJVGpRZikgewogICAgICAgICAgICAkVGprcy0+eyRsSVRqUWZ9KCk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFbXYgRUZUa1FtcyBoSVJwa2hJZiBFaVRJaCBUakkgbFFmSTkgZVFRVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVElmKCkKICAgIHsKICAgICAgICArKwogICAgfQoKICAgICsqKgogICAgICogbzlJRWggVGpJIDlrc1QgUWkgZVFRVElmIGxRZkk5cyBzUSBUakl2IHVrOTkgZUkgaEktZVFRVElmLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEY5SUVoclFRVElmM1FmSTlzKCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRlUVFUSWYgPSBbXTsKCiAgICAgICAgc1RFVGtGOjokSjlRZUU5T0ZRcUlzID0gW107CiAgICB9CgogICAgKyoqCiAgICAgKiBua3NFZTlJcyBoSTlFVGtRbXNqa3EgbFFmSTkgVFFwRmprbUogaVFoIFRqSSBGcGhoSW1UIEY5RXNzIGZwaGttSiBKa1VJbSBGRTk5ZUVGOCBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRIUXBGamttSihGRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjp1a1RqUXBUSFFwRmprbUpNbShbc1RFVGtGOjpGOUVzc10sICRGRTk5ZUVGOCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBua3NFZTlJcyBoSTlFVGtRbXNqa3EgbFFmSTkgVFFwRmprbUogaVFoIFRqSSBKa1VJbSBsUWZJOSBGOUVzc0lzIGZwaGttSiBKa1VJbSBGRTk5ZUVGOCBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbFFmSTlzCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRIUXBGamttSk1tKEVoaEV2ICRsUWZJOXMsIEZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRrSm1RaElNbUhRcEZqID0gRWhoRXZfVUU5cElzKEVoaEV2X2xJaEpJKHNURVRrRjo6JGtKbVFoSU1tSFFwRmosICRsUWZJOXMpKTsKCiAgICAgICAgVGh2IHsKICAgICAgICAgICAgJEZFOTllRUY4KCk7CiAgICAgICAgfSBpa21FOTl2IHsKICAgICAgICAgICAgc1RFVGtGOjoka0ptUWhJTW1IUXBGaiA9IEVoaEV2X1VFOXBJcyhFaGhFdl9ma2lpKHNURVRrRjo6JGtKbVFoSU1tSFFwRmosICRsUWZJOXMpKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIGxRZkk5IGtzIGtKbVFoa21KIFRRcEZqSXMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJEY5RXNzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBrc0tKbVFoa21KSFFwRmooJEY5RXNzID0gbXA5OSkKICAgIHsKICAgICAgICAkRjlFc3MgPSAkRjlFc3MgPzogc1RFVGtGOjpGOUVzczsKCiAgICAgICAga2kgKCEgSklUX0Y5RXNzX1VFaHMoJEY5RXNzKVsnVGtsSXNURWxxcyddIHx8ICEgJEY5RXNzOjpQYW50SGduX3RIKSB7CiAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgIH0KCiAgICAgICAgaVFoSUVGaiAoc1RFVGtGOjoka0ptUWhJTW1IUXBGaiBFcyAka0ptUWhJZm85RXNzKSB7CiAgICAgICAgICAgIGtpICgkRjlFc3MgPT09ICRrSm1RaElmbzlFc3MgfHwga3Nfc3BlRjlFc3NfUWkoJEY5RXNzLCAka0ptUWhJZm85RXNzKSkgewogICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIEttZmtGRVRJIFRqRVQgbFFmSTlzIHNqUXA5ZiBxaElVSW1UIDlFV3YgOVFFZmttSiwgc2s5SW1UOXYgZmtzRkVoZmttSiBFVFRoa2VwVElzLCBFbWYgRUZGSXNza21KIGxrc3NrbUogRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRzalFwOWZySU9UaGtGVAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gc2pRcDlmcklPVGhrRlQoZVFROSAkc2pRcDlmcklPVGhrRlQgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6cWhJVUltVDZFV3Y2UUVma21KKCRzalFwOWZySU9UaGtGVCk7CiAgICAgICAgc1RFVGtGOjpxaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygkc2pRcDlmcklPVGhrRlQpOwogICAgICAgIHNURVRrRjo6cWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCRzalFwOWZySU9UaGtGVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIGxRZkk5IGhJOUVUa1Ftc2prcXMgaWhRbCBlSWttSiA5RVd2IDlRRWZJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVDZFV3Y2UUVma21KKCRVRTlwSSA9IFRocEkpCiAgICB7CiAgICAgICAgc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVDZFV3Y2UUVma21KID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiA5RVd2IDlRRWZrbUogVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJfG1wOTkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gakVtZjlJNkVXdjZRRWZrbUpCa1E5RVRrUW1Qc2ttSig/RkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgIHNURVRrRjo6JDlFV3Y2UUVma21KQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIG1RbS1pazk5RWU5SSBFVFRoa2VwVElzIGloUWwgZUlrbUogc2s5SW1UOXYgZmtzRkVoZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgZVFROSAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBxaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygkVUU5cEkgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVRPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBma3NGRWhmSWYgRVRUaGtlcFRJIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQHFFaEVsICBGRTk5RWU5SXxtcDk5ICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGpFbWY5SW5rc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbVBza21KKD9GRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIEVGRklzc2ttSiBsa3Nza21KIEVUVGhrZXBUSXMgUW0gaElUaGtJVUlmIGxRZkk5cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCRVRTlwSSA9IFRocEkpCiAgICB7CiAgICAgICAgc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBsa3Nza21KIEVUVGhrZXBUSSBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBxRWhFbCAgRkU5OUVlOUl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBqRW1mOUkza3Nza21KdFRUaGtlcFRJQmtROUVUa1FtUHNrbUooP0ZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRsa3Nza21KdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIEUgRkU5OWVFRjggdWtUalFwVCBlaFFFZkZFc1RrbUogRW12IGxRZkk5IElVSW1UcyBpUWggRTk5IGxRZkk5IFR2cUlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRkU5OUVlOUkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRyaFFFZkZFc1RrbUooRkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgICRrc3JoUUVmRkVzVGttSiA9IHNURVRrRjo6JGtzcmhRRWZGRXNUa21KOwoKICAgICAgICBzVEVUa0Y6OiRrc3JoUUVmRkVzVGttSiA9IGlFOXNJOwoKICAgICAgICBUaHYgewogICAgICAgICAgICBoSVRwaG0gJEZFOTllRUY4KCk7CiAgICAgICAgfSBpa21FOTl2IHsKICAgICAgICAgICAgc1RFVGtGOjoka3NyaFFFZkZFc1RrbUogPSAka3NyaFFFZkZFc1RrbUo7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMms5OSBUakkgbFFmSTkgdWtUaiBFbSBFaGhFdiBRaSBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNFc3N0c3NrSm1sSW1UZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpazk5KEVoaEV2ICRFVFRoa2VwVElzKQogICAgewogICAgICAgICRUUVRFOTl2MHBFaGZJZiA9ICRUamtzLT5UUVRFOTl2MHBFaGZJZigpOwoKICAgICAgICAkaWs5OUVlOUkgPSAkVGprcy0+aWs5OUVlOUkyaFFsdGhoRXYoJEVUVGhrZXBUSXMpOwoKICAgICAgICBpUWhJRUZqICgkaWs5OUVlOUkgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAgKysgSGpJIGZJVUk5UXFJaHMgbEV2IEZqUVFzSSBUUSBxOUVGSSBzUWxJIEVUVGhrZXBUSXMga20gVGpJICJpazk5RWU5SSIgRWhoRXYKICAgICAgICAgICAgKysgdWprRmogbElFbXMgUW05diBUalFzSSBFVFRoa2VwVElzIGxFdiBlSSBzSVQgVGpoUXBKaiBsRXNzIEVzc2tKbWxJbVQgVFEKICAgICAgICAgICAgKysgVGpJIGxRZkk5LCBFbWYgRTk5IFFUaklocyB1azk5IExwc1QgSklUIGtKbVFoSWYgaVFoIHNJRnBoa1R2IGhJRXNRbXMuCiAgICAgICAgICAgIGtpICgkVGprcy0+a3Myazk5RWU5SSgkOEl2KSkgewogICAgICAgICAgICAgICAgJFRqa3MtPnNJVHRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgICAgICB9IEk5c0lraSAoJFRRVEU5OXYwcEVoZklmIHx8IHNURVRrRjo6cWhJVUltVHNPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzKCkpIHsKICAgICAgICAgICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiRma3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCkpIHsKICAgICAgICAgICAgICAgICAgICBGRTk5X3BzSWhfaXBtRihzVEVUa0Y6OiRma3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCwgJFRqa3MsIFskOEl2XSk7CiAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgIFRqaFF1IG1JdSAzRXNzdHNza0ptbEltVGdWRklxVGtRbShzcWhrbVRpKAogICAgICAgICAgICAgICAgICAgICAgICAndGZmIFslc10gVFEgaWs5OUVlOUkgcWhRcUloVHYgVFEgRTk5UXUgbEVzcyBFc3NrSm1sSW1UIFFtIFslc10uJywKICAgICAgICAgICAgICAgICAgICAgICAgJDhJdiwgSklUX0Y5RXNzKCRUamtzKQogICAgICAgICAgICAgICAgICAgICkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBraSAoRlFwbVQoJEVUVGhrZXBUSXMpICE9PSBGUXBtVCgkaWs5OUVlOUkpICYmCiAgICAgICAgICAgIHNURVRrRjo6cWhJVUltVHNPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzKCkpIHsKICAgICAgICAgICAgJDhJdnMgPSBFaGhFdl9ma2lpKEVoaEV2XzhJdnMoJEVUVGhrZXBUSXMpLCBFaGhFdl84SXZzKCRpazk5RWU5SSkpOwoKICAgICAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4KSkgewogICAgICAgICAgICAgICAgRkU5OV9wc0loX2lwbUYoc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjgsICRUamtzLCAkOEl2cyk7CiAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICBUamhRdSBtSXUgM0Vzc3Rzc2tKbWxJbVRnVkZJcVRrUW0oc3Foa21UaSgKICAgICAgICAgICAgICAgICAgICAndGZmIGlrOTlFZTlJIHFoUXFJaFR2IFslc10gVFEgRTk5UXUgbEVzcyBFc3NrSm1sSW1UIFFtIFslc10uJywKICAgICAgICAgICAgICAgICAgICBrbHE5UWZJKCcsICcsICQ4SXZzKSwKICAgICAgICAgICAgICAgICAgICBKSVRfRjlFc3MoJFRqa3MpCiAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMms5OSBUakkgbFFmSTkgdWtUaiBFbSBFaGhFdiBRaSBFVFRoa2VwVElzLiAyUWhGSSBsRXNzIEVzc2tKbWxJbVQuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJMms5OShFaGhFdiAkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpwbUpwRWhmSWYoaW0gKCkgPT4gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIEdwRTlraXYgVGpJIEprVUltIEZROXBsbSBtRWxJIGV2IFRqSSBsUWZJOSdzIFRFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUnBFOWtpdm9ROXBsbSgkRlE5cGxtKQogICAgewogICAgICAgIGtpIChzVGhfRlFtVEVrbXMoJEZROXBsbSwgJy4nKSkgewogICAgICAgICAgICBoSVRwaG0gJEZROXBsbTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRIRWU5SSgpLicuJy4kRlE5cGxtOwogICAgfQoKICAgICsqKgogICAgICogR3BFOWtpdiBUakkgSmtVSW0gRlE5cGxtcyB1a1RqIFRqSSBsUWZJOSdzIFRFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBScEU5a2l2b1E5cGxtcygkRlE5cGxtcykKICAgIHsKICAgICAgICBoSVRwaG0gRlE5OUlGVCgkRlE5cGxtcyktPmxFcShpcG1GVGtRbSAoJEZROXBsbSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlJwRTlraXZvUTlwbG0oJEZROXBsbSk7CiAgICAgICAgfSktPkU5OSgpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGttc1RFbUZJIFFpIFRqSSBKa1VJbSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBlUVE5ICAkSVZrc1RzCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1S21zVEVtRkkoJEVUVGhrZXBUSXMgPSBbXSwgJElWa3NUcyA9IGlFOXNJKQogICAgewogICAgICAgICsrIEhqa3MgbElUalFmIExwc1QgcWhRVWtmSXMgRSBGUW1VSW1rSW1UIHVFdiBpUWggcHMgVFEgSkltSWhFVEkgaWhJc2ogbFFmSTkKICAgICAgICArKyBrbXNURW1GSXMgUWkgVGprcyBGcGhoSW1UIGxRZkk5LiBLVCBrcyBxRWhUa0ZwOUVoOXYgcHNJaXA5IGZwaGttSiBUakkKICAgICAgICArKyBqdmZoRVRrUW0gUWkgbUl1IFFlTElGVHMgVWtFIFRqSSBnOVFScEltVCBScElodiBlcGs5ZkloIGttc1RFbUZJcy4KICAgICAgICAkbFFmSTkgPSBtSXUgc1RFVGtGOwoKICAgICAgICAkbFFmSTktPklWa3NUcyA9ICRJVmtzVHM7CgogICAgICAgICRsUWZJOS0+c0lUb1FtbUlGVGtRbSgKICAgICAgICAgICAgJFRqa3MtPkpJVG9RbW1JRlRrUW1BRWxJKCkKICAgICAgICApOwoKICAgICAgICAkbFFmSTktPnNJVEhFZTlJKCRUamtzLT5KSVRIRWU5SSgpKTsKCiAgICAgICAgJGxRZkk5LT5sSWhKSW9Fc1RzKCRUamtzLT5GRXNUcyk7CgogICAgICAgICRsUWZJOS0+aWs5OSgoRWhoRXYpICRFVFRoa2VwVElzKTsKCiAgICAgICAgaElUcGhtICRsUWZJOTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBsUWZJOSBrbXNURW1GSSBUakVUIGtzIElWa3NUa21KLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkRlFtbUlGVGtRbQogICAgICogQGhJVHBobSBzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdTJoUWxycGs5ZkloKCRFVFRoa2VwVElzID0gW10sICRGUW1tSUZUa1FtID0gbXA5OSkKICAgIHsKICAgICAgICAkbFFmSTkgPSAkVGprcy0+bUl1S21zVEVtRkkoW10sIFRocEkpOwoKICAgICAgICAkbFFmSTktPnNJVE5FdXRUVGhrZXBUSXMoKEVoaEV2KSAkRVRUaGtlcFRJcywgVGhwSSk7CgogICAgICAgICRsUWZJOS0+c0lUb1FtbUlGVGtRbSgkRlFtbUlGVGtRbSA/OiAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSk7CgogICAgICAgICRsUWZJOS0+aWtoSTNRZkk5Z1VJbVQoJ2hJVGhrSVVJZicsIGlFOXNJKTsKCiAgICAgICAgaElUcGhtICRsUWZJOTsKICAgIH0KCiAgICArKioKICAgICAqIHJJSmttIFJwSWh2a21KIFRqSSBsUWZJOSBRbSBFIEprVUltIEZRbW1JRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJEZRbW1JRlRrUW0KICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gUW0oJEZRbW1JRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgICsrIDJraHNUIHVJIHVrOTkgTHBzVCBGaElFVEkgRSBpaElzaiBrbXNURW1GSSBRaSBUamtzIGxRZkk5LCBFbWYgVGpJbSB1SSBGRW0gc0lUIFRqSQogICAgICAgICsrIEZRbW1JRlRrUW0gUW0gVGpJIGxRZkk5IHNRIFRqRVQga1Qga3MgcHNJZiBpUWggVGpJIFJwSWhrSXMgdUkgSVZJRnBUSSwgRXMgdUk5OQogICAgICAgICsrIEVzIGVJa21KIHNJVCBRbSBJVUlodiBoSTlFVGtRbSB1SSBoSVRoa0lVSSB1a1RqUXBUIEUgRnBzVFFsIEZRbW1JRlRrUW0gbUVsSS4KICAgICAgICAka21zVEVtRkkgPSBtSXUgc1RFVGtGOwoKICAgICAgICAka21zVEVtRkktPnNJVG9RbW1JRlRrUW0oJEZRbW1JRlRrUW0pOwoKICAgICAgICBoSVRwaG0gJGttc1RFbUZJLT5tSXVHcElodigpOwogICAgfQoKICAgICsqKgogICAgICogcklKa20gUnBJaHZrbUogVGpJIGxRZkk5IFFtIFRqSSB1aGtUSSBGUW1tSUZUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gUW1iaGtUSW9RbW1JRlRrUW0oKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OlJwSWh2KCktPnBzSWJoa1RJYWZRKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRTk5IFFpIFRqSSBsUWZJOXMgaWhRbCBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcb1E5OUlGVGtRbTxrbVQsIHNURVRrRj4KICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBFOTkoJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpScElodigpLT5KSVQoCiAgICAgICAgICAgIGtzX0VoaEV2KCRGUTlwbG1zKSA/ICRGUTlwbG1zIDogaXBtRl9KSVRfRWhKcygpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIHJJSmttIFJwSWh2a21KIEUgbFFmSTkgdWtUaiBJRUpJaCA5UUVma21KLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGooJGhJOUVUa1FtcykKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpScElodigpLT51a1RqKAogICAgICAgICAgICBrc19zVGhrbUooJGhJOUVUa1FtcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkaEk5RVRrUW1zCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZigkaEk5RVRrUW1zKQogICAgewogICAgICAgICRScElodiA9ICRUamtzLT5tSXVHcElodmJrVGpRcFROSTlFVGtRbXNqa3FzKCktPnVrVGooCiAgICAgICAgICAgIGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXMKICAgICAgICApOwoKICAgICAgICAkUnBJaHYtPklFSkloNlFFZk5JOUVUa1FtcyhbJFRqa3NdKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3FzIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxaigkaEk5RVRrUW0sICRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPnskaEk5RVRrUW19KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CgogICAgICAgICRGOUVzc0FFbEkgPSBKSVRfRjlFc3MoJFRqa3MtPnskaEk5RVRrUW19KTsKCiAgICAgICAgJFRqa3MtPnskaEk5RVRrUW19LT45UUVmKCRoSTlFVGtRbXNbJEY5RXNzQUVsSV0gPz8gW10pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtcyBRbSBUakkgbFFmSTkga2kgVGpJdiBFaEkgbVFUIEU5aElFZnYgSUVKSWggOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM2tzc2ttSigkaEk5RVRrUW1zKQogICAgewogICAgICAgICRoSTlFVGtRbXMgPSBrc19zVGhrbUooJGhJOUVUa1FtcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkaEk5RVRrUW1zOwoKICAgICAgICAkVGprcy0+bUl1b1E5OUlGVGtRbShbJFRqa3NdKS0+OVFFZjNrc3NrbUooJGhJOUVUa1Ftcyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0ncyBGUTlwbG0gRUpKaElKRVRrUW1zIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpcG1GVGtRbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAkaXBtRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgICRUamtzLT5tSXVvUTk5SUZUa1FtKFskVGprc10pLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICRpcG1GVGtRbSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0gRlFwbVRzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZm9RcG1UKCRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgJGhJOUVUa1FtcyA9IGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXM7CgogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAnKicsICdGUXBtVCcpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbSBsRVYgRlE5cGxtIFVFOXBJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM0VWKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdsRVYnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0gbGttIEZROXBsbSBVRTlwSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNrbSgkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAnbGttJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtJ3MgRlE5cGxtIHNwbGxFVGtRbXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZk9wbCgkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAnc3BsJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtIEVVSWhFSkkgRlE5cGxtIFVFOXBJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmdFVKKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdFVUonKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRJZiBsUWZJOSBJVmtzVEltRkkgVUU5cElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZmdWa3NUcygkaEk5RVRrUW1zKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAnKicsICdJVmtzVHMnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEZROXBsbSBFSkpoSUpFVGtRbSBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlwbUZUa1FtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtLCAkaXBtRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgIGtpICghICRUamtzLT57JGhJOUVUa1FtfSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICAkRjlFc3NBRWxJID0gSklUX0Y5RXNzKCRUamtzLT57JGhJOUVUa1FtfSk7CgogICAgICAgICRUamtzLT57JGhJOUVUa1FtfS0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zWyRGOUVzc0FFbEldID8/IFtdLCAkRlE5cGxtLCAkaXBtRlRrUW0pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcSBGUXBtVHMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqb1FwbVQoJGhJOUVUa1FtLCAkaEk5RVRrUW1zKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJyonLCAnRlFwbVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIGxFViBGUTlwbG0gVUU5cElzIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWozRVYoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSwgJ2xFVicpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3EgbGttIEZROXBsbSBVRTlwSXMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxajNrbSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtLCAnbGttJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcSBGUTlwbG0gc3BsbEVUa1FtcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqT3BsKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICdzcGwnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEVVSWhFSkkgRlE5cGxtIFVFOXBJcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqdFVKKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICdFVUonKTsKICAgIH0KCiAgICArKioKICAgICAqIEttRmhJbEltVCBFIEZROXBsbSdzIFVFOXBJIGV2IEUgSmtVSW0gRWxRcG1ULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga21GaElsSW1UKCRGUTlwbG0sICRFbFFwbVQgPSBYLCBFaGhFdiAkSVZUaEUgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJ2ttRmhJbEltVCcpOwogICAgfQoKICAgICsqKgogICAgICogbklGaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+a21GaElsSW1UTWhuSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFLCAnZklGaElsSW1UJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOcG0gVGpJIGttRmhJbEltVCBRaCBmSUZoSWxJbVQgbElUalFmIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbUZoSWxJbVRNaG5JRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUsICRsSVRqUWYpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2YmtUalFwVE5JOUVUa1Ftc2prcXMoKS0+eyRsSVRqUWZ9KCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+eyRGUTlwbG19ID0gJFRqa3MtPmtzbzlFc3NuSVVrRWU5SSgkRlE5cGxtKQogICAgICAgICAgICA/ICRUamtzLT5mSVVrRVRJbzlFc3NvRXNURWU5SXRUVGhrZXBUSSgkbElUalFmLCAkRlE5cGxtLCAkRWxRcG1UKQogICAgICAgICAgICA6ICRUamtzLT57JEZROXBsbX0gLyAoJGxJVGpRZiA9PT0gJ2ttRmhJbEltVCcgPyAkRWxRcG1UIDogJEVsUXBtVCAqIC1YKTsKCiAgICAgICAgJFRqa3MtPmlRaEZJMms5OSgkSVZUaEUpOwoKICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdwcWZFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmtzbzlFc3NuSVVrRWU5SSgkRlE5cGxtKSkgewogICAgICAgICAgICAkRWxRcG1UID0gKEY5UW1JICRUamtzKS0+c0lUdFRUaGtlcFRJKCRGUTlwbG0sICRFbFFwbVQpLT5KSVR0VFRoa2VwVEkyaFFsdGhoRXYoJEZROXBsbSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVEVxKCRUamtzLT5zSVQxSXZzMlFoT0VVSUdwSWh2KCRUamtzLT5tSXVHcElodmJrVGpRcFRPRlFxSXMoKSktPnskbElUalFmfSgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUpLCBpcG1GVGtRbSAoKSBwc0kgKCRGUTlwbG0pIHsKICAgICAgICAgICAgJFRqa3MtPnN2bUZvakVtSklzKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3BxZkVUSWYnLCBpRTlzSSk7CgogICAgICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5dFRUaGtlcFRJKCRGUTlwbG0pOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogUHFmRVRJIFRqSSBsUWZJOSBrbSBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSShFaGhFdiAkRVRUaGtlcFRJcyA9IFtdLCBFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5pazk5KCRFVFRoa2VwVElzKS0+c0VVSSgkUXFUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQcWZFVEkgVGpJIGxRZkk5IGttIFRqSSBmRVRFZUVzSSB1a1Rqa20gRSBUaEVtc0VGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJTWgyRWs5KEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpLT5zRVVJTWgyRWs5KCRRcVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIFBxZkVUSSBUakkgbFFmSTkga20gVGpJIGZFVEVlRXNJIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwcWZFVElHcGtJVDl2KEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpLT5zRVVJR3BrSVQ5digkUXFUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVCB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttRmhJbEltVEdwa0lUOXYoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaXBtRlRrUW0gKCkgcHNJICgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5rbUZoSWxJbVRNaG5JRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUsICdrbUZoSWxJbVQnKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRmhJbEltVCBFIEZROXBsbSdzIFVFOXBJIGV2IEUgSmtVSW0gRWxRcG1UIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gZklGaElsSW1UR3BrSVQ5digkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpcG1GVGtRbSAoKSBwc0kgKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJ2ZJRmhJbEltVCcpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBUakkgbFFmSTkgRW1mIEU5OSBRaSBrVHMgaEk5RVRrUW1zamtxcy4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHFwc2ooKQogICAgewogICAgICAgIGtpICghICRUamtzLT5zRVVJKCkpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgKysgSFEgc3ZtRiBFOTkgUWkgVGpJIGhJOUVUa1Ftc2prcXMgVFEgVGpJIGZFVEVlRXNJLCB1SSB1azk5IHNrbHE5diBzcWttIFRqaFFwSmoKICAgICAgICArKyBUakkgaEk5RVRrUW1zamtxcyBFbWYgc0VVSSBJRUZqIGxRZkk5IFVrRSBUamtzICJxcHNqIiBsSVRqUWYsIHVqa0ZqIEU5OVF1cwogICAgICAgICsrIHBzIFRRIGhJRnBoc0kga21UUSBFOTkgUWkgVGpJc0kgbUlzVElmIGhJOUVUa1FtcyBpUWggVGpJIGxRZkk5IGttc1RFbUZJLgogICAgICAgIGlRaElFRmogKCRUamtzLT5oSTlFVGtRbXMgRXMgJGxRZkk5cykgewogICAgICAgICAgICAkbFFmSTlzID0gJGxRZkk5cyBrbXNURW1GSVFpIG9ROTlJRlRrUW0KICAgICAgICAgICAgICAgID8gJGxRZkk5cy0+RTk5KCkgOiBbJGxRZkk5c107CgogICAgICAgICAgICBpUWhJRUZqIChFaGhFdl9pazlUSWgoJGxRZkk5cykgRXMgJGxRZkk5KSB7CiAgICAgICAgICAgICAgICBraSAoISAkbFFmSTktPnFwc2ooKSkgewogICAgICAgICAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIFRqSSBsUWZJOSBFbWYgRTk5IFFpIGtUcyBoSTlFVGtRbXNqa3FzIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzIFRRIFRqSSBxRWhJbVQgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBxcHNqR3BrSVQ5digpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+cXBzaigpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IFRRIFRqSSBmRVRFZUVzSSB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRVVJR3BrSVQ5dihFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaW0gKCkgPT4gJFRqa3MtPnNFVUkoJFFxVGtRbXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IFRRIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRVVJKEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAgJFRqa3MtPmxJaEpJdFRUaGtlcFRJczJoUWxvRUZqSWZvRXNUcygpOwoKICAgICAgICAkUnBJaHYgPSAkVGprcy0+bUl1M1FmSTlHcElodigpOwoKICAgICAgICArKyBLaSBUakkgInNFVWttSiIgSVVJbVQgaElUcGhtcyBpRTlzSSB1SSc5OSBlRWs5IFFwVCBRaSBUakkgc0VVSSBFbWYgaElUcGhtCiAgICAgICAgKysgaUU5c0ksIGttZmtGRVRrbUogVGpFVCBUakkgc0VVSSBpRWs5SWYuIEhqa3MgcWhRVWtmSXMgRSBGakVtRkkgaVFoIEVtdgogICAgICAgICsrIDlrc1RJbUlocyBUUSBGRW1GSTkgc0VVSSBRcUloRVRrUW1zIGtpIFVFOWtmRVRrUW1zIGlFazkgUWggdWpFVElVSWguCiAgICAgICAga2kgKCRUamtzLT5pa2hJM1FmSTlnVUltVCgnc0VVa21KJykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CiAgICAgICAgKysgS2kgVGpJIGxRZkk5IEU5aElFZnYgSVZrc1RzIGttIFRqSSBmRVRFZUVzSSB1SSBGRW0gTHBzVCBwcWZFVEkgUXBoIGhJRlFoZgogICAgICAgICsrIFRqRVQga3MgRTloSUVmdiBrbSBUamtzIGZFVEVlRXNJIHBza21KIFRqSSBGcGhoSW1UIEtucyBrbSBUamtzICJ1akloSSIKICAgICAgICArKyBGOUVwc0kgVFEgUW05diBwcWZFVEkgVGprcyBsUWZJOS4gTVRqSWh1a3NJLCB1SSc5OSBMcHNUIGttc0loVCBUaklsLgogICAgICAgIGtpICgkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgICRzRVVJZiA9ICRUamtzLT5rc25raFR2KCkgPwogICAgICAgICAgICAgICAgJFRqa3MtPnFJaGlRaGxQcWZFVEkoJFJwSWh2KSA6IFRocEk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgbFFmSTkga3MgZWhFbWYgbUl1LCB1SSc5OSBrbXNJaFQga1Qga21UUSBRcGggZkVURWVFc0kgRW1mIHNJVCBUakkKICAgICAgICArKyBLbiBFVFRoa2VwVEkgUW0gVGpJIGxRZkk5IFRRIFRqSSBVRTlwSSBRaSBUakkgbUl1OXYga21zSWhUSWYgaFF1J3MgS24KICAgICAgICArKyB1amtGaiBrcyBUdnFrRkU5OXYgRW0gRXBUUS1rbUZoSWxJbVQgVUU5cEkgbEVtRUpJZiBldiBUakkgZkVURWVFc0kuCiAgICAgICAgSTlzSSB7CiAgICAgICAgICAgICRzRVVJZiA9ICRUamtzLT5xSWhpUWhsS21zSWhUKCRScElodik7CgogICAgICAgICAgICBraSAoISAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSAmJgogICAgICAgICAgICAgICAgJEZRbW1JRlRrUW0gPSAkUnBJaHYtPkpJVG9RbW1JRlRrUW0oKSkgewogICAgICAgICAgICAgICAgJFRqa3MtPnNJVG9RbW1JRlRrUW0oJEZRbW1JRlRrUW0tPkpJVEFFbEkoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBrcyBzcEZGSXNzaXA5OXYgc0VVSWYsIHVJIG1JSWYgVFEgZlEgRSBpSXUgbFFoSSBUamttSnMgUW1GSQogICAgICAgICsrIFRqRVQga3MgZlFtSS4gYkkgdWs5OSBGRTk5IFRqSSAic0VVSWYiIGxJVGpRZiBqSWhJIFRRIGhwbSBFbXYgRUZUa1FtcwogICAgICAgICsrIHVJIG1JSWYgVFEgakVxcUltIEVpVEloIEUgbFFmSTkgSklUcyBzcEZGSXNzaXA5OXYgc0VVSWYgaGtKalQgakloSS4KICAgICAgICBraSAoJHNFVUlmKSB7CiAgICAgICAgICAgICRUamtzLT5pa21rc2pPRVVJKCRRcVRrUW1zKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkc0VVSWY7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIFRqSSBsUWZJOSBUUSBUakkgZkVURWVFc0kgdWtUamttIEUgVGhFbXNFRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0VVSU1oMkVrOShFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbShpbSAoKSA9PiAkVGprcy0+c0VVSSgkUXFUa1FtcykpOwogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFbXYgRUZUa1FtcyBUakVUIEVoSSBtSUZJc3NFaHYgRWlUSWggVGpJIGxRZkk5IGtzIHNFVUlmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGlrbWtzak9FVUkoRWhoRXYgJFFxVGtRbXMpCiAgICB7CiAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdzRVVJZicsIGlFOXNJKTsKCiAgICAgICAga2kgKCRUamtzLT5rc25raFR2KCkgJiYgKCRRcVRrUW1zWydUUXBGaiddID8/IFRocEkpKSB7CiAgICAgICAgICAgICRUamtzLT5UUXBGak11bUlocygpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnN2bUZNaGtKa21FOSgpOwogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFIGxRZkk5IHBxZkVUSSBRcUloRVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxSWhpUWhsUHFmRVRJKHJwazlmSWggJFJwSWh2KQogICAgewogICAgICAgICsrIEtpIFRqSSBwcWZFVGttSiBJVUltVCBoSVRwaG1zIGlFOXNJLCB1SSB1azk5IEZFbUZJOSBUakkgcHFmRVRJIFFxSWhFVGtRbSBzUQogICAgICAgICsrIGZJVUk5UXFJaHMgRkVtIGpRUTggQkU5a2ZFVGtRbSBzdnNUSWxzIGttVFEgVGpJa2ggbFFmSTlzIEVtZiBGRW1GSTkgVGprcwogICAgICAgICsrIFFxSWhFVGtRbSBraSBUakkgbFFmSTkgZlFJcyBtUVQgcUVzcyBVRTlrZkVUa1FtLiBNVGpJaHVrc0ksIHVJIHBxZkVUSS4KICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdwcWZFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICArKyAya2hzVCB1SSBtSUlmIFRRIEZoSUVUSSBFIGloSXNqIFJwSWh2IGttc1RFbUZJIEVtZiBUUXBGaiBUakkgRmhJRVRrUW0gRW1mCiAgICAgICAgKysgcHFmRVRJIFRrbElzVEVscSBRbSBUakkgbFFmSTkgdWprRmogRWhJIGxFa21URWttSWYgZXYgcHMgaVFoIGZJVUk5UXFJaAogICAgICAgICsrIEZRbVVJbWtJbUZJLiBIakltIHVJIHVrOTkgTHBzVCBGUW1Ua21wSSBzRVVrbUogVGpJIGxRZkk5IGttc1RFbUZJcy4KICAgICAgICBraSAoJFRqa3MtPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgJFRqa3MtPnBxZkVUSUhrbElzVEVscXMoKTsKICAgICAgICB9CgogICAgICAgICsrIE1tRkkgdUkgakVVSSBocG0gVGpJIHBxZkVUSSBRcUloRVRrUW0sIHVJIHVrOTkgaWtoSSBUakkgInBxZkVUSWYiIElVSW1UIGlRaAogICAgICAgICsrIFRqa3MgbFFmSTkga21zVEVtRkkuIEhqa3MgdWs5OSBFOTlRdSBmSVVJOVFxSWhzIFRRIGpRUTgga21UUSBUaklzSSBFaVRJaAogICAgICAgICsrIGxRZkk5cyBFaEkgcHFmRVRJZiwgSmtVa21KIFRqSWwgRSBGakVtRkkgVFEgZlEgRW12IHNxSUZrRTkgcWhRRklzc2ttSi4KICAgICAgICAkZmtoVHYgPSAkVGprcy0+SklUbmtoVHYyUWhQcWZFVEkoKTsKCiAgICAgICAga2kgKEZRcG1UKCRma2hUdikgPiB3KSB7CiAgICAgICAgICAgICRUamtzLT5zSVQxSXZzMlFoT0VVSUdwSWh2KCRScElodiktPnBxZkVUSSgkZmtoVHYpOwoKICAgICAgICAgICAgJFRqa3MtPnN2bUZvakVtSklzKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3BxZkVUSWYnLCBpRTlzSSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVGhwSTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgOEl2cyBpUWggRSBzSTlJRlQgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJVDFJdnMyUWhPSTlJRlRHcElodigkUnBJaHYpCiAgICB7CiAgICAgICAgJFJwSWh2LT51akloSSgkVGprcy0+SklUMUl2QUVsSSgpLCAnPScsICRUamtzLT5KSVQxSXYyUWhPSTlJRlRHcElodigpKTsKCiAgICAgICAgaElUcGhtICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgcWhrbEVodiA4SXYgVUU5cEkgaVFoIEUgc0k5SUZUIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVDFJdjJRaE9JOUlGVEdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlFoa0prbUU5WyRUamtzLT5KSVQxSXZBRWxJKCldID8/ICRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgOEl2cyBpUWggRSBzRVVJIHBxZkVUSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUMUl2czJRaE9FVUlHcElodigkUnBJaHYpCiAgICB7CiAgICAgICAgJFJwSWh2LT51akloSSgkVGprcy0+SklUMUl2QUVsSSgpLCAnPScsICRUamtzLT5KSVQxSXYyUWhPRVVJR3BJaHYoKSk7CgogICAgICAgIGhJVHBobSAkUnBJaHY7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHFoa2xFaHYgOEl2IFVFOXBJIGlRaCBFIHNFVUkgUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUMUl2MlFoT0VVSUdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlFoa0prbUU5WyRUamtzLT5KSVQxSXZBRWxJKCldID8/ICRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIGFJaGlRaGwgRSBsUWZJOSBrbXNJaFQgUXFJaEVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUloaVFobEttc0loVChycGs5ZkloICRScElodikKICAgIHsKICAgICAgICBraSAoJFRqa3MtPnBzSXNQbWtScElLZnMoKSkgewogICAgICAgICAgICAkVGprcy0+c0lUUG1rUnBJS2ZzKCk7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdGaElFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICArKyAya2hzVCB1SSc5OSBtSUlmIFRRIEZoSUVUSSBFIGloSXNqIFJwSWh2IGttc1RFbUZJIEVtZiBUUXBGaiBUakkgRmhJRVRrUW0gRW1mCiAgICAgICAgKysgcHFmRVRJIFRrbElzVEVscXMgUW0gVGprcyBsUWZJOSwgdWprRmogRWhJIGxFa21URWttSWYgZXYgcHMgaVFoIGZJVUk5UXFJaAogICAgICAgICsrIEZRbVVJbWtJbUZJLiB0aVRJaCwgdUkgdWs5OSBMcHNUIEZRbVRrbXBJIHNFVWttSiBUaklzSSBsUWZJOSBrbXNURW1GSXMuCiAgICAgICAga2kgKCRUamtzLT5wc0lzSGtsSXNURWxxcygpKSB7CiAgICAgICAgICAgICRUamtzLT5wcWZFVElIa2xJc1RFbHFzKCk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgbFFmSTkgakVzIEVtIGttRmhJbEltVGttSiA4SXYsIHVJIEZFbSBwc0kgVGpJICJrbXNJaFQwSVRLZiIgbElUalFmIFFtCiAgICAgICAgKysgVGpJIFJwSWh2IGVwazlmSWgsIHVqa0ZqIHVrOTkgSmtVSSBwcyBlRUY4IFRqSSBpa21FOSBrbXNJaFRJZiBLbiBpUWggVGprcwogICAgICAgICsrIFRFZTlJIGloUWwgVGpJIGZFVEVlRXNJLiBBUVQgRTk5IFRFZTlJcyBqRVVJIFRRIGVJIGttRmhJbEltVGttSiBUalFwSmouCiAgICAgICAgJEVUVGhrZXBUSXMgPSAkVGprcy0+SklUdFRUaGtlcFRJczJRaEttc0loVCgpOwoKICAgICAgICBraSAoJFRqa3MtPkpJVEttRmhJbEltVGttSigpKSB7CiAgICAgICAgICAgICRUamtzLT5rbXNJaFR0bWZPSVRLZigkUnBJaHYsICRFVFRoa2VwVElzKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBURWU5SSBrc20nVCBrbUZoSWxJbVRrbUogdUknOTkgc2tscTl2IGttc0loVCBUaklzSSBFVFRoa2VwVElzIEVzIFRqSXYKICAgICAgICArKyBFaEkuIEhqSXNJIEVUVGhrZXBUSSBFaGhFdnMgbHBzVCBGUW1URWttIEVtICJrZiIgRlE5cGxtIHFoSVVrUXBzOXYgcTlFRklmCiAgICAgICAgKysgVGpJaEkgZXYgVGpJIGZJVUk5UXFJaCBFcyBUakkgbEVtcEU5OXYgZklUSWhsa21JZiA4SXYgaVFoIFRqSXNJIGxRZkk5cy4KICAgICAgICBJOXNJIHsKICAgICAgICAgICAga2kgKElscVR2KCRFVFRoa2VwVElzKSkgewogICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRScElodi0+a21zSWhUKCRFVFRoa2VwVElzKTsKICAgICAgICB9CgogICAgICAgICsrIGJJIHVrOTkgSlEgRWpJRWYgRW1mIHNJVCBUakkgSVZrc1RzIHFoUXFJaFR2IFRRIFRocEksIHNRIFRqRVQga1Qga3Mgc0lUIHVqSW0KICAgICAgICArKyBUakkgRmhJRVRJZiBJVUltVCBrcyBpa2hJZiwgTHBzVCBrbSBGRXNJIFRqSSBmSVVJOVFxSWggVGhrSXMgVFEgcHFmRVRJIGtUCiAgICAgICAgKysgZnBoa21KIFRqSSBJVUltVC4gSGprcyB1azk5IEU5OVF1IFRqSWwgVFEgZlEgc1EgRW1mIGhwbSBFbSBwcWZFVEkgakloSS4KICAgICAgICAkVGprcy0+SVZrc1RzID0gVGhwSTsKCiAgICAgICAgJFRqa3MtPnVFc05JRkltVDl2b2hJRVRJZiA9IFRocEk7CgogICAgICAgICRUamtzLT5pa2hJM1FmSTlnVUltVCgnRmhJRVRJZicsIGlFOXNJKTsKCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbXNJaFQgVGpJIEprVUltIEVUVGhrZXBUSXMgRW1mIHNJVCBUakkgS24gUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttc0loVHRtZk9JVEtmKHJwazlmSWggJFJwSWh2LCAkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICAka2YgPSAkUnBJaHYtPmttc0loVDBJVEtmKCRFVFRoa2VwVElzLCAkOEl2QUVsSSA9ICRUamtzLT5KSVQxSXZBRWxJKCkpOwoKICAgICAgICAkVGprcy0+c0lUdFRUaGtlcFRJKCQ4SXZBRWxJLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogbklzVGhRdiBUakkgbFFmSTlzIGlRaCBUakkgSmtVSW0gS25zLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtfEVoaEV2fGttVHxzVGhrbUogICRrZnMKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gZklzVGhRdigka2ZzKQogICAgewogICAgICAgIGtpICgka2ZzIGttc1RFbUZJUWkgZzlRUnBJbVRvUTk5SUZUa1FtKSB7CiAgICAgICAgICAgICRrZnMgPSAka2ZzLT5sUWZJOTFJdnMoKTsKICAgICAgICB9CgogICAgICAgIGtpICgka2ZzIGttc1RFbUZJUWkgckVzSW9ROTlJRlRrUW0pIHsKICAgICAgICAgICAgJGtmcyA9ICRrZnMtPkU5OSgpOwogICAgICAgIH0KCiAgICAgICAgJGtmcyA9IGtzX0VoaEV2KCRrZnMpID8gJGtmcyA6IGlwbUZfSklUX0VoSnMoKTsKCiAgICAgICAga2kgKEZRcG1UKCRrZnMpID09PSB3KSB7CiAgICAgICAgICAgIGhJVHBobSB3OwogICAgICAgIH0KCiAgICAgICAgKysgYkkgdWs5OSBFRlRwRTk5diBxcDk5IFRqSSBsUWZJOXMgaWhRbCBUakkgZkVURWVFc0kgVEVlOUkgRW1mIEZFOTkgZkk5SVRJIFFtCiAgICAgICAgKysgSUVGaiBRaSBUaklsIGttZmtVa2ZwRTk5diBzUSBUakVUIFRqSWtoIElVSW1UcyBKSVQgaWtoSWYgcWhRcUloOXYgdWtUaiBFCiAgICAgICAgKysgRlFoaElGVCBzSVQgUWkgRVRUaGtlcFRJcyBrbSBGRXNJIFRqSSBmSVVJOVFxSWhzIHVFbVRzIFRRIEZqSUY4IFRqSXNJLgogICAgICAgICQ4SXYgPSAoJGttc1RFbUZJID0gbUl1IHNURVRrRiktPkpJVDFJdkFFbEkoKTsKCiAgICAgICAgJEZRcG1UID0gdzsKCiAgICAgICAgaVFoSUVGaiAoJGttc1RFbUZJLT51akloSUttKCQ4SXYsICRrZnMpLT5KSVQoKSBFcyAkbFFmSTkpIHsKICAgICAgICAgICAga2kgKCRsUWZJOS0+Zkk5SVRJKCkpIHsKICAgICAgICAgICAgICAgICRGUXBtVC8vOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEZRcG1UOwogICAgfQoKICAgICsqKgogICAgICogbkk5SVRJIFRqSSBsUWZJOSBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTl8bXA5OQogICAgICoKICAgICAqIEBUamhRdXMgXDZRSmtGZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSTlJVEkoKQogICAgewogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsb0VGaklmb0VzVHMoKTsKCiAgICAgICAga2kgKGtzX21wOTkoJFRqa3MtPkpJVDFJdkFFbEkoKSkpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IDZRSmtGZ1ZGSXFUa1FtKCdBUSBxaGtsRWh2IDhJdiBmSWlrbUlmIFFtIGxRZkk5LicpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIGxRZkk5IGZRSXNtJ1QgSVZrc1QsIFRqSWhJIGtzIG1RVGprbUogVFEgZkk5SVRJIHNRIHVJJzk5IExwc1QgaElUcGhtCiAgICAgICAgKysga2xsSWZrRVRJOXYgRW1mIG1RVCBmUSBFbXZUamttSiBJOXNJLiBNVGpJaHVrc0ksIHVJIHVrOTkgRlFtVGttcEkgdWtUaiBFCiAgICAgICAgKysgZkk5SVRrUW0gcWhRRklzcyBRbSBUakkgbFFmSTksIGlraGttSiBUakkgcWhRcUloIElVSW1UcywgRW1mIHNRIGlRaFRqLgogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5pa2hJM1FmSTlnVUltVCgnZkk5SVRrbUonKSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgKysgU0loSSwgdUknOTkgVFFwRmogVGpJIFF1bWttSiBsUWZJOXMsIFVJaGtpdmttSiBUaklzSSBUa2xJc1RFbHFzIEpJVCBwcWZFVElmCiAgICAgICAgKysgaVFoIFRqSSBsUWZJOXMuIEhqa3MgdWs5OSBFOTlRdSBFbXYgRkVGamttSiBUUSBKSVQgZWhROEltIFFtIFRqSSBxRWhJbVRzCiAgICAgICAgKysgZXYgVGpJIFRrbElzVEVscS4gSGpJbSB1SSB1azk5IEpRIEVqSUVmIEVtZiBmSTlJVEkgVGpJIGxRZkk5IGttc1RFbUZJLgogICAgICAgICRUamtzLT5UUXBGak11bUlocygpOwoKICAgICAgICAkVGprcy0+cUloaVFobG5JOUlUSU1tM1FmSTkoKTsKCiAgICAgICAgKysgTW1GSSBUakkgbFFmSTkgakVzIGVJSW0gZkk5SVRJZiwgdUkgdWs5OSBpa2hJIFFpaSBUakkgZkk5SVRJZiBJVUltVCBzUSBUakVUCiAgICAgICAgKysgVGpJIGZJVUk5UXFJaHMgbEV2IGpRUTgga21UUSBxUXNULWZJOUlUSSBRcUloRVRrUW1zLiBiSSB1azk5IFRqSW0gaElUcGhtCiAgICAgICAgKysgRSBlUVE5SUVtIFRocEkgRXMgVGpJIGZJOUlUSSBrcyBxaElzcGxFZTl2IHNwRkZJc3NpcDkgUW0gVGpJIGZFVEVlRXNJLgogICAgICAgICRUamtzLT5pa2hJM1FmSTlnVUltVCgnZkk5SVRJZicsIGlFOXNJKTsKCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSTlJVEkgVGpJIGxRZkk5IGloUWwgVGpJIGZFVEVlRXNJIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZkk5SVRJR3BrSVQ5digpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+Zkk5SVRJKCkpOwogICAgfQoKICAgICsqKgogICAgICogbkk5SVRJIFRqSSBsUWZJOSBpaFFsIFRqSSBmRVRFZUVzSSB1a1Rqa20gRSBUaEVtc0VGVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTl8bXA5OQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZkk5SVRJTWgyRWs5KCkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbShpbSAoKSA9PiAkVGprcy0+Zkk5SVRJKCkpOwogICAgfQoKICAgICsqKgogICAgICogMlFoRkkgRSBqRWhmIGZJOUlUSSBRbSBFIHNRaVQgZkk5SVRJZiBsUWZJOS4KICAgICAqCiAgICAgKiBIamtzIGxJVGpRZiBxaFFUSUZUcyBmSVVJOVFxSWhzIGloUWwgaHBtbWttSiBpUWhGSW5JOUlUSSB1akltIFRqSSBUaEVrVCBrcyBsa3Nza21KLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpUWhGSW5JOUlUSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5mSTlJVEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIGFJaGlRaGwgVGpJIEVGVHBFOSBmSTlJVEkgUnBJaHYgUW0gVGprcyBsUWZJOSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHFJaGlRaGxuSTlJVElNbTNRZkk5KCkKICAgIHsKICAgICAgICAkVGprcy0+c0lUMUl2czJRaE9FVUlHcElodigkVGprcy0+bUl1M1FmSTlHcElodigpKS0+Zkk5SVRJKCk7CgogICAgICAgICRUamtzLT5JVmtzVHMgPSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIHJJSmttIFJwSWh2a21KIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIFJwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gKG1JdSBzVEVUa0YpLT5tSXVHcElodigpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggaVFoIFRqSSBsUWZJOSdzIFRFZTlJLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSUprc1RJaDA5UWVFOU9GUXFJcygkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggVGpFVCBmUUlzbSdUIGpFVUkgRW12IEo5UWVFOSBzRlFxSXMgUWggSUVKSWggOVFFZmttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaHxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdTNRZkk5R3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1ZzlRUnBJbVRycGs5ZkloKAogICAgICAgICAgICAkVGprcy0+bUl1ckVzSUdwSWh2cnBrOWZJaCgpCiAgICAgICAgKS0+c0lUM1FmSTkoJFRqa3MpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggdWtUaiBtUSBoSTlFVGtRbXNqa3FzIDlRRWZJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1R3BJaHZia1RqUXBUTkk5RVRrUW1zamtxcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSUprc1RJaDA5UWVFOU9GUXFJcygkVGprcy0+bUl1M1FmSTlHcElodigpKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIFRqSSBKOVFlRTkgc0ZRcUlzIGlRaCBUamtzIGVwazlmSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWggICRlcGs5ZkloCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElKa3NUSWgwOVFlRTlPRlFxSXMoJGVwazlmSWgpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVDA5UWVFOU9GUXFJcygpIEVzICRrZkltVGtpa0loID0+ICRzRlFxSSkgewogICAgICAgICAgICAkZXBrOWZJaC0+dWtUajA5UWVFOU9GUXFJKCRrZkltVGtpa0loLCAkc0ZRcUkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRlcGs5ZkloOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggVGpFVCBmUUlzbSdUIGpFVUkgRW12IEo5UWVFOSBzRlFxSXMuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWh8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodmJrVGpRcFRPRlFxSXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1M1FmSTlHcElodigpCiAgICAgICAgICAgIC0+dWtUaigkVGprcy0+dWtUaikKICAgICAgICAgICAgLT51a1Rqb1FwbVQoJFRqa3MtPnVrVGpvUXBtVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBtSXUgUnBJaHYga21zVEVtRkkgdWtUalFwVCBFIEprVUltIHNGUXFJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxPRlFxSXxzVGhrbUogICRzRlFxSQogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2YmtUalFwVE9GUXFJKCRzRlFxSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2KCktPnVrVGpRcFQwOVFlRTlPRlFxSSgkc0ZRcUkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IFRRIGhJc1RRaEkgUW1JIFFoIGxRaEkgbFFmSTlzIGV2IFRqSWtoIFJwSXBJRWU5SSBLbnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxrbVQgICRrZnMKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodjJRaE5Jc1RRaEVUa1FtKCRrZnMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5tSXVHcElodmJrVGpRcFRPRlFxSXMoKS0+dWpJaEkxSXYoJGtmcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgZzlRUnBJbVQgUnBJaHYgZXBrOWZJaCBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxHcElodlxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxycGs5ZklofHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1ZzlRUnBJbVRycGs5ZkloKCRScElodikKICAgIHsKICAgICAgICBoSVRwaG0gbUl1IHJwazlmSWgoJFJwSWh2KTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBlcGs5ZkloIGttc1RFbUZJIGlRaCBUakkgRlFtbUlGVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcR3BJaHZccnBrOWZJaAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gbUl1ckVzSUdwSWh2cnBrOWZJaCgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRvUW1tSUZUa1FtKCktPlJwSWh2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgZzlRUnBJbVQgb1E5OUlGVGtRbSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbFFmSTlzCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcb1E5OUlGVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1b1E5OUlGVGtRbShFaGhFdiAkbFFmSTlzID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIG1JdSBvUTk5SUZUa1FtKCRsUWZJOXMpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IHFrVVFUIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOSAgJHFFaEltVAogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVEVlOUkKICAgICAqIEBxRWhFbCAgZVFROSAgJElWa3NUcwogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJHBza21KCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcTkk5RVRrUW1zXGFrVVFUCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVha1VRVChzSTlpICRxRWhJbVQsIEVoaEV2ICRFVFRoa2VwVElzLCAkVEVlOUksICRJVmtzVHMsICRwc2ttSiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRwc2ttSiA/ICRwc2ttSjo6aWhRbE5FdXRUVGhrZXBUSXMoJHFFaEltVCwgJEVUVGhrZXBUSXMsICRURWU5SSwgJElWa3NUcykKICAgICAgICAgICAgOiBha1VRVDo6aWhRbHRUVGhrZXBUSXMoJHFFaEltVCwgJEVUVGhrZXBUSXMsICRURWU5SSwgJElWa3NUcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIGxRZkk5IGpFcyBFIEprVUltIHNGUXFJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkc0ZRcUkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzQUVsSWZPRlFxSSgkc0ZRcUkpCiAgICB7CiAgICAgICAgaElUcGhtIGxJVGpRZl9JVmtzVHMoJFRqa3MsICdzRlFxSScucEZpa2hzVCgkc0ZRcUkpKTsKICAgIH0KCiAgICArKioKICAgICAqIHRxcTl2IFRqSSBKa1VJbSBtRWxJZiBzRlFxSSBraSBxUXNza2U5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRkU5OUFFbElmT0ZRcUkoJHNGUXFJLCBFaGhFdiAkcUVoRWxJVElocyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+eydzRlFxSScucEZpa2hzVCgkc0ZRcUkpfSguLi4kcUVoRWxJVElocyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1VSWhUIFRqSSBsUWZJOSBrbXNURW1GSSBUUSBFbSBFaGhFdi4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBUUXRoaEV2KCkKICAgIHsKICAgICAgICBoSVRwaG0gRWhoRXZfbEloSkkoJFRqa3MtPkVUVGhrZXBUSXNIUXRoaEV2KCksICRUamtzLT5oSTlFVGtRbXNIUXRoaEV2KCkpOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBUakkgbFFmSTkga21zVEVtRkkgVFEgRE9NQS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGttVCAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXERzUW1nbUZRZmttSmdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVFFEc1FtKCRRcVRrUW1zID0gdykKICAgIHsKICAgICAgICAkTHNRbSA9IExzUW1fSW1GUWZJKCRUamtzLT5Mc1FtT0loa0U5a1dJKCksICRRcVRrUW1zKTsKCiAgICAgICAga2kgKExzUW1fOUVzVF9JaGhRaCgpICE9PSBET01BX2dOTk1OX0FNQWcpIHsKICAgICAgICAgICAgVGpoUXUgRHNRbWdtRlFma21KZ1ZGSXFUa1FtOjppUWgzUWZJOSgkVGprcywgTHNRbV85RXNUX0loaFFoX2xzSigpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkTHNRbTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgVGpJIFFlTElGVCBrbVRRIHNRbElUamttSiBET01BIHNJaGtFOWtXRWU5SS4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBMc1FtT0loa0U5a1dJKCk6IGxrVklmCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXRoaEV2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSTlRRWYgRSBpaElzaiBsUWZJOSBrbXNURW1GSSBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJHVrVGoKICAgICAqIEBoSVRwaG0gc1RFVGtGfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloSXNqKCR1a1RqID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnNJVDFJdnMyUWhPSTlJRlRHcElodigkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkpCiAgICAgICAgICAgIC0+cHNJYmhrVElhZlEoKQogICAgICAgICAgICAtPnVrVGooa3Nfc1Roa21KKCR1a1RqKSA/IGlwbUZfSklUX0VoSnMoKSA6ICR1a1RqKQogICAgICAgICAgICAtPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSTlRRWYgVGpJIEZwaGhJbVQgbFFmSTkga21zVEVtRkkgdWtUaiBpaElzaiBFVFRoa2VwVElzIGloUWwgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJaWhJc2ooKQogICAgewogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnNJVE5FdXRUVGhrZXBUSXMoCiAgICAgICAgICAgICRUamtzLT5zSVQxSXZzMlFoT0k5SUZUR3BJaHYoJFRqa3MtPm1JdUdwSWh2YmtUalFwVE9GUXFJcygpKQogICAgICAgICAgICAgICAgLT5wc0liaGtUSWFmUSgpCiAgICAgICAgICAgICAgICAtPmlraHNUTWgyRWs5KCkKICAgICAgICAgICAgICAgIC0+RVRUaGtlcFRJcwogICAgICAgICk7CgogICAgICAgICRUamtzLT45UUVmKEZROTlJRlQoJFRqa3MtPmhJOUVUa1FtcyktPmhJTElGVChpcG1GVGtRbSAoJGhJOUVUa1FtKSB7CiAgICAgICAgICAgIGhJVHBobSAkaEk5RVRrUW0ga21zVEVtRklRaSBha1VRVAogICAgICAgICAgICAgICAgfHwgKGtzX1FlTElGVCgkaEk5RVRrUW0pICYmIGttX0VoaEV2KHRzYWtVUVQ6OkY5RXNzLCBGOUVzc19wc0lzX2hJRnBoc2tVSSgkaEk5RVRrUW0pLCBUaHBJKSk7CiAgICAgICAgfSktPjhJdnMoKS0+RTk5KCkpOwoKICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5KCk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBsUWZJOSBrbVRRIEUgbUl1LCBtUW0tSVZrc1RrbUoga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxtcDk5ICAkSVZGSXFUCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElxOWtGRVRJKEVoaEV2ICRJVkZJcVQgPSBtcDk5KQogICAgewogICAgICAgICRmSWlFcDlUcyA9IEVoaEV2X1VFOXBJcyhFaGhFdl9pazlUSWgoWwogICAgICAgICAgICAkVGprcy0+SklUMUl2QUVsSSgpLAogICAgICAgICAgICAkVGprcy0+SklUb2hJRVRJZnRUb1E5cGxtKCksCiAgICAgICAgICAgICRUamtzLT5KSVRQcWZFVElmdFRvUTlwbG0oKSwKICAgICAgICAgICAgLi4uJFRqa3MtPnBta1JwSUtmcygpLAogICAgICAgIF0pKTsKCiAgICAgICAgJEVUVGhrZXBUSXMgPSB0aGg6OklWRklxVCgKICAgICAgICAgICAgJFRqa3MtPkpJVHRUVGhrZXBUSXMoKSwgJElWRklxVCA/IEVoaEV2X3Bta1JwSShFaGhFdl9sSWhKSSgkSVZGSXFULCAkZklpRXA5VHMpKSA6ICRmSWlFcDlUcwogICAgICAgICk7CgogICAgICAgIGhJVHBobSBURXEobUl1IHNURVRrRiwgaXBtRlRrUW0gKCRrbXNURW1GSSkgcHNJICgkRVRUaGtlcFRJcykgewogICAgICAgICAgICAka21zVEVtRkktPnNJVE5FdXRUVGhrZXBUSXMoJEVUVGhrZXBUSXMpOwoKICAgICAgICAgICAgJGttc1RFbUZJLT5zSVROSTlFVGtRbXMoJFRqa3MtPmhJOUVUa1Ftcyk7CgogICAgICAgICAgICAka21zVEVtRkktPmlraEkzUWZJOWdVSW1UKCdoSXE5a0ZFVGttSicsIGlFOXNJKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBsUWZJOSBrbVRRIEUgbUl1LCBtUW0tSVZrc1RrbUoga21zVEVtRkkgdWtUalFwVCBoRWtza21KIEVtdiBJVUltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxtcDk5ICAkSVZGSXFUCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElxOWtGRVRJR3BrSVQ5dihFaGhFdiAkSVZGSXFUID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjp1a1RqUXBUZ1VJbVRzKGltICgpID0+ICRUamtzLT5oSXE5a0ZFVEkoJElWRklxVCkpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFR1USBsUWZJOXMgakVVSSBUakkgc0VsSSBLbiBFbWYgZUk5UW1KIFRRIFRqSSBzRWxJIFRFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxtcDk5ICAkbFFmSTkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3MoJGxRZkk5KQogICAgewogICAgICAgIGhJVHBobSAhIGtzX21wOTkoJGxRZkk5KSAmJgogICAgICAgICAgICAkVGprcy0+SklUMUl2KCkgPT09ICRsUWZJOS0+SklUMUl2KCkgJiYKICAgICAgICAgICAgJFRqa3MtPkpJVEhFZTlJKCkgPT09ICRsUWZJOS0+SklUSEVlOUkoKSAmJgogICAgICAgICAgICAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSA9PT0gJGxRZkk5LT5KSVRvUW1tSUZUa1FtQUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFR1USBsUWZJOXMgRWhJIG1RVCBUakkgc0VsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8bXA5OSAgJGxRZkk5CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtzQVFUKCRsUWZJOSkKICAgIHsKICAgICAgICBoSVRwaG0gISAkVGprcy0+a3MoJGxRZkk5KTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZkVURWVFc0kgRlFtbUlGVGtRbSBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxvUW1tSUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvUW1tSUZUa1FtKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpoSXNROVVJb1FtbUlGVGtRbSgkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEZwaGhJbVQgRlFtbUlGVGtRbSBtRWxJIGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUp8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FtbUlGVGtRbUFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RlFtbUlGVGtRbTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRlFtbUlGVGtRbSBFc3NRRmtFVElmIHVrVGogVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRtRWxJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRvUW1tSUZUa1FtKCRtRWxJKQogICAgewogICAgICAgICRUamtzLT5GUW1tSUZUa1FtID0gJG1FbEk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE5Jc1E5VUkgRSBGUW1tSUZUa1FtIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUW1tSUZUa1FtCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcb1FtbUlGVGtRbQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGhJc1E5VUlvUW1tSUZUa1FtKCRGUW1tSUZUa1FtID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokaElzUTlVSWgtPkZRbW1JRlRrUW0oJEZRbW1JRlRrUW0pOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxvUW1tSUZUa1FtTklzUTlVSWhLbVRJaGlFRkl8bXA5OQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEpJVG9RbW1JRlRrUW1OSXNROVVJaCgpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGhJc1E5VUloOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxvUW1tSUZUa1FtTklzUTlVSWhLbVRJaGlFRkkgICRoSXNROVVJaAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gc0lUb1FtbUlGVGtRbU5Jc1E5VUloKE5Jc1E5VUloICRoSXNROVVJaCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRoSXNROVVJaCA9ICRoSXNROVVJaDsKICAgIH0KCiAgICArKioKICAgICAqIFBtc0lUIFRqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGlRaCBsUWZJOXMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcG1zSVRvUW1tSUZUa1FtTklzUTlVSWgoKQogICAgewogICAgICAgIHNURVRrRjo6JGhJc1E5VUloID0gbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVEVlOUkgRXNzUUZrRVRJZiB1a1RqIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUSEVlOUkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+VEVlOUkgPz8gT1RoOjpzbUU4SShPVGg6OnE5cGhFOU9UcGY5dihGOUVzc19lRXNJbUVsSSgkVGprcykpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVEVlOUkgRXNzUUZrRVRJZiB1a1RqIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFRFZTlJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRIRWU5SSgkVEVlOUkpCiAgICB7CiAgICAgICAgJFRqa3MtPlRFZTlJID0gJFRFZTlJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHFoa2xFaHYgOEl2IGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdkFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWhrbEVodjFJdjsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgcWhrbEVodiA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUMUl2QUVsSSgkOEl2KQogICAgewogICAgICAgICRUamtzLT5xaGtsRWh2MUl2ID0gJDhJdjsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBURWU5SSBScEU5a2lrSWYgOEl2IG1FbEkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwRTlraWtJZjFJdkFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UnBFOWtpdm9ROXBsbSgkVGprcy0+SklUMUl2QUVsSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRXBUUS1rbUZoSWxJbVRrbUogOEl2IFR2cUkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdkh2cUkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OEl2SHZxSTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgZkVURSBUdnFJIGlRaCBUakkgcWhrbEVodiA4SXYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRUdnFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVQxSXZIdnFJKCRUdnFJKQogICAgewogICAgICAgICRUamtzLT44SXZIdnFJID0gJFR2cUk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkga21ma0ZFVGttSiB1aklUakloIFRqSSBLbnMgRWhJIGttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEttRmhJbEltVGttSigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5rbUZoSWxJbVRrbUo7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgdWpJVGpJaCBLbnMgRWhJIGttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUS21GaElsSW1Ua21KKCRVRTlwSSkKICAgIHsKICAgICAgICAkVGprcy0+a21GaElsSW1Ua21KID0gJFVFOXBJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFVFOXBJIFFpIFRqSSBsUWZJOSdzIHFoa2xFaHYgOEl2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVEkoJFRqa3MtPkpJVDFJdkFFbEkoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFJwSXBJRWU5SSBrZkltVGtUdiBpUWggVGpJIEltVGtUdi4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRHcElwSUVlOUlLZigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgUnBJcElFZTlJIGhJOUVUa1Ftc2prcXMgaVFoIFRqSSBJbVRrVHYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUR3BJcElFZTlJTkk5RVRrUW1zKCkKICAgIHsKICAgICAgICAkaEk5RVRrUW1zID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVROSTlFVGtRbXMoKSBFcyAkOEl2ID0+ICRoSTlFVGtRbSkgewogICAgICAgICAgICBraSAoISBsSVRqUWZfSVZrc1RzKCRUamtzLCAkOEl2KSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRoSTlFVGtRbXNbXSA9ICQ4SXY7CgogICAgICAgICAgICBraSAoJGhJOUVUa1FtIGttc1RFbUZJUWkgR3BJcElFZTlJb1E5OUlGVGtRbSkgewogICAgICAgICAgICAgICAgaVFoSUVGaiAoJGhJOUVUa1FtLT5KSVRHcElwSUVlOUlOSTlFVGtRbXMoKSBFcyAkRlE5OUlGVGtRbUJFOXBJKSB7CiAgICAgICAgICAgICAgICAgICAgJGhJOUVUa1Ftc1tdID0gJDhJdi4nLicuJEZROTlJRlRrUW1CRTlwSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKCRoSTlFVGtRbSBrbXNURW1GSVFpIEdwSXBJRWU5SWdtVGtUdikgewogICAgICAgICAgICAgICAgaVFoSUVGaiAoJGhJOUVUa1FtLT5KSVRHcElwSUVlOUlOSTlFVGtRbXMoKSBFcyAkSW1Ua1R2QkU5cEkpIHsKICAgICAgICAgICAgICAgICAgICAkaEk5RVRrUW1zW10gPSAkOEl2LicuJy4kSW1Ua1R2QkU5cEk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSBFaGhFdl9wbWtScEkoJGhJOUVUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFJwSXBJRWU5SSBGUW1tSUZUa1FtIGlRaCBUakkgSW1Ua1R2LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwSXBJRWU5SW9RbW1JRlRrUW0oKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgUWkgVGpJIGxRZkk5J3MgaFFwVEkgOEl2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5RcFRJMUl2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSSgkVGprcy0+SklUTlFwVEkxSXZBRWxJKCkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBoUXBUSSA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTlFwVEkxSXZBRWxJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVDFJdkFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBsUWZJOSBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpa0k5ZgogICAgICogQGhJVHBobSBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlOUXBUSXJrbWZrbUooJFVFOXBJLCAkaWtJOWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRUamtzLCAkVUU5cEksICRpa0k5ZiktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXNROVVJT1FpVG5JOUlURWU5SU5RcFRJcmttZmttSigkVUU5cEksICRpa0k5ZiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSXNROVVJTlFwVElya21ma21KR3BJaHYoJFRqa3MsICRVRTlwSSwgJGlrSTlmKS0+dWtUakhoRXNqSWYoKS0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBGams5ZiBsUWZJOSBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZqazlmSHZxSQogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFwzUWZJOXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXNROVVJb2prOWZOUXBUSXJrbWZrbUooJEZqazlmSHZxSSwgJFVFOXBJLCAkaWtJOWYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSXNROVVJb2prOWZOUXBUSXJrbWZrbUpHcElodigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZiktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgRmprOWYgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGams5Zkh2cUkKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcM1FmSTl8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElzUTlVSU9RaVRuSTlJVEVlOUlvams5Zk5RcFRJcmttZmttSigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlvams5Zk5RcFRJcmttZmttSkdwSWh2KCRGams5Zkh2cUksICRVRTlwSSwgJGlrSTlmKS0+dWtUakhoRXNqSWYoKS0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBGams5ZiBsUWZJOSBScElodiBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZqazlmSHZxSQogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRvTU5nXG5FVEVlRXNJb1FoSVxnOVFScEltVFxOSTlFVGtRbXNcTkk5RVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhJc1E5VUlvams5Zk5RcFRJcmttZmttSkdwSWh2KCRGams5Zkh2cUksICRVRTlwSSwgJGlrSTlmKQogICAgewogICAgICAgICRoSTlFVGtRbXNqa3EgPSAkVGprcy0+eyRUamtzLT5Gams5Zk5RcFRJcmttZmttSk5JOUVUa1Ftc2prcUFFbEkoJEZqazlmSHZxSSl9KCk7CgogICAgICAgICRpa0k5ZiA9ICRpa0k5ZiA/OiAkaEk5RVRrUW1zamtxLT5KSVROSTlFVElmKCktPkpJVE5RcFRJMUl2QUVsSSgpOwoKICAgICAgICBraSAoJGhJOUVUa1Ftc2prcSBrbXNURW1GSVFpIFNFczNFbXZIamhRcEpqIHx8CiAgICAgICAgICAgICRoSTlFVGtRbXNqa3Ega21zVEVtRklRaSBySTlRbUpzSFEzRW12KSB7CiAgICAgICAgICAgICRpa0k5ZiA9ICRoSTlFVGtRbXNqa3EtPkpJVE5JOUVUSWYoKS0+SklUSEVlOUkoKS4nLicuJGlrSTlmOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSTlFVGtRbXNqa3Ega21zVEVtRklRaSAzUWZJOQogICAgICAgICAgICA/ICRoSTlFVGtRbXNqa3EtPmhJc1E5VUlOUXBUSXJrbWZrbUpHcElodigkaEk5RVRrUW1zamtxLCAkVUU5cEksICRpa0k5ZikKICAgICAgICAgICAgOiAkaEk5RVRrUW1zamtxLT5KSVROSTlFVElmKCktPmhJc1E5VUlOUXBUSXJrbWZrbUpHcElodigkaEk5RVRrUW1zamtxLCAkVUU5cEksICRpa0k5Zik7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgRmprOWYgaFFwVEkgbFFmSTkgZWttZmttSiBoSTlFVGtRbXNqa3EgbUVsSSBpUWggVGpJIEprVUltIEZqazlmIFR2cUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGams5Zkh2cUkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGams5Zk5RcFRJcmttZmttSk5JOUVUa1Ftc2prcUFFbEkoJEZqazlmSHZxSSkKICAgIHsKICAgICAgICBoSVRwaG0gT1RoOjpxOXBoRTkoT1RoOjpGRWxJOSgkRmprOWZIdnFJKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdG9NTmdcbkVURWVFc0lvUWhJXGc5UVJwSW1UXDNRZkk5fFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtICAkUnBJaHYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0b01OZ1xuRVRFZUVzSW9RaElcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXNROVVJTlFwVElya21ma21KR3BJaHYoJFJwSWh2LCAkVUU5cEksICRpa0k5ZiA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRScElodi0+dWpJaEkoJGlrSTlmID8/ICRUamtzLT5KSVROUXBUSTFJdkFFbEkoKSwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZklpRXA5VCBpUWhJa0ptIDhJdiBtRWxJIGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDJRaElrSm0xSXYoKQogICAgewogICAgICAgIGhJVHBobSBPVGg6OnNtRThJKEY5RXNzX2VFc0ltRWxJKCRUamtzKSkuJ18nLiRUamtzLT5KSVQxSXZBRWxJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIG1wbGVJaCBRaSBsUWZJOXMgVFEgaElUcGhtIHFJaCBxRUpJLgogICAgICoKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRhSWhhRUpJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFJaGFFSkk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIG1wbGVJaCBRaSBsUWZJOXMgVFEgaElUcGhtIHFJaCBxRUpJLgogICAgICoKICAgICAqIEBxRWhFbCAga21UICAkcUloYUVKSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUYUloYUVKSSgkcUloYUVKSSkKICAgIHsKICAgICAgICAkVGprcy0+cUloYUVKSSA9ICRxSWhhRUpJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgOUVXdiA5UUVma21KIGtzIGZrc0VlOUlmLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHFoSVVJbVRzNkVXdjZRRWZrbUooKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRsUWZJOXNPalFwOWZhaElVSW1UNkVXdjZRRWZrbUo7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgZmtzRkVoZmttSiBKcEVoZklmIEVUVGhrZXBUSSBpazk5cyBrcyBma3NFZTlJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBxaElVSW1Uc09rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMoKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRsUWZJOXNPalFwOWZhaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFRkZJc3NrbUogbGtzc2ttSiBFVFRoa2VwVElzIGtzIGZrc0VlOUlmLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHFoSVVJbVRzdEZGSXNza21KM2tzc2ttSnRUVGhrZXBUSXMoKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRsUWZJOXNPalFwOWZhaElVSW1UdEZGSXNza21KM2tzc2ttSnRUVGhrZXBUSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGVoUUVmRkVzVCBGakVtbUk5IGhRcFRJIGZJaWtta1RrUW0gVGpFVCBrcyBFc3NRRmtFVElmIHVrVGogVGpJIEprVUltIEltVGtUdi4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZWhRRWZGRXNUb2pFbW1JOU5RcFRJKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RoX2hJcTlFRkkoJ1xcJywgJy4nLCBKSVRfRjlFc3MoJFRqa3MpKS4nLnsnLk9UaDo6RkVsSTkoRjlFc3NfZUVzSW1FbEkoJFRqa3MpKS4nfSc7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGVoUUVmRkVzVCBGakVtbUk5IG1FbEkgVGpFVCBrcyBFc3NRRmtFVElmIHVrVGogVGpJIEprVUltIEltVGtUdi4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZWhRRWZGRXNUb2pFbW1JOSgpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9oSXE5RUZJKCdcXCcsICcuJywgSklUX0Y5RXNzKCRUamtzKSkuJy4nLiRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIG52bUVsa0ZFOTl2IGhJVGhrSVVJIEVUVGhrZXBUSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0pJVCgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUdFRUaGtlcFRJKCQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogbnZtRWxrRkU5OXYgc0lUIEVUVGhrZXBUSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19zSVQoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgICRUamtzLT5zSVR0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgSmtVSW0gRVRUaGtlcFRJIElWa3NUcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUWlpc0lUCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFpaXNJVGdWa3NUcygkUWlpc0lUKTogZVFROQogICAgewogICAgICAgIFRodiB7CiAgICAgICAgICAgIGhJVHBobSAhIGtzX21wOTkoJFRqa3MtPkpJVHRUVGhrZXBUSSgkUWlpc0lUKSk7CiAgICAgICAgfSBGRVRGaiAoM2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBVRTlwSSBpUWggRSBKa1VJbSBRaWlzSVQuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFFpaXNJVAogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWlpc0lUMElUKCRRaWlzSVQpOiBsa1ZJZgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUdFRUaGtlcFRJKCRRaWlzSVQpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBVRTlwSSBpUWggRSBKa1VJbSBRaWlzSVQuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFFpaXNJVAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFpaXNJVE9JVCgkUWlpc0lULCAkVUU5cEkpOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPnNJVHRUVGhrZXBUSSgkUWlpc0lULCAkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogUG1zSVQgVGpJIFVFOXBJIGlRaCBFIEprVUltIFFpaXNJVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUWlpc0lUCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFpaXNJVFBtc0lUKCRRaWlzSVQpOiBVUWtmCiAgICB7CiAgICAgICAgcG1zSVQoJFRqa3MtPkVUVGhrZXBUSXNbJFFpaXNJVF0sICRUamtzLT5oSTlFVGtRbXNbJFFpaXNJVF0pOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIEVtIEVUVGhrZXBUSSBRaCBoSTlFVGtRbSBJVmtzVHMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fa3NzSVQoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlFpaXNJVGdWa3NUcygkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIFBtc0lUIEVtIEVUVGhrZXBUSSBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19wbXNJVCgkOEl2KQogICAgewogICAgICAgICRUamtzLT5RaWlzSVRQbXNJVCgkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIFNFbWY5SSBmdm1FbGtGIGxJVGpRZiBGRTk5cyBrbVRRIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fRkU5OSgkbElUalFmLCAkcUVoRWxJVElocykKICAgIHsKICAgICAgICBraSAoa21fRWhoRXYoJGxJVGpRZiwgWydrbUZoSWxJbVQnLCAnZklGaElsSW1UJywgJ2ttRmhJbEltVEdwa0lUOXYnLCAnZklGaElsSW1UR3BrSVQ5diddKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPiRsSVRqUWYoLi4uJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAga2kgKCRoSXNROVVJaCA9ICRUamtzLT5oSTlFVGtRbU5Jc1E5VUloKHNURVRrRjo6RjlFc3MsICRsSVRqUWYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkaElzUTlVSWgoJFRqa3MpOwogICAgICAgIH0KCiAgICAgICAga2kgKE9UaDo6c1RFaFRzYmtUaigkbElUalFmLCAnVGpoUXBKaicpICYmCiAgICAgICAgICAgIGxJVGpRZl9JVmtzVHMoJFRqa3MsICRoSTlFVGtRbTNJVGpRZiA9IE9UaDo6UWkoJGxJVGpRZiktPkVpVEloKCdUamhRcEpqJyktPjlGaWtoc1QoKS0+VFFPVGhrbUooKSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UamhRcEpqKCRoSTlFVGtRbTNJVGpRZik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlRaHVFaGZvRTk5SFEoJFRqa3MtPm1JdUdwSWh2KCksICRsSVRqUWYsICRxRWhFbElUSWhzKTsKICAgIH0KCiAgICArKioKICAgICAqIFNFbWY5SSBmdm1FbGtGIHNURVRrRiBsSVRqUWYgRkU5OXMga21UUSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gX19GRTk5T1RFVGtGKCRsSVRqUWYsICRxRWhFbElUSWhzKQogICAgewogICAgICAgIGhJVHBobSAobUl1IHNURVRrRiktPiRsSVRqUWYoLi4uJHFFaEVsSVRJaHMpOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBUakkgbFFmSTkgVFEga1RzIHNUaGttSiBoSXFoSXNJbVRFVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19UUU9UaGttSigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5Jc0ZFcUliakltb0VzVGttSkhRT1Roa21KCiAgICAgICAgICAgID8gSSgkVGprcy0+VFFEc1FtKCkpCiAgICAgICAgICAgIDogJFRqa3MtPlRRRHNRbSgpOwogICAgfQoKICAgICsqKgogICAgICogS21ma0ZFVEkgVGpFVCBUakkgUWVMSUZUJ3Mgc1Roa21KIGhJcWhJc0ltVEVUa1FtIHNqUXA5ZiBlSSBJc0ZFcUlmIHVqSW0gX19UUU9UaGttSiBrcyBrbVVROElmLgogICAgICoKICAgICAqIEBxRWhFbCAgZVFROSAgJElzRkVxSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSXNGRXFJYmpJbW9Fc1RrbUpIUU9UaGttSigkSXNGRXFJID0gVGhwSSkKICAgIHsKICAgICAgICAkVGprcy0+SXNGRXFJYmpJbW9Fc1RrbUpIUU9UaGttSiA9ICRJc0ZFcUk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGFoSXFFaEkgVGpJIFFlTElGVCBpUWggc0loa0U5a1dFVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX3M5SUlxKCkKICAgIHsKICAgICAgICAkVGprcy0+bEloSkl0VFRoa2VwVElzMmhRbG9FRmpJZm9Fc1RzKCk7CgogICAgICAgICRUamtzLT5GOUVzc29Fc1RvRUZqSSA9IFtdOwogICAgICAgICRUamtzLT5FVFRoa2VwVElvRXNUb0VGakkgPSBbXTsKCiAgICAgICAgaElUcGhtIEVoaEV2XzhJdnMoSklUX1FlTElGVF9VRWhzKCRUamtzKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBiakltIEUgbFFmSTkga3MgZUlrbUogcG1zSWhrRTlrV0lmLCBGaklGOCBraSBrVCBtSUlmcyBUUSBlSSBlUVFUSWYuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX3VFOElwcSgpCiAgICB7CiAgICAgICAgJFRqa3MtPmVRUVRLaUFRVHJRUVRJZigpOwoKICAgICAgICAkVGprcy0+a21rVGtFOWtXSUhoRWtUcygpOwogICAgfQp9Cg==