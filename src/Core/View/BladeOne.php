<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IHgudyAKICogbkVUSSB3NS13eC14d3haCiAqIMSQw6J2IDnDoCBUw6BrIHPhuqNtIEbhu6dFIG/DlEEwIEhjIEhBU1MgSDMgbkIgQUtBdC4gQnBrIDnDsm1KIDhqw7RtSiBz4butIGbhu6VtSiA4amsgRmrGsEUgxJHGsOG7o0YgcWrDqXEuCiAqKwogbUVsSXNxRUZJIEFLQXRvTU5nXG9RaElcQmtJdTsKcHNJIHRoaEV2dEZGSXNzOwpwc0kgckVmM0lUalFmb0U5OWdWRklxVGtRbTsKcHNJIG85UXNwaEk7CnBzSSBvUXBtVEVlOUk7CnBzSSBnVkZJcVRrUW07CnBzSSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW07CkY5RXNzIHI5RWZJTW1JCnsKICAgIHFwZTlrRiBGUW1zVCBCZ05PS01BID0gJ3kuWFknOwogICAgcXBlOWtGIEZRbXNUIDNNbmdfdFBITSA9IHc7CiAgICBxcGU5a0YgRlFtc1QgM01uZ19PNk1iID0gWDsKICAgIHFwZTlrRiBGUW1zVCAzTW5nXzJ0T0ggPSB4OwogICAgcXBlOWtGIEZRbXNUIDNNbmdfbmdyUDAgPSBaOwogICAgcXBlOWtGIHNURVRrRiBFaGhFdiAkZmtGVGtRbUVodiA9IFtdOwogICAgcXBlOWtGIHNUaGttSiAkcWpxSEVKID0gJzw/cWpxICc7CiAgICBxaFFUSUZUSWYgc1Roa21KICRxanFIRUpnRmpRID0gJzw/cWpxJyAuICcgSUZqUSAnOwogICAgcXBlOWtGID9zVGhrbUogJEZwaGhJbVRQc0loOwogICAgcXBlOWtGID9zVGhrbUogJEZwaGhJbVROUTlJOwogICAgcXBlOWtGID9FaGhFdiAkRnBoaEltVGFJaGxrc3NrUW0gPSBbXTsKICAgIHFwZTlrRiAkRXBUam9FOTlyRUY4OwogICAgcXBlOWtGICRFcFRqdG12b0U5OXJFRjg7CiAgICBxcGU5a0YgJEloaFFob0U5OXJFRjg7CiAgICBxcGU5a0YgZVFROSAkVGpoUXVNbWdoaFFoID0gaUU5c0k7CiAgICBxcGU5a0Ygc1Roa21KICRGc2hpX1RROEltID0gJyc7CiAgICBxcGU5a0Ygc1Roa21KICRsa3Nza21KNlFKID0gJyc7CiAgICBxcGU5a0YgZVFROSAkcWtxSWdtRWU5SSA9IGlFOXNJOwogICAgcXBlOWtGIEVoaEV2ICRFOWtFc285RXNzSXMgPSBbXTsKICAgIHFoUVRJRlRJZiBFaGhFdiAkamtJaEVoRnYgPSBbXTsKICAgIHFoUVRJRlRJZiBFaGhFdiAkbElUalFmcyA9IFtdOwogICAgcWhRVElGVElmIEVoaEV2ICRGUW1UaFE5T1RFRjg9W1snbUVsSSc9PicnLCdFaEpzJz0+W10sJ3FFaEltVCc9PnddXTsKICAgIHFoUVRJRlRJZiBrbVQgJEZRbVRoUTlPVEVGOGFFaEltVD13OwogICAgcXBlOWtGIGVRUTkgJGttRjlwZklPRlFxSSA9IGlFOXNJOwogICAgcXBlOWtGIEVoaEV2ICRGUWxxazlJb0U5OWVFRjhzID0gW107CiAgICBxaFFUSUZUSWYgRWhoRXYgJElWVEltc2tRbXMgPSBbXTsKICAgIHFoUVRJRlRJZiBFaGhFdiAkc0lGVGtRbXMgPSBbXTsKICAgIHFoUVRJRlRJZiBzVGhrbUogJGlrOUlBRWxJOwogICAgcWhRVElGVElmIHNUaGttSiAkRnBoaEltVEJrSXU7CiAgICBxaFFUSUZUSWYgc1Roa21KICRtUVQyUXBtZmFFVGo7CiAgICArKiogQFVFaCBzVGhrbUogMms5SSBJVlRJbXNrUW0gaVFoIFRqSSBUSWxxOUVUSSBpazlJcy4gKisKICAgIHFoUVRJRlRJZiBzVGhrbUogJGlrOUlnVlRJbXNrUW0gPSAnLmU5RWZJLnFqcSc7CiAgICArKiogQFVFaCBFaGhFdiBIakkgc1RFRjggUWkga20tcWhRSmhJc3Mgc0lGVGtRbXMuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJHNJRlRrUW1PVEVGOCA9IFtdOwogICAgKyoqIEBVRWggRWhoRXYgSGpJIHNURUY4IFFpIGttLXFoUUpoSXNzIDlRUXFzLiAqKwogICAgcWhRVElGVElmIEVoaEV2ICQ5UVFxc09URUY4ID0gW107CiAgICArKiogQFVFaCBFaGhFdiBua0ZUa1FtRWh2IFFpIFVFaGtFZTlJcyAqKwogICAgcWhRVElGVElmIEVoaEV2ICRVRWhrRWU5SXMgPSBbXTsKICAgICsqKiBAVUVoIEVoaEV2IG5rRlRrUW1FaHYgUWkgSjlRZUU5IFVFaGtFZTlJcyAqKwogICAgcWhRVElGVElmIEVoaEV2ICRVRWhrRWU5SXMwOVFlRTkgPSBbXTsKICAgICsqKiBAVUVoIEVoaEV2IHQ5OSBUakkgRVVFazlFZTlJIEZRbHFrOUloIGlwbUZUa1Ftcy4gKisKICAgIHFoUVRJRlRJZiBFaGhFdiAkRlFscWs5SWhzID0gWwogICAgICAgICdnVlRJbXNrUW1zJywKICAgICAgICAnT1RFVElsSW1UcycsCiAgICAgICAgJ29RbGxJbVRzJywKICAgICAgICAnZ0ZqUXMnLAogICAgXTsKICAgICsqKiBAVUVoIHNUaGttSnxtcDk5IGtUIEU5OVF1cyBUUSBzSVQgVGpJIHNURUY4ICorCiAgICBxaFFUSUZUSWYgP3NUaGttSiAkVWtJdU9URUY4OwogICAgKyoqIEBVRWggRWhoRXYgcHNJZiBldiAkVGprcy0+RlFscVFzSWgoKSAqKwogICAgcWhRVElGVElmIEVoaEV2ICRGUWxxUXNJaE9URUY4ID0gW107CiAgICArKiogQFVFaCBFaGhFdiBIakkgc1RFRjggUWkga20tcWhRSmhJc3MgcXBzaiBzSUZUa1Ftcy4gKisKICAgIHFoUVRJRlRJZiBFaGhFdiAkcXBzak9URUY4ID0gW107CiAgICArKiogQFVFaCBFaGhFdiB0OTkgVGpJIGlrbWtzaklmLCBGRXFUcGhJZiBxcHNqIHNJRlRrUW1zLiAqKwogICAgcWhRVElGVElmIEVoaEV2ICRxcHNqSXMgPSBbXTsKICAgICsqKiBAVUVoIGttVCBIakkgbXBsZUloIFFpIEVGVGtVSSBoSW1mSWhrbUogUXFJaEVUa1Ftcy4gKisKICAgIHFoUVRJRlRJZiBrbVQgJGhJbWZJaG9RcG1UID0gdzsKICAgICsqKiBAVUVoIHNUaGttSltdIDBJVCBUakkgVElscTlFVEkgcUVUaiBpUWggVGpJIEZRbHFrOUlmIFVrSXVzLiAqKwogICAgcXBlOWtGIEVoaEV2ICRUSWxxOUVUSWFFVGo7CiAgICArKiogQFVFaCBzVGhrbUp8bXA5OSAwSVQgVGpJIEZRbHFrOUlmIHFFVGogaVFoIFRqSSBGUWxxazlJZiBVa0l1cy4gS2kgbXA5OSBUakltIGtUIHBzSXMgVGpJIGZJaUVwOVQgcUVUaiAqKwogICAgcXBlOWtGID9zVGhrbUogJEZRbHFrOUlmYUVUajsKICAgICsqKiBAVUVoIHNUaGttSiBUakkgSVZUSW1za1FtIFFpIFRqSSBGUWxxazlJZiBpazlJLiAqKwogICAgcWhRVElGVElmIHNUaGttSiAkRlFscWs5SWdWVEltc2tRbSA9ICcuZTlFZklGJzsKICAgICsqKgogICAgICogQFVFaCBzVGhrbUo9WydFcFRRJywnc2pFWCcsJ2xmWiddWyRrXSBLVCBmSVRJaGxrbUlzIGpRdSBUakkgRlFscWs5SWYgaWs5SW1FbEkgdWs5OSBlSSBGRTk5SWYuPGVoPgogICAgICogICAgICAgICAgICAqKkVwVFEqKiAoZklpRXA5VCBsUWZJKSBUakkgbFFmSSBrcyAic2pFWCI8ZWg+CiAgICAgKiAgICAgICAgICAgICoqc2pFWCoqIFRqSSBpazlJbUVsSSBrcyBGUW1VSWhUSWYga21UUSBFIHNqRVggakVzajxlaD4KICAgICAqICAgICAgICAgICAgKipsZloqKiBUakkgaWs5SW1FbEkga3MgRlFtVUloVElmIGttVFEgRSBsZlogakVzajxlaD4KICAgICAqKwogICAgcWhRVElGVElmIHNUaGttSiAkRlFscWs5SUh2cUkyazlJQUVsSSA9ICdFcFRRJzsKICAgICsqKiBAVUVoIEVoaEV2IG9wc1RRbCAiZmtoSUZUa1VJIiBma0ZUa1FtRWh2LiBIalFzSSBma2hJRlRrVUlzIGhwbSBFVCBGUWxxazlJIFRrbEkuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJEZwc1RRbG5raElGVGtVSXMgPSBbXTsKICAgICsqKiBAVUVoIGVRUTlbXSBvcHNUUWwgZmtoSUZUa1VJIGZrRlRrUW1FaHYuIEhqUXNJIGZraElGVGtVSXMgaHBtIEVUIGhwbVRrbEkuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJEZwc1RRbG5raElGVGtVSXNOSCA9IFtdOwogICAgKyoqIEBVRWggRkU5OUVlOUkgMnBtRlRrUW0gcHNJZiBpUWggaElzUTlVa21KIGttTElGVElmIEY5RXNzSXMuICorCiAgICBxaFFUSUZUSWYgJGttTElGVE5Jc1E5VUloOwogICAgKyoqIEBVRWggRWhoRXYgUHNJZiBpUWggRlFtZmtUa1FtRTkga2kuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJEZRbWZrVGtRbXMgPSBbXTsKICAgICsqKiBAVUVoIGttVCBQbWtScEkgRlFwbVRJaC4gS1QncyBwc0lmIGlRaCBJVlRJbWZzICorCiAgICBxaFFUSUZUSWYga21UICRwa2ZvUXBtVEloID0gdzsKICAgICsqKiBAVUVoIHNUaGttSiBIakkgbEVrbSBwaDkgUWkgVGpJIHN2c1RJbC4gblFtJ1QgcHNJIGhFdSAkX09nTkJnTiBVRTlwSXMgcG05SXNzIFRqSSBVRTlwSSBrcyBzRW1rVGtXSWYgKisKICAgIHFoUVRJRlRJZiBzVGhrbUogJGVFc0lQaDkgPSAnLic7CiAgICArKiogQFVFaCBzVGhrbUp8bXA5OSBIakkgZUVzSSBmUWxFa20gUWkgVGpJIHN2c1RJbCAqKwogICAgcWhRVElGVElmID9zVGhrbUogJGVFc0luUWxFa207CiAgICArKiogQFVFaCBzVGhrbUp8bXA5OSBLVCBzVFFoSXMgVGpJIEZwaGhJbVQgRkVtUW1rRkU5IHBoOS4gKisKICAgIHFoUVRJRlRJZiA/c1Roa21KICRGRW1RbWtGRTlQaDk7CiAgICArKiogQFVFaCBzVGhrbUp8bXA5OSBLVCBzVFFoSXMgVGpJIEZwaGhJbVQgcGg5IGttRjlwZmttSiBFaEpwbEltVHMgKisKICAgIHFoUVRJRlRJZiA/c1Roa21KICRGcGhoSW1UUGg5OwogICAgKyoqIEBVRWggc1Roa21KIGtUIGtzIEUgaEk5RVRrVUkgcUVUaiBGRTlGcDlFVElmIGVJVHVJSW0gZUVzSVBoOSBFbWYgVGpJIEZwaGhJbVQgcGg5LiBnVkVscTlJIC4uKy4uKyAqKwogICAgcWhRVElGVElmIHNUaGttSiAkaEk5RVRrVUlhRVRqID0gJyc7CiAgICArKiogQFVFaCBzVGhrbUpbXSBua0ZUa1FtRWh2IFFpIEVzc0lUcyAqKwogICAgcWhRVElGVElmID9FaGhFdiAkRXNzSVRua0ZUOwogICAgKyoqIEBVRWggZVFROSBraSBUaHBJIFRqSW0ga1QgaElsUVVJcyBURWVzIEVtZiBwbW1JSWZJZiBzcUVGSXMgKisKICAgIHFoUVRJRlRJZiBlUVE5ICRRcVRrbGtXSSA9IFRocEk7CiAgICArKiogQFVFaCBlUVE5IGtpIGlFOXNJLCBUakltIFRqSSBUSWxxOUVUSSBrcyBtUVQgRlFscWs5SWYgKGVwVCBJVklGcFRJZiBRbSBsSWxRaHYpLiAqKwogICAgcWhRVElGVElmIGVRUTkgJGtzb1FscWs5SWYgPSBUaHBJOwogICAgKyoqIEBVRWggZVFROSAqKwogICAgcWhRVElGVElmIGVRUTkgJGtzTnBtMkVzVCA9IGlFOXNJOyArKyBzVFFoSWYgaVFoIGprc1RRaGtGRTkgcXBocVFzSS4KICAgICsqKiBAVUVoIEVoaEV2IHRoaEV2IFFpIFFxSW1rbUogRW1mIEY5UXNrbUogVEVKcyBpUWggaEV1IElGalFzLiAqKwogICAgcWhRVElGVElmIEVoaEV2ICRoRXVIRUpzID0gWyd7ISEnLCAnISF9J107CiAgICArKiogQFVFaCBFaGhFdiB0aGhFdiBRaSBRcUlta21KIEVtZiBGOVFza21KIFRFSnMgaVFoIGhJSnA5RWggSUZqUXMuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJEZRbVRJbVRIRUpzID0gWyd7eycsICd9fSddOwogICAgKyoqIEBVRWggRWhoRXYgdGhoRXYgUWkgUXFJbWttSiBFbWYgRjlRc2ttSiBURUpzIGlRaCBJc0ZFcUlmIElGalFzLiAqKwogICAgcWhRVElGVElmIEVoaEV2ICRJc0ZFcUlmSEVKcyA9IFsne3t7JywgJ319fSddOwogICAgKyoqIEBVRWggc1Roa21KIEhqSSAiaElKcDlFaCIgKyA5SUpFRnYgSUZqUSBzVGhrbUogaVFobEVULiAqKwogICAgcWhRVElGVElmIHNUaGttSiAkSUZqUTJRaGxFVCA9ICdcalRsOV9JbVRrVHZfZklGUWZJKCVzPz9cJ1wnLCBnQUhfR1BNSGdPLCBcJ1BIMi01XCcpJzsKICAgICsqKiBAVUVoIHNUaGttSiAqKwogICAgcWhRVElGVElmIHNUaGttSiAkSUZqUTJRaGxFVE05ZiA9ICdzVEVUa0Y6OkkoJXMpJzsKICAgICsqKiBAVUVoIEVoaEV2IDZrbUlzIFRqRVQgdWs5OSBlSSBFZmZJZiBFVCBUakkgaVFRVEloIFFpIFRqSSBUSWxxOUVUSSAqKwogICAgcWhRVElGVElmIEVoaEV2ICRpUVFUSWggPSBbXTsKICAgICsqKiBAVUVoIHNUaGttSiBhOUVGSWpROWZJaCBUUSBUSWxxUWhFaHYgbEVoOCBUakkgcVFza1RrUW0gUWkgVUloZUVUa2wgZTlRRjhzLiAqKwogICAgcWhRVElGVElmIHNUaGttSiAkVUloZUVUa2xhOUVGSWpROWZJaCA9ICckX19VSWhlRVRrbF9fJCc7CiAgICArKiogQFVFaCBFaGhFdiB0aGhFdiBUUSBUSWxxUWhFaHYgc1RRaEkgVGpJIFVJaGVFVGtsIGU5UUY4cyBpUXBtZiBrbSBUakkgVElscTlFVEkuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJFVJaGVFVGtscjlRRjhzID0gW107CiAgICArKiogQFVFaCBrbVQgb1FwbVRJaCBUUSA4SUlxIFRoRUY4IFFpIG1Jc1RJZiBpUWhJOXNJIHNURVRJbEltVHMuICorCiAgICBxaFFUSUZUSWYga21UICRpUWhJOXNJb1FwbVRJaCA9IHc7CiAgICArKiogQFVFaCBFaGhFdiBIakkgRlFscVFtSW1UcyBlSWttSiBoSW1mSWhJZi4gKisKICAgIHFoUVRJRlRJZiBFaGhFdiAkRlFscVFtSW1UT1RFRjggPSBbXTsKICAgICsqKiBAVUVoIEVoaEV2IEhqSSBRaGtKa21FOSBmRVRFIHFFc3NJZiBUUSBUakkgRlFscVFtSW1ULiAqKwogICAgcWhRVElGVElmIEVoaEV2ICRGUWxxUW1JbVRuRVRFID0gW107CiAgICArKiogQFVFaCBFaGhFdiBIakkgczlRVCBGUW1USW1UcyBpUWggVGpJIEZRbHFRbUltVC4gKisKICAgIHFoUVRJRlRJZiBFaGhFdiAkczlRVHMgPSBbXTsKICAgICsqKiBAVUVoIEVoaEV2IEhqSSBtRWxJcyBRaSBUakkgczlRVHMgZUlrbUogaEltZkloSWYuICorCiAgICBxaFFUSUZUSWYgRWhoRXYgJHM5UVRPVEVGOCA9IFtdOwogICAgKyoqIEBVRWggc1Roa21KIFRFSiBwbWtScEkgKisKICAgIHFoUVRJRlRJZiBzVGhrbUogJGF0TmdBSDFnYyA9ICdAcUVoSW1UQ2NkdHJvJzsKICAgICsqKgogICAgICogS21ma0ZFVElzIFRqSSBGUWxxazlJIGxRZkkuCiAgICAgKiBraSBUakkgRlFtc1RFbVQgcjZ0bmdNQWdfM01uZyBrcyBmSWlrbUlmLCBUakltIGtUIGtzIHBzSWYga21zVElFZiBRaSBUamtzIGlrSTlmLgogICAgICoKICAgICAqIEBVRWgga21UPVtyOUVmSU1tSTo6M01uZ190UEhNLHI5RWZJTW1JOjozTW5nX25nclAwLHI5RWZJTW1JOjozTW5nX082TWIscjlFZklNbUk6OjNNbmdfMnRPSF1bJGtdCiAgICAgKisKICAgIHFoUVRJRlRJZiBrbVQgJGxRZkk7CiAgICArKiogQFVFaCBrbVQgS21ma0ZFVElzIFRqSSBtcGxlSWggUWkgUXFJbSBzdWtURmpJcyAqKwogICAgcWhRVElGVElmIGttVCAkc3VrVEZqb1FwbVQgPSB3OwogICAgKyoqIEBVRWggZVFROSBLbWZrRkVUSXMga2kgVGpJIHN1a1RGaiBrcyBoSUZJbVQ5diBRcUltICorCiAgICBxaFFUSUZUSWYgZVFROSAkaWtoc1RvRXNJS21PdWtURmogPSBUaHBJOwogICAgc1RFVGtGICRrbXNURW1GSTsKICAgICsrPCtJZmtUUWgtaVE5Zj4KICAgICsrPElma1RRaC1pUTlmIGZJc0Y9IkZRbXNUaHBGVFFoIj4KICAgICsqKgogICAgICogclFlIFRqSSBGUW1zVGhwRlRRaC4KICAgICAqIEhqSSBpUTlmSWggRVQgJEZRbHFrOUlmYUVUaiBrcyBGaElFVElmIGttIEZFc0kga1QgZlFJc20nVCBJVmtzVC4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KfEVoaEV2ICRUSWxxOUVUSWFFVGogS2kgbXA5OSBUakltIGtUIHBzSXMgKEZFOTlJaF9pUTlmSWgpK1VrSXVzCiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgICRGUWxxazlJZmFFVGogS2kgbXA5OSBUakltIGtUIHBzSXMgKEZFOTlJaF9pUTlmSWgpK0ZRbHFrOUlzCiAgICAgKiBAcUVoRWwga21UICAgICAgICAgICRsUWZJICAgICAgICAgPVtyOUVmSU1tSTo6M01uZ190UEhNLHI5RWZJTW1JOjozTW5nX25nclAwLHI5RWZJTW1JOjozTW5nXzJ0T0gscjlFZklNbUk6OjNNbmdfTzZNYl1bJGtdCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZRbXNUaHBGVCgkVElscTlFVElhRVRqID0gbXA5OSwgJEZRbHFrOUlmYUVUaiA9IG1wOTksICRsUWZJID0gdykKICAgIHsKICAgICAgICBraSAoJFRJbHE5RVRJYUVUaiA9PT0gbXA5OSkgewogICAgICAgICAgICAkVElscTlFVElhRVRqID0gXEpJVEZ1ZigpIC4gJytVa0l1cyc7CiAgICAgICAgfQogICAgICAgIGtpICgkRlFscWs5SWZhRVRqID09PSBtcDk5KSB7CiAgICAgICAgICAgICRGUWxxazlJZmFFVGogPSBcSklURnVmKCkgLiAnK0ZRbHFrOUlzJzsKICAgICAgICB9CiAgICAgICAgJFRqa3MtPlRJbHE5RVRJYUVUaiA9IChrc19FaGhFdigkVElscTlFVElhRVRqKSkgPyAkVElscTlFVElhRVRqIDogWyRUSWxxOUVUSWFFVGpdOwogICAgICAgICRUamtzLT5GUWxxazlJZmFFVGogPSAkRlFscWs5SWZhRVRqOwogICAgICAgICRUamtzLT5zSVQzUWZJKCRsUWZJKTsKICAgICAgICBzSTlpOjoka21zVEVtRkkgPSAkVGprczsKICAgICAgICAkVGprcy0+RXBUam9FOTlyRUY4ID0gaXBtRlRrUW0oCiAgICAgICAgICAgICRFRlRrUW0gPSBtcDk5LAogICAgICAgICAgICArKiogQG1Ra21zcUlGVGtRbSBhanFQbXBzSWZhRWhFbElUSWhLbXNxSUZUa1FtICorCiAgICAgICAgICAgICRzcGVMSUZUID0gbXA5OQogICAgICAgICkgewogICAgICAgICAgICBoSVRwaG0gXGttX0VoaEV2KCRFRlRrUW0sICRUamtzLT5GcGhoSW1UYUlobGtzc2tRbSwgVGhwSSk7CiAgICAgICAgfTsKICAgICAgICAkVGprcy0+RXBUanRtdm9FOTlyRUY4ID0gaXBtRlRrUW0oJEVoaEV2ID0gW10pIHsKICAgICAgICAgICAgaVFoSUVGaiAoJEVoaEV2IEVzICRxSWhsa3Nza1FtKSB7CiAgICAgICAgICAgICAgICBraSAoXGttX0VoaEV2KCRxSWhsa3Nza1FtLCAkVGprcy0+RnBoaEltVGFJaGxrc3NrUW0gPz8gW10sIFRocEkpKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH07CiAgICAgICAgJFRqa3MtPkloaFFob0U5OXJFRjggPSBzVEVUa0YgaXBtRlRrUW0oCiAgICAgICAgICAgICsqKiBAbVFrbXNxSUZUa1FtIGFqcVBtcHNJZmFFaEVsSVRJaEttc3FJRlRrUW0gKisKICAgICAgICAgICAgJDhJdiA9IG1wOTkKICAgICAgICApIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH07CiAgICAgICAgKysgS2kgVGpJICJUaEVrVHMiIGpFcyAib1Ftc1RocEZUUWhzIiwgVGpJbSB1SSBGRTk5IFRqSWwuCiAgICAgICAgKysgTklScGtza1RJcy4KICAgICAgICArKyBYLSBUakkgbElUalFmIGxwc1QgZUkgcXBlOWtGIFFoIHFoUVRJRlRJZgogICAgICAgICsrIHgtIGtUIGxwc1QgZlFtJ1QgakVVSSBFaEpwbEltVHMKICAgICAgICArKyBZLSBLVCBscHNUIGpFVUkgVGpJIG1FbEkgUWkgVGpJIFRoRWtULiBrLkkuIFRoRWtUPTN2SGhFa1QsIGxJVGpRZj0zdkhoRWtUKCkKICAgICAgICAkVGhFa1RzID0gSklUX2ZJRjlFaElmX1RoRWtUcygpOwogICAgICAgICRGcGhoSW1USGhFa1RzID0gKEVoaEV2KUY5RXNzX3BzSXMoJFRqa3MpOwogICAgICAgIGlRaElFRmogKCRUaEVrVHMgRXMgJFRoRWtUKSB7CiAgICAgICAgICAgICRoID0gSVZxOVFmSSgnXFwnLCAkVGhFa1QpOwogICAgICAgICAgICAkbUVsSSA9IEltZigkaCk7CiAgICAgICAgICAgIGtpICgha21fRWhoRXYoJFRoRWtULCAkRnBoaEltVEhoRWtUcywgVGhwSSkpIHsKICAgICAgICAgICAgICAgIEZRbVRrbXBJOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGtpIChrc19GRTk5RWU5SShbJFRqa3MsICRtRWxJXSkgJiYgbElUalFmX0lWa3NUcygkVGprcywgJG1FbEkpKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+eyRtRWxJfSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogS1QgSklUcyBFbSBrbXNURW1GSSBRaSByOUVmSVFtSS4gS2kgbVFtSSwgVGpJbSBrVCB1azk5IEZoSUVUSSBFIG1JdSBRbUkgdWtUalQgSWogZklpRXA5VCBmRVRFLgogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdiAkVElscTlFVElhRVRqIEtpIG1wOTkgVGpJbSBrVCBwc0lzIChGRTk5SWhfaVE5ZkloKStVa0l1cwogICAgICogQHFFaEVsIHNUaGttSiAgICAgICAkRlFscWs5SWZhRVRqIEtpIG1wOTkgVGpJbSBrVCBwc0lzIChGRTk5SWhfaVE5ZkloKStGUWxxazlJcwogICAgICogQHFFaEVsIGttVCAgICAgICAgICAkbFFmSQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID1bcjlFZklNbUk6OjNNbmdfdFBITSxyOUVmSU1tSTo6M01uZ19uZ3JQMCxyOUVmSU1tSTo6M01uZ18ydE9ILHI5RWZJTW1JOjozTW5nX082TWJdWyRrXQogICAgICogQGhJVHBobSByOUVmSU1tSQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEpJVEttc1RFbUZJKCRUSWxxOUVUSWFFVGogPSBtcDk5LCAkRlFscWs5SWZhRVRqID0gbXA5OSwgJGxRZkkgPSB3KTogcjlFZklNbUkKICAgIHsKICAgICAgICBraSAoc0k5aTo6JGttc1RFbUZJID09PSBtcDk5KSB7CiAgICAgICAgICAgIG1JdSBzSTlpKCRUSWxxOUVUSWFFVGosICRGUWxxazlJZmFFVGosICRsUWZJKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtIHNJOWk6OiRrbXNURW1GSTsKICAgIH0KCiAgICArKioKICAgICAqIEtUIEVmZnMgRSBGUW1UaFE5IFRRIFRqSSBzVEVGODxlaD4KICAgICAqICoqZ1ZFbHE5SToqKjxlaD4KICAgICAqIGBgYHFqcQogICAgICogJFRqa3MtPkVmZm9RbVRoUTlPVEVGOG9qazlmKCdFOUloVCcsWydsSXNzRUpJJz0+J2pJOTlRJ10pOwogICAgICogYGBgCiAgICAgKiBAcUVoRWwgc1Roa21KICRtRWxJIFRqSSBtRWxJVEVKIFFpIFRqSSBzVEVGOAogICAgICogQHFFaEVsIEVoaEV2ICAkRWhKcwogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZvUW1UaFE5T1RFRjhvams5ZihzVGhrbUogJG1FbEksRWhoRXYgJEVoSnMpOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkZRbVRoUTlPVEVGOFtdPVsnbUVsSSc9PiRtRWxJLCdFaEpzJz0+JEVoSnMsJ3FFaEltVCc9PiRUamtzLT5GUW1UaFE5T1RFRjhhRWhJbVRdOwogICAgICAgICRUamtzLT5GUW1UaFE5T1RFRjhhRWhJbVQ9RWhoRXZfOEl2XzlFc1QoJFRqa3MtPkZRbVRoUTlPVEVGOCk7CiAgICB9CiAgICBxcGU5a0YgaXBtRlRrUW0gRWZmb1FtVGhROU9URUY4T2tlOWttSihzVGhrbUogJG1FbEksRWhoRXYgJEVoSnMpOiBVUWtmCiAgICB7CiAgICAgICAgJEpoRW1mcUVoSW1UPSRUamtzLT5GUW1UaFE5T1RFRjhbJFRqa3MtPkZRbVRoUTlPVEVGOGFFaEltVF1bJ3FFaEltVCddOwogICAgICAgICRUamtzLT5GUW1UaFE5T1RFRjhbXT1bJ21FbEknPT4kbUVsSSwnRWhKcyc9PiRFaEpzLCdxRWhJbVQnPT4kSmhFbWZxRWhJbVRdOwogICAgfQoKICAgICsqKgogICAgICogS1QgaElUcGhtcyBUakkgOUVzVElzVCBGUW1UaFE5IGloUWwgVGpJIHNURUY4IEVtZiBoSWxRVUlzIGtULgogICAgICogQGhJVHBobSBsa1ZJZnxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGOVFzSW9RbVRoUTlPVEVGOCgpIHsKICAgICAgICAkVGprcy0+RlFtVGhROU9URUY4YUVoSW1UPSRUamtzLT5GUW1UaFE5T1RFRjhbJFRqa3MtPkZRbVRoUTlPVEVGOGFFaEltVF1bJ3FFaEltVCddOwogICAgICAgIGhJVHBobSBFaGhFdl9xUXEoJFRqa3MtPkZRbVRoUTlPVEVGOCk7CiAgICB9CiAgICArKioKICAgICAqIEtUIGhJbFFVSXMgVGpJIDlFc1QgcUVoSW1UIEVtZiBoSVRwaG1zIFRqSSBtSXUgcUVoSW1UIChUakkgcWhJVWtRcHMgSmhFbWZxRWhJbVQpPGVoPgogICAgICogUHNwRTk5diBUamtzIGxJVGpRZiBFbWYgRjlRc0lvUW1UaFE5T1RFRjggbHBzVCBoSVRwaG0gVGpJIHNFbEkga2kgSVVJaHYgRmprOWYgdUVzIEY5UXNJZiBGUWhoSUZUOXYuCiAgICAgKiBAaElUcGhtIGxrVklmfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEY5UXNJb1FtVGhROU9URUY4YUVoSW1UKCkgewogICAgICAgICRKaEVtZnFFaEltVD0kVGprcy0+RlFtVGhROU9URUY4WyRUamtzLT5GUW1UaFE5T1RFRjhhRWhJbVRdWydxRWhJbVQnXTsKICAgICAgICBwbXNJVCgkVGprcy0+RlFtVGhROU9URUY4WyRUamtzLT5GUW1UaFE5T1RFRjhhRWhJbVRdKTsKICAgICAgICAkVGprcy0+RlFtVGhROU9URUY4YUVoSW1UPSRKaEVtZnFFaEltVDsKICAgICAgICBoSVRwaG0gJFRqa3MtPkZRbVRoUTlPVEVGOFskVGprcy0+RlFtVGhROU9URUY4YUVoSW1UXTsKICAgIH0KICAgICsqKgogICAgICogS1QgaElUcGhtcyBUakkgOUVzVCBGUW1UaFE5IGloUWwgVGpJIHNURUY4IHVrVGpRcFQgaElsUVVrbUoga1QuPGVoPgogICAgICogS1Qga3MgcHNJaXA5IFRRIEpJVCBUakkgcWhJVWtRcHMgRlFtVGhROSwga1QgRlFwOWYgZUkgRSBxRWhJbVQgUWggRSBza2U5a21KLgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOUVzVG9RbVRoUTlPVEVGOCgpOiBFaGhFdgogICAgewogICAgICAgIGhJVHBobSBASW1mKCRUamtzLT5GUW1UaFE5T1RFRjgpOwogICAgfQoKICAgICsqKgogICAgICogS1QgSklUcyBUakkgcUVoSW1UIEZRbVRoUTkgc1RFRjgKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHFFaEltVG9RbVRoUTlPVEVGOCgpOiBFaGhFdgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RlFtVGhROU9URUY4WyRUamtzLT5GUW1UaFE5T1RFRjhhRWhJbVRdOwogICAgfQoKICAgICsqKgogICAgICogS1QgRjlJRWhzIFRqSSB1alE5SSBGUW1UaFE5IHNURUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEY5SUVob1FtVGhROU9URUY4KCk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+RlFtVGhROU9URUY4PVtbJ21FbEknPT4nJywnRWhKcyc9PltdLCdxRWhJbVQnPT53XV07CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBFZmZzIEUgbUl1IGxJVGpRZjxlaD4KICAgICAqICoqZ1ZFbHE5SToqKjxlaD4KICAgICAqIGBgYHFqcQogICAgICogJFRqa3MtPkVmZjNJVGpRZignRlFscWs5SScsJ0U5SWhUJyxzVEVUa0YgaXBtRlRrUW0oP3NUaGttSiAkSVZxaElzc2tRbT1tcDk5KSB7IGhJVHBobSB9KTsKICAgICAqICRUamtzLT5FZmYzSVRqUWYoJ2hwbVRrbEknLCdFOUloVCcsaXBtRlRrUW0oP0VoaEV2ICRFaEpwbEltVHM9bXA5OSkgeyBoSVRwaG0gfSk7CiAgICAgKiBgYGAKICAgICAqIEBxRWhFbCBzVGhrbUogICAkVHZxST1bJ0ZRbHFrOUknLCdocG1Ua2xJJ11bJGtdIGtpIHZRcCB1RW1UIFRRIEVmZiBFIEZRbHFrOUkgbElUalFmIFFoIEUgaHBtVGtsSSBsSVRqUWYKICAgICAqIEBxRWhFbCBzVGhrbUogICAkbUVsSSBUakkgbUVsSSBRaSBUakkgbElUalFmLiBvUWxsUW05diBrVCBrcyBrbSA5UXVJaEZFc0kuCiAgICAgKiBAcUVoRWwgRkU5OUVlOUkgJEZFOTlFZTlJIFRqSSBGRTk5RWU5SSBsSVRqUWYKICAgICAqIEBoSVRwaG0gcjlFZklNbUkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZjNJVGpRZihzVGhrbUogJFR2cUksc1Roa21KICRtRWxJLEZFOTlFZTlJICRGRTk5RWU5SSk6IHI5RWZJTW1JCiAgICB7CiAgICAgICAgJGlwOTlBRWxJPSRUdnFJLnBGaWtoc1QoJG1FbEkpOwogICAgICAgICRUamtzLT5sSVRqUWZzWyRpcDk5QUVsSV09JEZFOTlFZTlJOwogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIEtUIEY5SUVocyBFOTkgVGpJIGxJVGpRZnMgZklpa21JZi4KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEY5SUVoM0lUalFmcygpOiBzSTlpCiAgICB7CiAgICAgICAgJFRqa3MtPmxJVGpRZnM9W107CiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQogICAgKys8K0lma1RRaC1pUTlmPgogICAgKys8SWZrVFFoLWlROWYgZklzRj0iRlFsbFFtIj4KICAgICsqKgogICAgICogT2pRdSBFbSBJaGhRaCBrbSBUakkgdUllLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJGtmICAgICAgICAgIEhrVDlJIFFpIFRqSSBJaGhRaAogICAgICogQHFFaEVsIHNUaGttSiAkVElWVCAgICAgICAgM0lzc0VKSSBRaSBUakkgSWhoUWgKICAgICAqIEBxRWhFbCBlUVE5ICAgJEZoa1RrRiAgICAgIGtpIFRocEkgVGpJbSBUakkgRlFscWs5RVRrUW0ga3MgSW1mSWYsIFFUaklodWtzSSBrVCBGUW1Ua21wSXMKICAgICAqIEBxRWhFbCBlUVE5ICAgJEU5dUV2c0hqaFF1IGtpIFRocEkgVGpJbSBrVCBFOXVFdnMgVGpoUXVzIEUgaHBtVGtsSSBJVkZJcVRrUW0uCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBcTnBtVGtsSWdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc2pRdWdoaFFoKCRrZiwgJFRJVlQsICRGaGtUa0YgPSBpRTlzSSwgJEU5dUV2c0hqaFF1ID0gaUU5c0kpOiBzVGhrbUoKICAgIHsKICAgICAgICBcUWVfSklUX0Y5SUVtKCk7CiAgICAgICAga2kgKCRUamtzLT5UamhRdU1tZ2hoUWggfHwgJEU5dUV2c0hqaFF1IHx8ICRGaGtUa0YgPT09IFRocEkpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IFxOcG1Ua2xJZ1ZGSXFUa1FtKCJyOUVmSU1tSSBnaGhRaCBbJGtmXSAkVElWVCIpOwogICAgICAgIH0KICAgICAgICAkbHNKID0gIjxma1Ugc1R2OUk9J2VFRjhKaFFwbWYtRlE5UWg6IGhJZjsgRlE5UWg6IGU5RUY4OyBxRWZma21KOiBZcVY7IGVRaGZJaDogc1E5a2YgWHFWIGU5RUY4Oyc+IjsKICAgICAgICAkbHNKIC49ICJyOUVmSU1tSSBnaGhRaCBbJGtmXTo8ZWg+IjsKICAgICAgICAkbHNKIC49ICI8c3FFbSBzVHY5ST0nRlE5UWg6dWprVEknPiRUSVZUPCtzcUVtPjxlaD48K2ZrVT5cbSI7CiAgICAgICAgSUZqUSAkbHNKOwogICAgICAgIGtpICgkRmhrVGtGKSB7CiAgICAgICAgICAgIGZrSShYKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRsc0o7CiAgICB9CgogICAgKyoqCiAgICAgKiBnc0ZFcUkgU0gzNiBJbVRrVGtJcyBrbSBFIHNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwga21UfHNUaGttSnxtcDk5ICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBJKCRVRTlwSSk6IHNUaGttSgogICAgewogICAgICAgICsrIGFoSVVJbVQgIm5JcWhJRkVUSWY6IGpUbDlJbVRrVGtJcygpOiBhRXNza21KIG1wOTkgVFEgcUVoRWxJVEloICNYICgkc1Roa21KKSBRaSBUdnFJIHNUaGttSiBrcyBmSXFoSUZFVElmIiBsSXNzRUpJCiAgICAgICAga2kgKFxrc19tcDk5KCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtICcnOwogICAgICAgIH0KICAgICAgICBraSAoXGtzX0VoaEV2KCRVRTlwSSkgfHwgXGtzX1FlTElGVCgkVUU5cEkpKSB7CiAgICAgICAgICAgIGhJVHBobSBcalRsOUltVGtUa0lzKFxxaGttVF9oKCRVRTlwSSwgVGhwSSksIGdBSF9HUE1IZ08sICdQSDItNScsIGlFOXNJKTsKICAgICAgICB9CiAgICAgICAga2kgKFxrc19tcGxJaGtGKCRVRTlwSSkpIHsKICAgICAgICAgICAgJFVFOXBJID0gKHNUaGttSikkVUU5cEk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSBcalRsOUltVGtUa0lzKCRVRTlwSSwgZ0FIX0dQTUhnTywgJ1BIMi01JywgaUU5c0kpOwogICAgfQoKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gRlFtVUloVHRoSm9FOTlyRUY4KCQ4LCAkVSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkOCAuICI9JyRVJyAiOwogICAgfQoKICAgICsqKgogICAgICogQHFFaEVsIGxrVklmfFxuRVRJSGtsSSAkVUVoa0VlOUkKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAgICAgJGlRaGxFVAogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaGxFVCgkVUVoa0VlOUksICRpUWhsRVQgPSBtcDk5KTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKCRVRWhrRWU5SSBrbXNURW1GSVFpIFxuRVRJSGtsSSkgewogICAgICAgICAgICAkaVFobEVUID0gJGlRaGxFVCA/PyAnYytsK2YnOwogICAgICAgICAgICBoSVRwaG0gJFVFaGtFZTlJLT5pUWhsRVQoJGlRaGxFVCk7CiAgICAgICAgfQogICAgICAgICRpUWhsRVQgPSAkaVFobEVUID8/ICclcyc7CiAgICAgICAgaElUcGhtIHNxaGttVGkoJGlRaGxFVCwgJFVFaGtFZTlJKTsKICAgIH0KCiAgICArKioKICAgICAqIEtUIEZRbVVJaFRzIEUgVElWVCBrbVRRIEUgcWpxIEZRZkkgdWtUaiBJRmpRPGVoPgogICAgICogKipnVkVscTlJOioqPGVoPgogICAgICogYGBgcWpxCiAgICAgKiAkVGprcy0+dWhFcWFTYSgnJGpJOTlRJyk7ICsrICI8ID9xanEgSUZqUSAkVGprcy0+SSgkakk5OVEpOyA/ID4iCiAgICAgKiAkVGprcy0+dWhFcWFTYSgnJGpJOTlRJywnJyk7ICsrIDwgP3FqcSBJRmpRICRUamtzLT5JKCRqSTk5USk7ID8gPgogICAgICogJFRqa3MtPnVoRXFhU2EoJyRqSTk5UScsJycsaUU5c0kpOyArKyA8ID9xanEgSUZqUSAkakk5OVE7ID8gPgogICAgICogJFRqa3MtPnVoRXFhU2EoJyJqSTk5USInKTsgKysgIjwgP3FqcSBJRmpRICRUamtzLT5JKCJqSTk5USIpOyA/ID4iCiAgICAgKiAkVGprcy0+dWhFcWFTYSgnakk5OVEoKScpOyArKyAiPCA/cWpxIElGalEgJFRqa3MtPkkoakk5OVEoKSk7ID8gPiIKICAgICAqIGBgYAogICAgICoKICAgICAqIEBxRWhFbCA/c1Roa21KICRrbXFwVCBIakkga21xcFQgVUU5cEkKICAgICAqIEBxRWhFbCBzVGhrbUogICRScFFUSSBIakkgUnBRVEkgcHNJZiAoVFEgUnBRVEkgVGpJIGhJc3A5VCkKICAgICAqIEBxRWhFbCBlUVE5ICAgICRxRWhzSSBLaSBUakkgaElzcDlUIHVrOTkgZUkgcUVoc0lmIFFoIG1RVC4gS2kgaUU5c0kgVGpJbSBrVCdzIGhJVHBobUlmIHVrVGpRcFQgJFRqa3MtPkkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1aEVxYVNhKCRrbXFwVCwgJFJwUVRJID0gJyInLCAkcUVoc0kgPSBUaHBJKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKCRrbXFwVCA9PT0gbXA5OSkgewogICAgICAgICAgICBoSVRwaG0gJ21wOTknOwogICAgICAgIH0KICAgICAgICBraSAoc1RocVFzKCRrbXFwVCwgJygnKSAhPT0gaUU5c0kgJiYgISRUamtzLT5rc0dwUVRJZigka21xcFQpKSB7CiAgICAgICAgICAgIGtpICgkcUVoc0kpIHsKICAgICAgICAgICAgICAgIGhJVHBobSAkUnBRVEkgLiAkVGprcy0+cWpxSEVKZ0ZqUSAuICckVGprcy0+SSgnIC4gJGttcXBUIC4gJyk7Pz4nIC4gJFJwUVRJOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhJVHBobSAkUnBRVEkgLiAkVGprcy0+cWpxSEVKZ0ZqUSAuICRrbXFwVCAuICc7Pz4nIC4gJFJwUVRJOwogICAgICAgIH0KICAgICAgICBraSAoc1RocVFzKCRrbXFwVCwgJyQnKSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAga2kgKCRxRWhzSSkgewogICAgICAgICAgICAgICAgaElUcGhtIHNJOWk6OkltUigka21xcFQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhJVHBobSAka21xcFQ7CiAgICAgICAgfQogICAgICAgIGtpICgkcUVoc0kpIHsKICAgICAgICAgICAgaElUcGhtICRScFFUSSAuICRUamtzLT5xanFIRUpnRmpRIC4gJyRUamtzLT5JKCcgLiAka21xcFQgLiAnKTs/PicgLiAkUnBRVEk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkUnBRVEkgLiAkVGprcy0+cWpxSEVKZ0ZqUSAuICRrbXFwVCAuICc7Pz4nIC4gJFJwUVRJOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtcyBUaHBJIGtpIFRqSSBUSVZUIGtzIHNwaGhRcG1mSWYgZXYgUnBRVElzIChmUXBlOUkgUWggc2ttSjlJIFJwUVRJKQogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkVElWVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrc0dwUVRJZigkVElWVCk6IGVRUTkKICAgIHsKICAgICAgICBraSAoISRUSVZUIHx8IHNUaDlJbSgkVElWVCkgPCB4KSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CiAgICAgICAga2kgKCRUSVZUW3ddID09PSAnIicgJiYgc3Blc1RoKCRUSVZULCAtWCkgPT09ICciJykgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICgkVElWVFt3XSA9PT0gIiciICYmIHNwZXNUaCgkVElWVCwgLVgpID09PSAiJyIpOwogICAgfQoKICAgICsqKgogICAgICogZ3NGRXFJIFNIMzYgSW1Ua1RrSXMga20gRSBzVGhrbUouCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gSW1SKCRVRTlwSSk6IHNUaGttSgogICAgewogICAgICAgIGtpIChca3NfRWhoRXYoJFVFOXBJKSB8fCBca3NfUWVMSUZUKCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtIFxqVGw5SW1Ua1RrSXMoXHFoa21UX2goJFVFOXBJLCBUaHBJKSwgZ0FIX0FNR1BNSGdPLCAnUEgyLTUnLCBpRTlzSSk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSBcalRsOUltVGtUa0lzKCRVRTlwSSA/PyAnJywgZ0FIX0FNR1BNSGdPLCAnUEgyLTUnLCBpRTlzSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgJFVrSXUgIElWRWxxOUkgImlROWZJaC5USWxxOUVUSSIKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkRTlrRXMgSVZFbHE5SSAibHZtSXVRcSIuIEtpIG1wOTkgVGpJbSBrVCBwc0lzIFRqSSBtRWxJIFFpIFRqSSBUSWxxOUVUSS4KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZkttRjlwZkkoJFVrSXUsICRFOWtFcyA9IG1wOTkpOiBVUWtmCiAgICB7CiAgICAgICAga2kgKCFrc3NJVCgkRTlrRXMpKSB7CiAgICAgICAgICAgICRFOWtFcyA9IFxJVnE5UWZJKCcuJywgJFVrSXUpOwogICAgICAgICAgICAkRTlrRXMgPSBcSW1mKCRFOWtFcyk7CiAgICAgICAgfQogICAgICAgICRUamtzLT5ma2hJRlRrVUkoJEU5a0VzLCBpcG1GVGtRbSgkSVZxaElzc2tRbSkgcHNJICgkVWtJdSkgewogICAgICAgICAgICAkSVZxaElzc2tRbSA9ICRUamtzLT5zVGhrcWFFaEltVGpJc0lzKCRJVnFoSXNza1FtKSA/OiAnW10nOwogICAgICAgICAgICBoSVRwaG0gIiRUamtzLT5xanFIRUogSUZqUSBcJFRqa3MtPmhwbW9qazlmKCckVWtJdScsICRJVnFoSXNza1FtKTsgPz4iOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBqRW1mOUloIGlRaCBGcHNUUWwgZmtoSUZUa1VJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICAgJG1FbEkKICAgICAqIEBxRWhFbCBGRTk5RWU5SSAkakVtZjlJaAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBma2hJRlRrVUkoJG1FbEksIEZFOTlFZTlJICRqRW1mOUloKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5GcHNUUWxua2hJRlRrVUlzWyRtRWxJXSA9ICRqRW1mOUloOwogICAgICAgICRUamtzLT5GcHNUUWxua2hJRlRrVUlzTkhbJG1FbEldID0gaUU5c0k7CiAgICB9CgogICAgKyoqCiAgICAgKiBPVGhrcSBUakkgcUVoSW1UaklzSXMgaWhRbCBUakkgSmtVSW0gSVZxaElzc2tRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KfG1wOTkgJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzVGhrcWFFaEltVGpJc0lzKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKFxrc19tcDk5KCRJVnFoSXNza1FtKSkgewogICAgICAgICAgICBoSVRwaG0gJyc7CiAgICAgICAgfQogICAgICAgIGtpIChzVEVUa0Y6OnNURWhUc2JrVGooJElWcWhJc3NrUW0sICcoJykpIHsKICAgICAgICAgICAgJElWcWhJc3NrUW0gPSBcc3Blc1RoKCRJVnFoSXNza1FtLCBYLCAtWCk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkSVZxaElzc2tRbTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFIEprVUltIHNUaGttSiBzVEVoVHMgdWtUaiBFIEprVUltIHNwZXNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgICRqRXZzVEVGOAogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdiAkbUlJZjlJcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gc1RFaFRzYmtUaigkakV2c1RFRjgsICRtSUlmOUlzKTogZVFROQogICAgewogICAgICAgIGlRaElFRmogKChFaGhFdikkbUlJZjlJcyBFcyAkbUlJZjlJKSB7CiAgICAgICAgICAgIGtpICgkbUlJZjlJICE9ICcnKSB7CiAgICAgICAgICAgICAgICBraSAoXGlwbUZUa1FtX0lWa3NUcygnbGVfc1RocVFzJykpIHsKICAgICAgICAgICAgICAgICAgICBraSAoJGpFdnNURUY4ICE9PSBtcDk5ICYmIFxsZV9zVGhxUXMoJGpFdnNURUY4LCAkbUlJZjlJKSA9PT0gdykgewogICAgICAgICAgICAgICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IEk5c0lraSAoJGpFdnNURUY4ICE9PSBtcDk5ICYmIFxzVGhxUXMoJGpFdnNURUY4LCAkbUlJZjlJKSA9PT0gdykgewogICAgICAgICAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGhJVHBobSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIEtpIGlFOXNJIFRqSW0gVGpJIGlrOUkga3MgbVFUIEZRbHFrOUlmLCBFbWYga1Qga3MgSVZJRnBUSWYgZmtoSUZUOXYgaWhRbCBUakkgbElsUWh2LjxlaD4KICAgICAqIHJ2IGZJaUVwOVQgVGpJIFVFOXBJIGtzIFRocEk8ZWg+CiAgICAgKiBLVCBFOXNRIHNJVHMgVGpJIGxRZkkgVFEgM01uZ19PNk1iCiAgICAgKgogICAgICogQHFFaEVsIGVRUTkgJGVRUTkKICAgICAqIEBoSVRwaG0gcjlFZklNbUkKICAgICAqIEBzSUkgcjlFZklNbUk6OnNJVDNRZkkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVEtzb1FscWs5SWYoJGVRUTkgPSBpRTlzSSk6IHI5RWZJTW1JCiAgICB7CiAgICAgICAgJFRqa3MtPmtzb1FscWs5SWYgPSAkZVFROTsKICAgICAgICBraSAoISRlUVE5KSB7CiAgICAgICAgICAgICRUamtzLT5zSVQzUWZJKHNJOWk6OjNNbmdfTzZNYik7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIEtUIHNJVHMgVGpJIFRJbHE5RVRJIEVtZiBGUWxxazlJIHFFVGogKHVrVGpRcFQgVGhFazlrbUogczlFc2opLgogICAgICogPHE+Z1ZFbHE5STpzSVRhRVRqKCJzUWxJaVE5ZkloIiwiUVRqSWhpUTlmSWgiKTsKICAgICAqCiAgICAgKiBAcUVoRWwgbXA5OXxzVGhrbUp8c1Roa21KW10gJFRJbHE5RVRJYUVUaiBLaSBtcDk5IFRqSW0ga1QgcHNJcyBUakkgRnBoaEltVCBxRVRqICtVa0l1cyBpUTlmSWgKICAgICAqIEBxRWhFbCBtcDk5fHNUaGttSiAgICAgICAgICAkRlFscWs5SWZhRVRqIEtpIG1wOTkgVGpJbSBrVCBwc0lzIFRqSSBGcGhoSW1UIHFFVGogK1VrSXVzIGlROWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUYUVUaigkVElscTlFVElhRVRqLCAkRlFscWs5SWZhRVRqKTogVVFrZgogICAgewogICAgICAgIGtpICgkVElscTlFVElhRVRqID09PSBtcDk5KSB7CiAgICAgICAgICAgICRUSWxxOUVUSWFFVGogPSBcSklURnVmKCkgLiAnK1VrSXVzJzsKICAgICAgICB9CiAgICAgICAga2kgKCRGUWxxazlJZmFFVGogPT09IG1wOTkpIHsKICAgICAgICAgICAgJEZRbHFrOUlmYUVUaiA9IFxKSVRGdWYoKSAuICcrRlFscWs5SXMnOwogICAgICAgIH0KICAgICAgICAkVGprcy0+VElscTlFVElhRVRqID0gKGtzX0VoaEV2KCRUSWxxOUVUSWFFVGopKSA/ICRUSWxxOUVUSWFFVGogOiBbJFRJbHE5RVRJYUVUal07CiAgICAgICAgJFRqa3MtPkZRbHFrOUlmYUVUaiA9ICRGUWxxazlJZmFFVGo7CiAgICB9CgogICAgKyoqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVR0OWtFc285RXNzSXMoKTogRWhoRXYKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkU5a0VzbzlFc3NJczsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCBFaGhFdiAkRTlrRXNvOUVzc0lzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVR0OWtFc285RXNzSXMoJEU5a0VzbzlFc3NJcyk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+RTlrRXNvOUVzc0lzID0gJEU5a0VzbzlFc3NJczsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCBzVGhrbUogJEU5a0VzQUVsSQogICAgICogQHFFaEVsIHNUaGttSiAkRjlFc3Nia1RqQU8KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZnQ5a0VzbzlFc3NJcygkRTlrRXNBRWxJLCAkRjlFc3Nia1RqQU8pOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkU5a0VzbzlFc3NJc1skRTlrRXNBRWxJXSA9ICRGOUVzc2JrVGpBTzsKICAgIH0KICAgICsrPCtJZmtUUWgtaVE5Zj4KICAgICsrPElma1RRaC1pUTlmIGZJc0Y9IkZRbHFrOUkiPgogICAgKyoqCiAgICAgKiB0cFRqSW1Ua0ZFVGtRbS4gT0lUcyB1a1RqIEUgcHNJaCxoUTlJIEVtZiBxSWhsa3Nza1FtCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkcHNJaAogICAgICogQHFFaEVsIG1wOTkgICAkaFE5SQogICAgICogQHFFaEVsIEVoaEV2ICAkcUlobGtzc2tRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUdHBUaigkcHNJaCA9ICcnLCAkaFE5SSA9IG1wOTksICRxSWhsa3Nza1FtID0gW10pOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkZwaGhJbVRQc0loID0gJHBzSWg7CiAgICAgICAgJFRqa3MtPkZwaGhJbVROUTlJID0gJGhROUk7CiAgICAgICAgJFRqa3MtPkZwaGhJbVRhSWhsa3Nza1FtID0gJHFJaGxrc3NrUW07CiAgICB9CgogICAgKyoqCiAgICAgKiBocG0gVGpJIGU5RWZJIEltSmttSS4gS1QgaElUcGhtcyBUakkgaElzcDlUIFFpIFRqSSBGUWZJLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJHNUaGttSiBTSDM2IFRRIHFFaHNJCiAgICAgKiBAcUVoRWwgRWhoRXYgICRmRVRFICAgS1Qga3MgRW0gRXNzUUZrRVRrVUkgRWhoRXYgdWtUaiBUakkgZkVURXMgVFEgZmtzcTlFdi4KICAgICAqIEBoSVRwaG0gc1Roa21KIEtUIGhJVHBobXMgRSBxRWhzSWYgc1Roa21KCiAgICAgKiBAVGpoUXVzIGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaHBtT1Roa21KKCRzVGhrbUosICRmRVRFID0gW10pOiBzVGhrbUoKICAgIHsKICAgICAgICAkcWpxID0gJFRqa3MtPkZRbHFrOUlPVGhrbUooJHNUaGttSik7CiAgICAgICAgJFFlNklVSTkgPSBcUWVfSklUXzlJVUk5KCk7CiAgICAgICAgXFFlX3NURWhUKCk7CiAgICAgICAgXElWVGhFRlQoJGZFVEUsIGdDSE5fTzFLYSk7CiAgICAgICAgJHFoSVVrUXBzZ2hoUWggPSBcSWhoUWhfSklUXzlFc1QoKTsKICAgICAgICBUaHYgewogICAgICAgICAgICBASVVFOSgnPycgLiAnPicgLiAkcWpxKTsKICAgICAgICB9IEZFVEZqIChnVkZJcVRrUW0gJEkpIHsKICAgICAgICAgICAgdWprOUkgKFxRZV9KSVRfOUlVSTkoKSA+ICRRZTZJVUk5KSB7CiAgICAgICAgICAgICAgICBcUWVfSW1mX0Y5SUVtKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgVGpoUXUgJEk7CiAgICAgICAgfSBGRVRGaiAoXEhqaFF1RWU5SSAkSSkgeyArKyBhU2EgPj0gNAogICAgICAgICAgICB1ams5SSAoXFFlX0pJVF85SVVJOSgpID4gJFFlNklVSTkpIHsKICAgICAgICAgICAgICAgIFxRZV9JbWZfRjlJRW0oKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdocG1PVGhrbUonLCAkSS0+SklUM0lzc0VKSSgpIC4gJyAnIC4gJEktPkpJVG9RZkkoKSwgVGhwSSk7CiAgICAgICAgICAgIGhJVHBobSAnJzsKICAgICAgICB9CiAgICAgICAgJDlFc1RnaGhRaCA9IFxJaGhRaF9KSVRfOUVzVCgpOyArKyBhU2EgWi56CiAgICAgICAga2kgKCRxaElVa1Fwc2doaFFoICE9ICQ5RXNUZ2hoUWggJiYgJDlFc1RnaGhRaFsnVHZxSSddID09IGdfYXROT2cpIHsKICAgICAgICAgICAgdWprOUkgKFxRZV9KSVRfOUlVSTkoKSA+ICRRZTZJVUk5KSB7CiAgICAgICAgICAgICAgICBcUWVfSW1mX0Y5SUVtKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFRqa3MtPnNqUXVnaGhRaCgnaHBtT1Roa21KJywgJDlFc1RnaGhRaFsnbElzc0VKSSddIC4gJyAnIC4gJDlFc1RnaGhRaFsnVHZxSSddLCBUaHBJKTsKICAgICAgICAgICAgaElUcGhtICcnOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gXFFlX0pJVF9GOUlFbSgpOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSmtVSW0gcjlFZkkgVElscTlFVEkgRlFtVEltVHMuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGUWxxazlJT1Roa21KKCRVRTlwSSk6IHNUaGttSgogICAgewogICAgICAgICRoSXNwOVQgPSAnJzsKICAgICAgICBraSAoXHNUaHFRcygkVUU5cEksICdAVUloZUVUa2wnKSAhPT0gaUU5c0kpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPnNUUWhJQkloZUVUa2xyOVFGOHMoJFVFOXBJKTsKICAgICAgICB9CiAgICAgICAgJFRqa3MtPmlRUVRJaCA9IFtdOwogICAgICAgICsrIFNJaEkgdUkgdWs5OSA5UVFxIFRqaFFwSmogRTk5IFRqSSBUUThJbXMgaElUcGhtSWYgZXYgVGpJIGRJbWYgOUlWSWggRW1mCiAgICAgICAgKysgcUVoc0kgSUVGaiBRbUkga21UUSBUakkgRlFoaElzcVFtZmttSiBVRTlrZiBhU2EuIGJJIHVrOTkgVGpJbSBqRVVJIFRqa3MKICAgICAgICArKyBUSWxxOUVUSSBFcyBUakkgRlFoaElGVDl2IGhJbWZJaElmIGFTYSBUakVUIEZFbSBlSSBoSW1mSWhJZiBtRVRrVUk5di4KICAgICAgICBpUWhJRUZqIChcVFE4SW1fSklUX0U5OSgkVUU5cEkpIEVzICRUUThJbSkgewogICAgICAgICAgICAkaElzcDlUIC49IFxrc19FaGhFdigkVFE4SW0pID8gJFRqa3MtPnFFaHNJSFE4SW0oJFRROEltKSA6ICRUUThJbTsKICAgICAgICB9CiAgICAgICAga2kgKCFJbHFUdigkVGprcy0+VUloZUVUa2xyOVFGOHMpKSB7CiAgICAgICAgICAgICRoSXNwOVQgPSAkVGprcy0+aElzVFFoSUJJaGVFVGtscjlRRjhzKCRoSXNwOVQpOwogICAgICAgIH0KICAgICAgICArKyBLaSBUakloSSBFaEkgRW12IGlRUVRJaCA5a21JcyBUakVUIG1JSWYgVFEgSklUIEVmZklmIFRRIEUgVElscTlFVEkgdUkgdWs5OQogICAgICAgICsrIEVmZiBUaklsIGpJaEkgRVQgVGpJIEltZiBRaSBUakkgVElscTlFVEkuIEhqa3MgSklUcyBwc0lmIGxFa205diBpUWggVGpJCiAgICAgICAgKysgVElscTlFVEkga21qSWhrVEVtRkkgVWtFIFRqSSBJVlRJbWZzIDhJdnVRaGYgVGpFVCBzalFwOWYgZUkgRXFxSW1mSWYuCiAgICAgICAga2kgKFxGUXBtVCgkVGprcy0+aVFRVEloKSA+IHcpIHsKICAgICAgICAgICAgJGhJc3A5VCA9IFw5VGhrbCgkaElzcDlULCBhU2FfZ002KQogICAgICAgICAgICAgICAgLiBhU2FfZ002IC4gXGtscTlRZkkoYVNhX2dNNiwgXEVoaEV2X2hJVUloc0koJFRqa3MtPmlRUVRJaCkpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgIH0KCiAgICArKioKICAgICAqIE9UUWhJIFRqSSBVSWhlRVRrbCBlOVFGOHMgRW1mIGhJcTlFRkkgVGpJbCB1a1RqIEUgVElscVFoRWh2IHE5RUZJalE5ZkloLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc1RRaElCSWhlRVRrbHI5UUY4cygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gXHFoSUpfaElxOUVGSV9GRTk5ZUVGOCgnKyg/PCFAKUBVSWhlRVRrbCguKj8pQEltZlVJaGVFVGtsK3MnLCBpcG1GVGtRbSgkbEVURmpJcykgewogICAgICAgICAgICAkVGprcy0+VUloZUVUa2xyOVFGOHNbXSA9ICRsRVRGaklzW1hdOwogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlVJaGVFVGtsYTlFRklqUTlmSWg7CiAgICAgICAgfSwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIGFFaHNJIFRqSSBUUThJbXMgaWhRbCBUakkgVElscTlFVEkuCiAgICAgKgogICAgICogQHFFaEVsIEVoaEV2ICRUUThJbQogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKgogICAgICogQHNJSSByOUVmSU1tSTo6RlFscWs5SU9URVRJbEltVHMKICAgICAqIEBzSUkgcjlFZklNbUk6OkZRbHFrOUlnVlRJbWZzCiAgICAgKiBAc0lJIHI5RWZJTW1JOjpGUWxxazlJb1FsbEltVHMKICAgICAqIEBzSUkgcjlFZklNbUk6OkZRbHFrOUlnRmpRcwogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUVoc0lIUThJbSgkVFE4SW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBbJGtmLCAkRlFtVEltVF0gPSAkVFE4SW07CiAgICAgICAga2kgKCRrZiA9PSBIX0tBNktBZ19TSDM2KSB7CiAgICAgICAgICAgIGlRaElFRmogKCRUamtzLT5GUWxxazlJaHMgRXMgJFR2cUkpIHsKICAgICAgICAgICAgICAgICRGUW1USW1UID0gJFRqa3MtPnsiRlFscWs5SSRUdnFJIn0oJEZRbVRJbVQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkRlFtVEltVDsKICAgIH0KCiAgICArKioKICAgICAqIE5JcTlFRkkgVGpJIGhFdSBxOUVGSWpROWZJaHMgdWtUaiBUakkgUWhrSmttRTkgRlFmSSBzVFFoSWYga20gVGpJIGhFdSBlOVFGOHMuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkaElzcDlUCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaElzVFFoSUJJaGVFVGtscjlRRjhzKCRoSXNwOVQpOiBzVGhrbUoKICAgIHsKICAgICAgICAkaElzcDlUID0gXHFoSUpfaElxOUVGSV9GRTk5ZUVGOCgnKycgLiBccWhJSl9ScFFUSSgkVGprcy0+VUloZUVUa2xhOUVGSWpROWZJaCkgLiAnKycsIGlwbUZUa1FtKCkgewogICAgICAgICAgICBoSVRwaG0gXEVoaEV2X3Nqa2lUKCRUamtzLT5VSWhlRVRrbHI5UUY4cyk7CiAgICAgICAgfSwgJGhJc3A5VCk7CiAgICAgICAgJFRqa3MtPlVJaGVFVGtscjlRRjhzID0gW107CiAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICB9CgogICAgKyoqCiAgICAgKiBrVCBGRTlGcDlFVElzIFRqSSBoSTlFVGtVSSBxRVRqIFFpIEUgdUllLjxlaD4KICAgICAqIEhqa3MgaXBtRlRrUW0gcHNJcyBUakkgRnBoaEltVCBwaDkgRW1mIFRqSSBlRXNJcGg5CiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkaEk5RVRrVUliSWUgLiBnVkVscTlJIGtsSitrbEVKSXMuTHFKCiAgICAgKiBAaElUcGhtIHNUaGttSiAgZ1ZFbHE5SSAuLisuLitrbEora2xFSklzLkxxSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaEk5RVRrVUkoJGhJOUVUa1VJYkllKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5Fc3NJVG5rRlRbJGhJOUVUa1VJYkllXSA/PyAoJFRqa3MtPmhJOUVUa1VJYUVUaiAuICRoSTlFVGtVSWJJZSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBFZmZzIEVtIEU5a0VzIFRRIFRqSSA5a204IFFpIFRqSSBoSXNRcGhGSXMuPGVoPgogICAgICogRWZmdHNzSVRua0ZUKCdtRWxJJywncGg5K2hJcy5McUonKTxlaD4KICAgICAqIEVmZnRzc0lUbmtGVChbJ21FbEknPT4ncGg5K2hJcy5McUonLCdtRWxJeCc9PidwaDkraElzeC5McUonXSk7CiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdiAkbUVsSSBJVkVscTlJICdGc3Mrc1R2OUkuRnNzJywgdlFwIEZRcDlmIEU5c1EgRWZmIEVtIEVoaEV2CiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgICRwaDkgIElWRWxxOUkgalRUcXM6Kyt1dXUudUllLkZRbCtzVHY5SS5Gc3MnCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZ0c3NJVG5rRlQoJG1FbEksICRwaDkgPSAnJyk6IFVRa2YKICAgIHsKICAgICAgICBraSAoXGtzX0VoaEV2KCRtRWxJKSkgewogICAgICAgICAgICBraSAoJFRqa3MtPkVzc0lUbmtGVCA9PT0gbXA5OSkgewogICAgICAgICAgICAgICAgJFRqa3MtPkVzc0lUbmtGVCA9ICRtRWxJOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJFRqa3MtPkVzc0lUbmtGVCA9IFxFaGhFdl9sSWhKSSgkVGprcy0+RXNzSVRua0ZULCAkbUVsSSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+RXNzSVRua0ZUWyRtRWxJXSA9ICRwaDk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgcXBzaiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKiBAc0lJIHI5RWZJTW1JOjpzVEVoVGFwc2oKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZRbHFrOUlhcHNqKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiXCRUamtzLT5zVEVoVGFwc2okSVZxaElzc2tRbTsgPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgcXBzaiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKiBAc0lJIHI5RWZJTW1JOjpzVEVoVGFwc2oKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZRbHFrOUlhcHNqTW1GSSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICQ4SXYgPSAnJF9fcXBzalFtRklfXycgLiBcVGhrbChcc3Blc1RoKCRJVnFoSXNza1FtLCB4LCAteCkpOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpKCFrc3NJVCgkOEl2KSk6ICQ4SXY9WDsgIFwkVGprcy0+c1RFaFRhcHNqJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHFwc2ogc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6c1RFaFRhcHNqCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGUWxxazlJYWhJcUltZigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIlwkVGprcy0+c1RFaFRhcHNqJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIE9URWhUIGttTElGVGttSiBGUW1USW1UIGttVFEgRSBxcHNqIHNJRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkc0lGVGtRbQogICAgICogQHFFaEVsIHNUaGttSiAkRlFtVEltVAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzVEVoVGFwc2ooJHNJRlRrUW0sICRGUW1USW1UID0gJycpOiBVUWtmCiAgICB7CiAgICAgICAga2kgKCRGUW1USW1UID09PSAnJykgewogICAgICAgICAgICBraSAoXFFlX3NURWhUKCkpIHsKICAgICAgICAgICAgICAgICRUamtzLT5xcHNqT1RFRjhbXSA9ICRzSUZUa1FtOwogICAgICAgICAgICB9CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPklWVEltZmFwc2ooJHNJRlRrUW0sICRGUW1USW1UKTsKICAgICAgICB9CiAgICB9CgogICAgKyoKICAgICAqIEltZnN1a1RGaiBURUoKICAgICAqKwogICAgKyoqCiAgICAgKiB0cXFJbWYgRlFtVEltVCBUUSBFIEprVUltIHFwc2ogc0lGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRzSUZUa1FtCiAgICAgKiBAcUVoRWwgc1Roa21KICRGUW1USW1UCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIElWVEltZmFwc2ooJHNJRlRrUW0sICRGUW1USW1UKTogVVFrZgogICAgewogICAgICAgIGtpICgha3NzSVQoJFRqa3MtPnFwc2pJc1skc0lGVGtRbV0pKSB7CiAgICAgICAgICAgICRUamtzLT5xcHNqSXNbJHNJRlRrUW1dID0gW107ICsrIHNURWhUIEVtIElscVR2IHNJRlRrUW0KICAgICAgICB9CiAgICAgICAga2kgKCFrc3NJVCgkVGprcy0+cXBzaklzWyRzSUZUa1FtXVskVGprcy0+aEltZklob1FwbVRdKSkgewogICAgICAgICAgICAkVGprcy0+cXBzaklzWyRzSUZUa1FtXVskVGprcy0+aEltZklob1FwbVRdID0gJEZRbVRJbVQ7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPnFwc2pJc1skc0lGVGtRbV1bJFRqa3MtPmhJbWZJaG9RcG1UXSAuPSAkRlFtVEltVDsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBPVEVoVCBrbUxJRlRrbUogRlFtVEltVCBrbVRRIEUgcXBzaiBzSUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJHNJRlRrUW0KICAgICAqIEBxRWhFbCBzVGhrbUogJEZRbVRJbVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1RFaFRhaElxSW1mKCRzSUZUa1FtLCAkRlFtVEltVCA9ICcnKTogVVFrZgogICAgewogICAgICAgIGtpICgkRlFtVEltVCA9PT0gJycpIHsKICAgICAgICAgICAga2kgKFxRZV9zVEVoVCgpKSB7CiAgICAgICAgICAgICAgICBcRWhoRXZfcG1zamtpVCgkVGprcy0+cXBzak9URUY4W10sICRzSUZUa1FtKTsKICAgICAgICAgICAgfQogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5JVlRJbWZhcHNqKCRzSUZUa1FtLCAkRlFtVEltVCk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogT1RRcSBrbUxJRlRrbUogRlFtVEltVCBrbVRRIEUgcXBzaiBzSUZUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzVFFxYXBzaigpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoSWxxVHYoJFRqa3MtPnFwc2pPVEVGOCkpIHsKICAgICAgICAgICAgJFRqa3MtPnNqUXVnaGhRaCgnc1RRcWFwc2onLCAnb0VtbVFUIEltZiBFIHNJRlRrUW0gdWtUalFwVCBpa2hzVCBzVEVoVGttSiBRbUknLCBUaHBJKTsKICAgICAgICB9CiAgICAgICAgJDlFc1QgPSBcRWhoRXZfcVFxKCRUamtzLT5xcHNqT1RFRjgpOwogICAgICAgICRUamtzLT5JVlRJbWZhcHNqKCQ5RXNULCBcUWVfSklUX0Y5SUVtKCkpOwogICAgICAgIGhJVHBobSAkOUVzVDsKICAgIH0KCiAgICArKioKICAgICAqIE9UUXEga21MSUZUa21KIEZRbVRJbVQga21UUSBFIHFwc2ogc0lGVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1RRcWFoSXFJbWYoKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKElscVR2KCRUamtzLT5xcHNqT1RFRjgpKSB7CiAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ3NUUXFhaElxSW1mJywgJ29FbW1RVCBJbWYgRSBzSUZUa1FtIHVrVGpRcFQgaWtoc1Qgc1RFaFRrbUogUW1JJywgVGhwSSk7CiAgICAgICAgfQogICAgICAgICQ5RXNUID0gXEVoaEV2X3Nqa2lUKCRUamtzLT5xcHNqT1RFRjgpOwogICAgICAgICRUamtzLT5JVlRJbWZPVEVoVGFwc2ooJDlFc1QsIFxRZV9KSVRfRjlJRW0oKSk7CiAgICAgICAgaElUcGhtICQ5RXNUOwogICAgfQoKICAgICsqKgogICAgICogdHFxSW1mIEZRbVRJbVQgVFEgRSBKa1VJbSBxcHNqIHNJRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkc0lGVGtRbQogICAgICogQHFFaEVsIHNUaGttSiAkRlFtVEltVAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJVlRJbWZPVEVoVGFwc2ooJHNJRlRrUW0sICRGUW1USW1UKTogVVFrZgogICAgewogICAgICAgIGtpICgha3NzSVQoJFRqa3MtPnFwc2pJc1skc0lGVGtRbV0pKSB7CiAgICAgICAgICAgICRUamtzLT5xcHNqSXNbJHNJRlRrUW1dID0gW107ICsrIHNURWhUIEVtIElscVR2IHNJRlRrUW0KICAgICAgICB9CiAgICAgICAga2kgKCFrc3NJVCgkVGprcy0+cXBzaklzWyRzSUZUa1FtXVskVGprcy0+aEltZklob1FwbVRdKSkgewogICAgICAgICAgICAkVGprcy0+cXBzaklzWyRzSUZUa1FtXVskVGprcy0+aEltZklob1FwbVRdID0gJEZRbVRJbVQ7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPnFwc2pJc1skc0lGVGtRbV1bJFRqa3MtPmhJbWZJaG9RcG1UXSA9ICRGUW1USW1UIC4gJFRqa3MtPnFwc2pJc1skc0lGVGtRbV1bJFRqa3MtPmhJbWZJaG9RcG1UXTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHNUaGttSiBGUW1USW1UcyBRaSBFIHFwc2ogc0lGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRzSUZUa1FtIFRqSSBtRWxJIFFpIFRqSSBzSUZUa1FtCiAgICAgKiBAcUVoRWwgc1Roa21KICRmSWlFcDlUIFRqSSBmSWlFcDlUIG1FbEkgUWkgVGpJIHNJRlRrUW0ga3MgbVFUIGlRcG1mLgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHZrSTlmYXBzam9RbVRJbVQoJHNJRlRrUW0sICRmSWlFcDlUID0gJycpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoJHNJRlRrUW0gPT09IG1wOTkgfHwgJHNJRlRrUW0gPT09ICcnKSB7CiAgICAgICAgICAgIGhJVHBobSAkZklpRXA5VDsKICAgICAgICB9CiAgICAgICAga2kgKCRzSUZUa1FtWy1YXSA9PT0gJyonKSB7CiAgICAgICAgICAgICQ4SXZzID0gRWhoRXZfOEl2cygkVGprcy0+cXBzaklzKTsKICAgICAgICAgICAgJGlrbWZsSSA9IGhUaGtsKCRzSUZUa1FtLCAnKicpOwogICAgICAgICAgICAkaElzcDlUID0gIiI7CiAgICAgICAgICAgIGlRaElFRmogKCQ4SXZzIEVzICQ4SXYpIHsKICAgICAgICAgICAgICAgIGtpIChzVGhxUXMoJDhJdiwgJGlrbWZsSSkgPT09IHcpIHsKICAgICAgICAgICAgICAgICAgICAkaElzcDlUIC49IFxrbHE5UWZJKFxFaGhFdl9oSVVJaHNJKCRUamtzLT5xcHNqSXNbJDhJdl0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgICAgICB9CQkrK2ZwbHEoJFRqa3MtPnFwc2pJcyk7CiAgICAgICAga2kgKCFrc3NJVCgkVGprcy0+cXBzaklzWyRzSUZUa1FtXSkpIHsKICAgICAgICAgICAgaElUcGhtICRmSWlFcDlUOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gXGtscTlRZkkoXEVoaEV2X2hJVUloc0koJFRqa3MtPnFwc2pJc1skc0lGVGtRbV0pKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgc1Roa21KIEZRbVRJbVRzIFFpIEUgcXBzaiBzSUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBrbVR8c1Roa21KICRJRUZqIGtpICJrbVQiLCBUakltIGtUIHNxOWtUIFRqSSBpUWhJRUZqIElVSWh2ICRJRUZqIG1wbGVJaHMuPGVoPgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAga2kgInNUaGttSiIgUWggIkZZIiwgVGpJbSBrVCBsSUVtcyBUakVUIGtUIHVrOTkgc3E5a1Qga20gWSBGUTlwbG1zPGVoPgogICAgICogQHFFaEVsIHNUaGttSiAgICAgJHNxOWtUSElWVAogICAgICogQHFFaEVsIHNUaGttSiAgICAgJHNxOWtUZ21mCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc3E5a1QyUWhJRUZqKCRJRUZqID0gWCwgJHNxOWtUSElWVCA9ICcsJywgJHNxOWtUZ21mID0gJycpOiBzVGhrbUoKICAgIHsKICAgICAgICAkOVFRcU9URUY4ID0gc1RFVGtGOjo5RXNUKCRUamtzLT45UVFxc09URUY4KTsgKysgRWhoRXYoNCkgeyBbImttZklWIl09PiBrbVQodykgWyJoSWxFa21rbUoiXT0+IGttVCh6KSBbIkZRcG1UIl09PiBrbVQoWikgWyJpa2hzVCJdPT4gZVFROShUaHBJKSBbIjlFc1QiXT0+IGVRUTkoaUU5c0kpIFsiZklxVGoiXT0+IGttVChYKSBbInFFaEltVCJdPT4gQVA2NiB9CiAgICAgICAga2kgKCgkOVFRcU9URUY4WydrbWZJViddKSA9PSAkOVFRcU9URUY4WydGUXBtVCddIC0gWCkgewogICAgICAgICAgICBoSVRwaG0gJHNxOWtUZ21mOwogICAgICAgIH0KICAgICAgICAkSUVGakEgPSB3OwogICAgICAgIGtpIChrc19tcGxJaGtGKCRJRUZqKSkgewogICAgICAgICAgICAkSUVGakEgPSAkSUVGajsKICAgICAgICB9IEk5c0lraSAoc1RoOUltKCRJRUZqKSA+IFgpIHsKICAgICAgICAgICAga2kgKCRJRUZqW3ddID09PSAnRicpIHsKICAgICAgICAgICAgICAgICRJRUZqQSA9IGhRcG1mKCQ5UVFxT1RFRjhbJ0ZRcG1UJ10gKyBzcGVzVGgoJElFRmosIFgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRJRUZqQSA9IGFTYV9LQUhfM3RDOwogICAgICAgIH0KICAgICAgICBraSAoKCQ5UVFxT1RFRjhbJ2ttZklWJ10gLyBYKSAlICRJRUZqQSA9PT0gdykgewogICAgICAgICAgICBoSVRwaG0gJHNxOWtUSElWVDsKICAgICAgICB9CiAgICAgICAgaElUcGhtICcnOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIFRqSSA5RXNUIEk5SWxJbVQga20gRW0gRWhoRXYgcUVzc2ttSiBFIEprVUltIFRocFRqIFRJc1QuCiAgICAgKgogICAgICogQHFFaEVsIEVoaEV2ICAgICAgICAgJEVoaEV2CiAgICAgKiBAcUVoRWwgRkU5OUVlOUl8bXA5OSAkRkU5OWVFRjgKICAgICAqIEBxRWhFbCBsa1ZJZiAgICAgICAgICRmSWlFcDlUCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gOUVzVCgkRWhoRXYsIEZFOTlFZTlJICRGRTk5ZUVGOCA9IG1wOTksICRmSWlFcDlUID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoXGtzX21wOTkoJEZFOTllRUY4KSkgewogICAgICAgICAgICBoSVRwaG0gSWxxVHYoJEVoaEV2KSA/IHNURVRrRjo6VUU5cEkoJGZJaUVwOVQpIDogXEltZigkRWhoRXYpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gc1RFVGtGOjppa2hzVChcRWhoRXZfaElVSWhzSSgkRWhoRXYpLCAkRkU5OWVFRjgsICRmSWlFcDlUKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVHBobSBUakkgZklpRXA5VCBVRTlwSSBRaSBUakkgSmtVSW0gVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsIGxrVklmICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIFVFOXBJKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFVFOXBJIGttc1RFbUZJUWkgbzlRc3BoSSA/ICRVRTlwSSgpIDogJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIFRqSSBpa2hzVCBJOUlsSW1UIGttIEVtIEVoaEV2IHFFc3NrbUogRSBKa1VJbSBUaHBUaiBUSXNULgogICAgICoKICAgICAqIEBxRWhFbCBFaGhFdiAgICAgICAgICRFaGhFdgogICAgICogQHFFaEVsIEZFOTlFZTlJfG1wOTkgJEZFOTllRUY4CiAgICAgKiBAcUVoRWwgbGtWSWYgICAgICAgICAkZklpRXA5VAogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGlraHNUKCRFaGhFdiwgRkU5OUVlOUkgJEZFOTllRUY4ID0gbXA5OSwgJGZJaUVwOVQgPSBtcDk5KQogICAgewogICAgICAgIGtpIChca3NfbXA5OSgkRkU5OWVFRjgpKSB7CiAgICAgICAgICAgIGhJVHBobSBJbHFUdigkRWhoRXYpID8gc1RFVGtGOjpVRTlwSSgkZklpRXA5VCkgOiBcaElzSVQoJEVoaEV2KTsKICAgICAgICB9CiAgICAgICAgaVFoSUVGaiAoJEVoaEV2IEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgIGtpICgkRkU5OWVFRjgoJDhJdiwgJFVFOXBJKSkgewogICAgICAgICAgICAgICAgaElUcGhtICRVRTlwSTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gc1RFVGtGOjpVRTlwSSgkZklpRXA5VCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgc1Roa21KICRtRWxJCiAgICAgKiBAcUVoRWwgICAgICAgICRFaEpzIFtdCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyByRWYzSVRqUWZvRTk5Z1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZFOTkoJG1FbEksICRFaEpzKQogICAgewogICAgICAgIGtpICgkbUVsSSA9PT0gJ2tpJykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmhJSmtzVEloS2lPVEVUSWxJbVQoJEVoSnNbd10gPz8gbXA5OSwgJEVoSnNbWF0gPz8gbXA5OSk7CiAgICAgICAgfQogICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ0ZFOTknLCAiaXBtRlRrUW0gJG1FbEkga3MgbVFUIGZJaWttSWY8ZWg+IiwgVGhwSSwgVGhwSSk7CiAgICAgICAgaElUcGhtICcnOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRW0gImtpIiBzVEVUSWxJbVQgZmtoSUZUa1VJLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogICAkbUVsSQogICAgICogQHFFaEVsIEZFOTlFZTlJICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJSmtzVEloS2lPVEVUSWxJbVQoJG1FbEksIEZFOTlFZTlJICRGRTk5ZUVGOCk6IHNUaGttSgogICAgewogICAgICAgICRUamtzLT5GUW1ma1RrUW1zWyRtRWxJXSA9ICRGRTk5ZUVGODsKICAgICAgICAkVGprcy0+ZmtoSUZUa1VJKCRtRWxJLCBpcG1GVGtRbSgkSVZxaElzc2tRbSkgcHNJICgkbUVsSSkgewogICAgICAgICAgICAkVGxxID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgICAgICBoSVRwaG0gJElWcWhJc3NrUW0gIT09ICcnCiAgICAgICAgICAgICAgICA/ICRUamtzLT5xanFIRUogLiAiIGtpIChcJFRqa3MtPkZqSUY4KCckbUVsSScsICRUbHEpKTogPz4iCiAgICAgICAgICAgICAgICA6ICRUamtzLT5xanFIRUogLiAiIGtpIChcJFRqa3MtPkZqSUY4KCckbUVsSScpKTogPz4iOwogICAgICAgIH0pOwogICAgICAgICRUamtzLT5ma2hJRlRrVUkoJ0k5c0knIC4gJG1FbEksIGlwbUZUa1FtKCRJVnFoSXNza1FtKSBwc0kgKCRtRWxJKSB7CiAgICAgICAgICAgICRUbHEgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAgICAgIGhJVHBobSAkSVZxaElzc2tRbSAhPT0gJycKICAgICAgICAgICAgICAgID8gJFRqa3MtPnFqcUhFSiAuICIgSTlzSWtpIChcJFRqa3MtPkZqSUY4KCckbUVsSScsICRUbHEpKTogPz4iCiAgICAgICAgICAgICAgICA6ICRUamtzLT5xanFIRUogLiAiIEk5c0lraSAoXCRUamtzLT5GaklGOCgnJG1FbEknKSk6ID8+IjsKICAgICAgICB9KTsKICAgICAgICAkVGprcy0+ZmtoSUZUa1VJKCdJbWYnIC4gJG1FbEksIGlwbUZUa1FtKCkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICcgSW1ma2k7ID8+JzsKICAgICAgICB9KTsKICAgICAgICBoSVRwaG0gJyc7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaklGOCBUakkgaElzcDlUIFFpIEUgRlFtZmtUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJG1FbEkKICAgICAqIEBxRWhFbCBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRmpJRjgoJG1FbEksIC4uLiRxRWhFbElUSWhzKTogZVFROQogICAgewogICAgICAgIGhJVHBobSBcRkU5OV9wc0loX2lwbUYoJFRqa3MtPkZRbWZrVGtRbXNbJG1FbEldLCAuLi4kcUVoRWxJVElocyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgZVFROSAgICRlUVE5CiAgICAgKiBAcUVoRWwgc1Roa21KICRVa0l1ICBtRWxJIFFpIFRqSSBVa0l1CiAgICAgKiBAcUVoRWwgRWhoRXYgICRVRTlwSSBFaGhFdnMgUWkgVUU5cElzCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttRjlwZkliakltKCRlUVE5ID0gaUU5c0ksICRVa0l1ID0gJycsICRVRTlwSSA9IFtdKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKCRlUVE5KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aHBtb2prOWYoJFVrSXUsICRVRTlwSSk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAnJzsKICAgIH0KCiAgICArKioKICAgICAqIDNFRmhRIFFpIGlwbUZUa1FtIGhwbS4gTnBtRmprOWYgZUVGOHBxcyBUakkgUXFJaEVUa1Ftcywgc1Ega1Qga3Mga2ZJRTkgVFEgaHBtIEVzIEUgRmprOWYgcWhRRklzcyB1a1RqUXBUCiAgICAgKiBrbVRJaFVrbWttSiB1a1RqIFFUakloIHFoUUZJc3NJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgICAgICAgJFVrSXUKICAgICAqIEBxRWhFbCBFaGhFdiAkVUVoa0VlOUlzCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhwbW9qazlmKCRVa0l1LCRVRWhrRWU5SXMgPSBbXSk6IHNUaGttSgogICAgewogICAgICAgIGtpIChca3NfRWhoRXYoJFVFaGtFZTlJcykpIHsKICAgICAgICAgICAga2kgKCRUamtzLT5rbUY5cGZJT0ZRcUkpIHsKICAgICAgICAgICAgICAgICRlRUY4cHEgPSAkVGprcy0+VUVoa0VlOUlzOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJGVFRjhwcSA9IG1wOTk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJG1JdUJFaGtFZTlJcyA9IFxFaGhFdl9sSWhKSSgkVGprcy0+VUVoa0VlOUlzLCAkVUVoa0VlOUlzKTsKICAgICAgICAgICAgJGVFRjhwcW9RbVRoUTlPVEVGOD0kVGprcy0+RlFtVGhROU9URUY4OwogICAgICAgICAgICAkZUVGOHBxT0lGVGtRbU9URUY4PSRUamtzLT5zSUZUa1FtT1RFRjg7CiAgICAgICAgICAgICRlRUY4cHE2UVE4T1RFRjg9JFRqa3MtPjlRUXFzT1RFRjg7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPnNqUXVnaGhRaCgnaHBtK2ttRjlwZkknLCAiTnBtb2prOWY6IEttRjlwZkkraHBtIFVFaGtFZTlJcyBzalFwOWYgZUkgZklpa21JZiBFcyBFaGhFdiBbJ2tmVic9PidVRTlwSSddIiwgVGhwSSk7CiAgICAgICAgICAgIGhJVHBobSAnJzsKICAgICAgICB9CiAgICAgICAgJGggPSAkVGprcy0+aHBtS21USWhtRTkoJFVrSXUsICRtSXVCRWhrRWU5SXMsIGlFOXNJLCAkVGprcy0+a3NOcG0yRXNUKTsKICAgICAgICBraSAoJGVFRjhwcSAhPT0gbXA5OSkgewogICAgICAgICAgICAkVGprcy0+VUVoa0VlOUlzID0gJGVFRjhwcTsKICAgICAgICB9CiAgICAgICAgJFRqa3MtPkZRbVRoUTlPVEVGOD0kZUVGOHBxb1FtVGhROU9URUY4OwogICAgICAgICRUamtzLT5zSUZUa1FtT1RFRjg9JGVFRjhwcU9JRlRrUW1PVEVGODsKICAgICAgICAkVGprcy0+OVFRcXNPVEVGOD0kZUVGOHBxNlFROE9URUY4OwoKICAgICAgICBoSVRwaG0gJGg7CiAgICB9CgogICAgKyoqCiAgICAgKiBocG0gVGpJIGU5RWZJIEltSmttSS4gS1QgaElUcGhtcyBUakkgaElzcDlUIFFpIFRqSSBGUWZJLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFVrSXUKICAgICAqIEBxRWhFbCBFaGhFdiAgJFVFaGtFZTlJcwogICAgICogQHFFaEVsIGVRUTkgICAkaVFoRklmICBraSBUaHBJIFRqSW0ga1QgaElGUWxxazlJcyBtUSBsRVRUSWgga2kgVGpJIEZRbHFrOUlmIGlrOUkgSVZrc1RzIFFoIG1RVC4KICAgICAqIEBxRWhFbCBlUVE5ICAgJGhwbTJFc1Qga2kgVGhwSSBUakltIFRqSSBGUWZJIGtzIG1RVCBGUWxxazlJZiBtSWtUakloIEZqSUY4SWYsIEVtZiBrVCBocG1zIGZraElGVDl2IFRqSSBGUWxxazlJZgogICAgICogICAgICAgICAgICAgICAgICAgICAgICBVSWhza1FtLgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBUamhRdXMgZ1ZGSXFUa1FtCiAgICAgKiBAbVFrbXNxSUZUa1FtIGFqcVBtcHNJZmFFaEVsSVRJaEttc3FJRlRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhwbUttVElobUU5KHNUaGttSiAkVWtJdSwgJFVFaGtFZTlJcyA9IFtdLCAkaVFoRklmID0gaUU5c0ksICRocG0yRXNUID0gaUU5c0kpOiBzVGhrbUoKICAgIHsKICAgICAgICBGOVFGOCgpLT5JVUltVCgnQmtJdTogJy4gJFVrSXUpLT5GUTlRaCgnZTlwSScpLT5lSUprbSgpOwogICAgICAgICRUamtzLT5GcGhoSW1UQmtJdSA9ICRVa0l1OwogICAgICAgIGtpIChAXEZRcG1UKCRUamtzLT5GUWxxUXNJaE9URUY4KSkgewogICAgICAgICAgICAkVGprcy0+SVVFOW9RbHFRc0loKCRVa0l1KTsKICAgICAgICB9CiAgICAgICAga2kgKEBcRlFwbVQoJFRqa3MtPlVFaGtFZTlJczA5UWVFOSkgPiB3KSB7CiAgICAgICAgICAgICRUamtzLT5VRWhrRWU5SXMgPSBcRWhoRXZfbEloSkkoJFVFaGtFZTlJcywgJFRqa3MtPlVFaGtFZTlJczA5UWVFOSk7CiAgICAgICAgICAgICsrJFRqa3MtPlVFaGtFZTlJczA5UWVFOSA9IFtdOyArKyBwc0lmIHNRIHVJIGZJOUlUSSBrVC4KICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+VUVoa0VlOUlzID0gJFVFaGtFZTlJczsKICAgICAgICB9CiAgICAgICAga2kgKCEkaHBtMkVzVCkgewogICAgICAgICAgICArKyBFKSBraSBUakkgIkZRbHFrOUkiIGtzIGlRaEZJZiBUakltIHVJIEZRbHFrOUkgVGpJIFFoa0prbUU5IGlrOUksIFRqSW0gc0VVSSBUakkgaWs5SS4KICAgICAgICAgICAgKysgZSkga2kgVGpJICJGUWxxazlJIiBrcyBtUVQgaVFoRklmIFRqSW0gdUkgaElFZiBUakkgZkVUSVRrbEkgUWkgZVFUaiBpazlJLCBFbWYgdUkgRlFscUVoSWYuCiAgICAgICAgICAgICsrIEYpIGttIGVRVGogRkVzSXMsIGtpIFRqSSBGUWxxazlJZiBmUUlzbSdUIElWa3NUIFRqSW0gdUkgRlFscWs5SS4KICAgICAgICAgICAga2kgKCRVa0l1KSB7CiAgICAgICAgICAgICAgICAkVGprcy0+aWs5SUFFbEkgPSAkVWtJdTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkaElzcDlUID0gJFRqa3MtPkZRbHFrOUkoJFVrSXUsICRpUWhGSWYpOwogICAgICAgICAgICBraSAoISRUamtzLT5rc29RbHFrOUlmKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPklVRTlwRVRJSElWVCgkaElzcDlULCAkVGprcy0+VUVoa0VlOUlzKTsKICAgICAgICAgICAgfQogICAgICAgIH0gSTlzSWtpICgkVWtJdSkgewogICAgICAgICAgICAkVGprcy0+aWs5SUFFbEkgPSAkVWtJdTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5rc05wbTJFc1QgPSAkaHBtMkVzVDsKICAgICAgICBGOVFGOCgpLT5JVUltVCgnQmtJdTogJy4gJFVrSXUpLT5JbWYoKTsKICAgICAgICBoSVRwaG0gJFRqa3MtPklVRTlwRVRJYUVUaigkVGprcy0+SklUb1FscWs5SWYyazlJKCksICRUamtzLT5VRWhrRWU5SXMpOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJVUU5b1FscVFzSWgoJFVrSXUpOiBVUWtmCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkZRbHFRc0loT1RFRjggRXMgJFVrSXUxSXYgPT4gJGltKSB7CiAgICAgICAgICAgIGtpICgkVGprcy0+dWs5Zm9FaGZvUWxxRWhrc1FtKCRVa0l1LCAkVWtJdTFJdikpIHsKICAgICAgICAgICAgICAgIGtpIChrc19GRTk5RWU5SSgkaW0pKSB7CiAgICAgICAgICAgICAgICAgICAgJGltKCRUamtzKTsKICAgICAgICAgICAgICAgIH0gSTlzSWtpICgkVGprcy0+bElUalFmZ1Zrc1RzT1RFVGtGKCRpbSwgJ0ZRbHFRc0loJykpIHsKICAgICAgICAgICAgICAgICAgICArKyBraSBUakkgbElUalFmIElWa3NUcyBzVEVUa0ZFOTl2IFRqSW0gJGltIGtzIFRqSSBGOUVzcyBFbWYgJ0ZRbHFRc0loJyBrcyBUakkgbUVsSSBRaSBUakkgbElUalFmCiAgICAgICAgICAgICAgICAgICAgJGltOjpGUWxxUXNJaCgkVGprcyk7CiAgICAgICAgICAgICAgICB9IEk5c0lraSAoa3NfUWVMSUZUKCRpbSkgfHwgRjlFc3NfSVZrc1RzKCRpbSkpIHsKICAgICAgICAgICAgICAgICAgICArKyBraSAkaW0ga3MgRW0gUWVMSUZULCBRaCBrVCBrcyBFIEY5RXNzIEVtZiBUakkgRjlFc3MgSVZrc1RzLgogICAgICAgICAgICAgICAgICAgICRrbXNURW1GSSA9IChrc19RZUxJRlQoJGltKSkgPyAkaW0gOiBtSXUgJGltKCk7CiAgICAgICAgICAgICAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoJGttc1RFbUZJLCAnRlFscVFzSWgnKSkgewogICAgICAgICAgICAgICAgICAgICAgICArKyBFbWYgVGpJIGxJVGpRZiBJVmtzVHMga21za2ZJIFRqSSBrbXNURW1GSS4KICAgICAgICAgICAgICAgICAgICAgICAgJGttc1RFbUZJLT5GUWxxUXNJaCgkVGprcyk7CiAgICAgICAgICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICAgICAgICAga2kgKCRUamtzLT5sUWZJID09PSBzSTlpOjozTW5nX25nclAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdJVUU5b1FscVFzSWgnLCAicjlFZklNbUk6IEZRbHFRc0loKCkgRWZmSWYgRW0ga21GUWhoSUZUIGxJVGpRZiBbJGltXSIsIFRocEksIFRocEkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaElUcGhtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ0lVRTlvUWxxUXNJaCcsICdyOUVmSU1tSTogRlFscVFzSWgoKSBFZmZJZiBFbSBrbUZRaGhJRlQgbElUalFmJywgVGhwSSwgVGhwSSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGhJVHBobTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ0lVRTlvUWxxUXNJaCcsICdyOUVmSU1tSTogRlFscVFzSWgoKSBFZmZJZiBFbSBrbUZRaGhJRlQgbElUalFmJywgVGhwSSwgVGhwSSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBGUWxxRWhJcyB1a1RqIHVrOWZGRWhmcyAoKikgRW1mIGhJVHBobXMgVGhwSSBraSBlUVRqIHNUaGttSnMgRWhJIElScEU5czxlaD4KICAgICAqIEhqSSB1azlmRkVoZnMgUW05diB1UWg4cyBFVCBUakkgZUlKa21ta21KIEVtZitRaCBFVCBUakkgSW1mIFFpIFRqSSBzVGhrbUouPGVoPgogICAgICogKipnVkVscTlJOioqPGVoPgogICAgICogYGBgcWpxCiAgICAgKiBISVZUOjp1azlmb0VoZm9RbHFFaGtzUW0oJ0VlRmZJaScsJ0VlRionKTsgKysgVGhwSQogICAgICogSElWVDo6dWs5Zm9FaGZvUWxxRWhrc1FtKCdFZUZmSWknLCcqZklpJyk7ICsrIFRocEkKICAgICAqIEhJVlQ6OnVrOWZvRWhmb1FscUVoa3NRbSgnRWVGZklpJywnKkVlRionKTsgKysgVGhwSQogICAgICogSElWVDo6dWs5Zm9FaGZvUWxxRWhrc1FtKCdFZUZmSWknLCcqRmZJKicpOyArKyBUaHBJCiAgICAgKiBISVZUOjp1azlmb0VoZm9RbHFFaGtzUW0oJ0VlRmZJaScsJypGZkknKTsgKysgaUU5c0kKICAgICAqCiAgICAgKiBgYGAKICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgJFRJVlQKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkVElWVGJrVGpiazlmRkVoZgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gdWs5Zm9FaGZvUWxxRWhrc1FtKCRUSVZULCAkVElWVGJrVGpiazlmRkVoZik6IGVRUTkKICAgIHsKICAgICAgICBraSAoKCRUSVZUYmtUamJrOWZGRWhmID09PSBtcDk5IHx8ICRUSVZUYmtUamJrOWZGRWhmID09PSAnJykKICAgICAgICAgICAgfHwgc1RocVFzKCRUSVZUYmtUamJrOWZGRWhmLCAnKicpID09PSBpRTlzSQogICAgICAgICkgewogICAgICAgICAgICArKyBraSBUakkgVElWVCB1a1RqIHVrOWZGRWhmIGtzIG1wOTkgUWggSWxxVHYsIFFoIGtUIEZRbVRFa21zIFR1USAqKiBRaCBrVCBGUW1URWttcyBtUSAqIFRqSW0uLgogICAgICAgICAgICBoSVRwaG0gJFRJVlQgPT0gJFRJVlRia1RqYms5ZkZFaGY7CiAgICAgICAgfQogICAgICAgIGtpICgkVElWVGJrVGpiazlmRkVoZiA9PT0gJyonIHx8ICRUSVZUYmtUamJrOWZGRWhmID09PSAnKionKSB7CiAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgIH0KICAgICAgICAkRncgPSAkVElWVGJrVGpiazlmRkVoZlt3XTsKICAgICAgICAkRlggPSBzcGVzVGgoJFRJVlRia1RqYms5ZkZFaGYsIC1YKTsKICAgICAgICAkVElWVGJrVGpiazlmRkVoZm85SUVtID0gc1RoX2hJcTlFRkkoJyonLCAnJywgJFRJVlRia1RqYms5ZkZFaGYpOwogICAgICAgICRxdyA9IHNUaHFRcygkVElWVCwgJFRJVlRia1RqYms5ZkZFaGZvOUlFbSk7CiAgICAgICAga2kgKCRxdyA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgKysgbVEgbEVURmpJcy4KICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KICAgICAgICBraSAoJEZ3ID09PSAnKicgJiYgJEZYID09PSAnKicpIHsKICAgICAgICAgICAgKysgJFRJVlRia1RqYms5ZkZFaGY9JypFc0VzRXNFcyonCiAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgIH0KICAgICAgICBraSAoJEZYID09PSAnKicpIHsKICAgICAgICAgICAgKysgJFRJVlRia1RqYms5ZkZFaGY9J0VzRXNFc0VzKicKICAgICAgICAgICAgaElUcGhtICRxdyA9PT0gdzsKICAgICAgICB9CiAgICAgICAgKysgJFRJVlRia1RqYms5ZkZFaGY9JypFc0VzRXNFcycKICAgICAgICAkOUltID0gc1RoOUltKCRUSVZUYmtUamJrOWZGRWhmbzlJRW0pOwogICAgICAgIGhJVHBobSAoc3Blc1RoKCRUSVZULCAtJDlJbSkgPT09ICRUSVZUYmtUamJrOWZGRWhmbzlJRW0pOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBsSVRqUWZnVmtzVHNPVEVUa0YoJEY5RXNzLCAkbElUalFmKTogZVFROQogICAgewogICAgICAgIFRodiB7CiAgICAgICAgICAgIGhJVHBobSAobUl1IFxOSWk5SUZUa1FtM0lUalFmKCRGOUVzcywgJGxJVGpRZikpLT5rc09URVRrRigpOwogICAgICAgIH0gRkVURmogKFxOSWk5SUZUa1FtZ1ZGSXFUa1FtICRJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBVa0l1IEVUIFRqSSBKa1VJbSBxRVRqLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFRJbHE5RVRJQUVsSSBIakkgbUVsSSBRaSBUakkgVElscTlFVEkuIGdWRWxxOUkgaVE5ZkloLlRJbHE5RVRJCiAgICAgKiBAcUVoRWwgZVFROSAgICRpUWhGSWYgICAgICAgS2kgVGpJIEZRbHFrOUVUa1FtIHVrOTkgZUkgaVFoRklmIChFOXVFdnMgRlFscWs5SSkgUWggbVFULgogICAgICogQGhJVHBobSBlUVE5SUVtfHNUaGttSiBIaHBJIGtpIFRqSSBRcUloRVRrUW0gdUVzIEZRaGhJRlQsIFFoIGlFOXNJIChraSBtUVQgSVZGSXFUa1FtKQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpIGtUIGlFazlzLiBLVCBoSVRwaG1zIEUgc1Roa21KIChUakkgRlFtVEltVCBGUWxxazlJZikga2kga3NvUWxxazlJZj1pRTlzSQogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZRbHFrOUkoJFRJbHE5RVRJQUVsSSA9IG1wOTksICRpUWhGSWYgPSBpRTlzSSkKICAgIHsKICAgICAgICAkRlFscWs5SWYgPSAkVGprcy0+SklUb1FscWs5SWYyazlJKCRUSWxxOUVUSUFFbEkpOwogICAgICAgICRUSWxxOUVUSSA9ICRUamtzLT5KSVRISWxxOUVUSTJrOUkoJFRJbHE5RVRJQUVsSSk7CiAgICAgICAga2kgKCEkVGprcy0+a3NvUWxxazlJZikgewogICAgICAgICAgICAkRlFtVEltVHMgPSAkVGprcy0+RlFscWs5SU9UaGttSigkVGprcy0+SklUMms5SSgkVElscTlFVEkpKTsKICAgICAgICAgICAgJFRqa3MtPkZRbHFrOUlvRTk5ckVGOHMoJEZRbVRJbVRzLCAkVElscTlFVElBRWxJKTsKICAgICAgICAgICAgaElUcGhtICRGUW1USW1UczsKICAgICAgICB9CiAgICAgICAga2kgKCRpUWhGSWYgfHwgJFRqa3MtPmtzZ1Zxa2hJZigkVElscTlFVElBRWxJKSkgewogICAgICAgICAgICArKyBGUWxxazlJIFRqSSBRaGtKa21FOSBpazlJCiAgICAgICAgICAgICRGUW1USW1UcyA9ICRUamtzLT5GUWxxazlJT1Roa21KKCRUamtzLT5KSVQyazlJKCRUSWxxOUVUSSkpOwogICAgICAgICAgICAkVGprcy0+RlFscWs5SW9FOTlyRUY4cygkRlFtVEltVHMsICRUSWxxOUVUSUFFbEkpOwogICAgICAgICAgICBraSAoJFRqa3MtPlFxVGtsa1dJKSB7CiAgICAgICAgICAgICAgICArKyBoSWxRVUlzIHNxRUZJIEVtZiBURWVzIEVtZiBoSXE5RUZJcyBldiBFIHNrbUo5SSBzcUVGSQogICAgICAgICAgICAgICAgJEZRbVRJbVRzID0gXHFoSUpfaElxOUVGSSgnK14ge3gsfStsJywgJyAnLCAkRlFtVEltVHMpOwogICAgICAgICAgICAgICAgJEZRbVRJbVRzID0gXHFoSUpfaElxOUVGSSgnK15cVHt4LH0rbCcsICcgJywgJEZRbVRJbVRzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkUTggPSBAXGlrOUlfcXBUX0ZRbVRJbVRzKCRGUWxxazlJZiwgJEZRbVRJbVRzKTsKICAgICAgICAgICAga2kgKCRROCA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoCiAgICAgICAgICAgICAgICAgICAgJ29RbHFrOWttSicsCiAgICAgICAgICAgICAgICAgICAgIlBtRWU5SSBUUSBzRVVJIFRqSSBpazlJIFskRlFscWs5SWZdLiBvaklGOCBUakkgRlFscWs5SSBpUTlmSWgga3MgZklpa21JZiBFbWYgakVzIFRqSSBoa0pqVCBxSWhsa3Nza1FtIgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gVGhwSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaXA5OSBxRVRqIFFpIFRqSSBGUWxxazlJZiBpazlJLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFRJbHE5RVRJQUVsSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9RbHFrOUlmMms5SSgkVElscTlFVElBRWxJID0gJycpOiBzVGhrbUoKICAgIHsKICAgICAgICAkVElscTlFVElBRWxJID0gKElscVR2KCRUSWxxOUVUSUFFbEkpKSA/ICRUamtzLT5pazlJQUVsSSA6ICRUSWxxOUVUSUFFbEk7CiAgICAgICAgJGlwOTlhRVRqID0gJFRqa3MtPkpJVEhJbHE5RVRJMms5SSgkVElscTlFVElBRWxJKTsKICAgICAgICBraSAoJGlwOTlhRVRqID09ICcnKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBcTnBtVGtsSWdWRklxVGtRbSgnSElscTlFVEkgbVFUIGlRcG1mOiAnIC4oJFRqa3MtPmxRZkkgPT0gc0k5aTo6M01uZ19uZ3JQMCA/ICRUamtzLT5USWxxOUVUSWFFVGpbd10uJysnLiRUSWxxOUVUSUFFbEkgOiAkVElscTlFVElBRWxJKSk7CiAgICAgICAgfQogICAgICAgICRzVHY5SSA9ICRUamtzLT5GUWxxazlJSHZxSTJrOUlBRWxJOwogICAgICAgIGtpICgkc1R2OUkgPT09ICdFcFRRJykgewogICAgICAgICAgICAkc1R2OUkgPSAnc2pFWCc7CiAgICAgICAgfQogICAgICAgKysgZnBscSgkaXA5OWFFVGopOwogICAgICAgICRqRXNqID0gJHNUdjlJID09PSAnbGZaJyA/IFxsZlooJGlwOTlhRVRqKSA6IFxzakVYKCRpcDk5YUVUaik7CiAgICAgICAgaElUcGhtICRUamtzLT5GUWxxazlJZmFFVGogLiAnKycgLiBlRXNJbUVsSSgkVElscTlFVElBRWxJKSAuICdfJyAuICRqRXNqIC4gJFRqa3MtPkZRbHFrOUlnVlRJbXNrUW07CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkkgUWkgVGpJIEltSmttSS5PSUkgcjlFZklNbUk6OjNNbmdfKiBGUW1zVEVtVHMKICAgICAqCiAgICAgKiBAaElUcGhtIGttVD1bc0k5aTo6M01uZ190UEhNLHNJOWk6OjNNbmdfbmdyUDAsc0k5aTo6M01uZ18ydE9ILHNJOWk6OjNNbmdfTzZNYl1bJGtdCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQzUWZJKCk6IGttVAogICAgewogICAgICAgIGtpIChcZklpa21JZigncjZ0bmdNQWdfM01uZycpKSB7CiAgICAgICAgICAgICRUamtzLT5sUWZJID0gcjZ0bmdNQWdfM01uZzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBGUWxxazlJIGxRZkk8ZWg+CiAgICAgKgogICAgICogQHFFaEVsICRsUWZJIGttVD1bc0k5aTo6M01uZ190UEhNLHNJOWk6OjNNbmdfbmdyUDAsc0k5aTo6M01uZ18ydE9ILHNJOWk6OjNNbmdfTzZNYl1bJGtdCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVDNRZkkoJGxRZkkpOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPmxRZkkgPSAkbFFmSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaXA5OSBxRVRqIFFpIFRqSSBUSWxxOUVUSSBpazlJLgogICAgICogPHE+Z1ZFbHE5STogSklUSElscTlFVEkyazlJKCcuRWVGLmZJaScpPCtxPgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFRJbHE5RVRJQUVsSSBUSWxxOUVUSSBtRWxJLiBLaSBtUVQgVElscTlFVEkga3Mgc0lUIFRqSW0ga1QgcHNJcyBUakkgZUVzSSBUSWxxOUVUSS4KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRISWxxOUVUSTJrOUkoJFRJbHE5RVRJQUVsSSA9ICcnKTogc1Roa21KCiAgICB7CiAgICAgICAgJFRJbHE5RVRJQUVsSSA9IChJbHFUdigkVElscTlFVElBRWxJKSkgPyAkVGprcy0+aWs5SUFFbEkgOiAkVElscTlFVElBRWxJOwogICAgICAgIGtpIChcc1RocVFzKCRUSWxxOUVUSUFFbEksICcrJykgIT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+OVFGRVRJSElscTlFVEkoJFRJbHE5RVRJQUVsSSk7ICsrIGtUJ3MgRSA5a1RJaEU5CiAgICAgICAgfQogICAgICAgICRFaGggPSBcSVZxOVFmSSgnLicsICRUSWxxOUVUSUFFbEkpOwogICAgICAgICRGID0gXEZRcG1UKCRFaGgpOwogICAgICAgIGtpICgkRiA9PSBYKSB7CiAgICAgICAgICAgICsrIGtUJ3Mga20gVGpJIGhRUVQgUWkgVGpJIFRJbHE5RVRJIGlROWZJaC4KICAgICAgICAgICAgaElUcGhtICRUamtzLT45UUZFVElISWxxOUVUSSgkVElscTlFVElBRWxJIC4gJFRqa3MtPmlrOUlnVlRJbXNrUW0pOwogICAgICAgIH0KICAgICAgICAkaWs5SSA9ICRFaGhbJEYgLSBYXTsKICAgICAgICBcRWhoRXZfc3E5a0ZJKCRFaGgsICRGIC0gWCwgJEYgLSBYKTsgKysgZkk5SVRJIFRqSSA5RXNUIEk5SWxJbVQKICAgICAgICAkcUVUaiA9IFxrbHE5UWZJKCcrJywgJEVoaCk7CiAgICAgICAgaElUcGhtICRUamtzLT45UUZFVElISWxxOUVUSSgkcUVUaiAuICcrJyAuICRpazlJIC4gJFRqa3MtPmlrOUlnVlRJbXNrUW0pOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBUSWxxOUVUSSBpazlJIHVrVGogVGpJIEprVUltIG1FbEkga20gRTk5IFRJbHE5RVRJIHFFVGpzIGttIFRqSSBRaGZJaCBUakkgcUVUanMgdUloSSB1aGtUVEltCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkbUVsSSAyazlJbUVsSSBRaSBUakkgVElscTlFVEkgKHVrVGpRcFQgcUVUaikKICAgICAqIEBoSVRwaG0gc1Roa21KIFRJbHE5RVRJIGlrOUkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIDlRRkVUSUhJbHE5RVRJKCRtRWxJKTogc1Roa21KCiAgICB7CiAgICAgICAgJFRqa3MtPm1RVDJRcG1mYUVUaiA9ICcnOwogICAgICAgIGlRaElFRmogKCRUamtzLT5USWxxOUVUSWFFVGogRXMgJGZraCkgewogICAgICAgICAgICAkcUVUaiA9ICRma2ggLiAnKycgLiAkbUVsSTsKICAgICAgICAgICAga2kgKFxrc19pazlJKCRxRVRqKSkgewogICAgICAgICAgICAgICAgaElUcGhtICRxRVRqOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRUamtzLT5tUVQyUXBtZmFFVGogLj0gJHFFVGogLiAiLCI7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAnJzsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRlFtVEltVHMgUWkgRSBpazlJLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJGlwOTkyazlJQUVsSSBLVCBKSVRzIFRqSSBGUW1USW1UIFFpIEUgaWs5SW1FbEkgUWggaElUcGhtcyAnJy4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMms5SSgkaXA5OTJrOUlBRWxJKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKFxrc19pazlJKCRpcDk5Mms5SUFFbEkpKSB7CiAgICAgICAgICAgIGhJVHBobSBcaWs5SV9KSVRfRlFtVEltVHMoJGlwOTkyazlJQUVsSSk7CiAgICAgICAgfQogICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ0pJVDJrOUknLCAiMms5SSBmUUlzIG1RVCBJVmtzVCBFVCBxRVRqcyAoc0lxRWhFVElmIGV2IEZRbGxFKSBbJFRqa3MtPm1RVDJRcG1mYUVUal0gUWggcUlobGtzc2tRbSBmSW1rSWYiKTsKICAgICAgICBoSVRwaG0gJyc7CiAgICB9CgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlvRTk5ckVGOHMoJiRGUW1USW1UcywgJFRJbHE5RVRJQUVsSSk6IFVRa2YKICAgIHsKICAgICAgICBraSAoIUlscVR2KCRUamtzLT5GUWxxazlJb0U5OWVFRjhzKSkgewogICAgICAgICAgICBpUWhJRUZqICgkVGprcy0+RlFscWs5SW9FOTllRUY4cyBFcyAkRkU5OWVFRjgpIHsKICAgICAgICAgICAgICAgIGtpIChrc19GRTk5RWU5SSgkRkU5OWVFRjgpKSB7CiAgICAgICAgICAgICAgICAgICAgJEZFOTllRUY4KCRGUW1USW1UcywgJFRJbHE5RVRJQUVsSSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIFVrSXUgakVzIElWcWtoSWYuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxtcDk5ICRpazlJQUVsSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrc2dWcWtoSWYoJGlrOUlBRWxJKTogZVFROQogICAgewogICAgICAgICRGUWxxazlJZiA9ICRUamtzLT5KSVRvUWxxazlJZjJrOUkoJGlrOUlBRWxJKTsKICAgICAgICAkVElscTlFVEkgPSAkVGprcy0+SklUSElscTlFVEkyazlJKCRpazlJQUVsSSk7CiAgICAgICAga2kgKCFca3NfaWs5SSgkVElscTlFVEkpKSB7CiAgICAgICAgICAgIGtpICgkVGprcy0+bFFmSSA9PSBzSTlpOjozTW5nX25nclAwKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdOSUVmIGlrOUknLCAnSElscTlFVEkgbVFUIGlRcG1mIDonIC4gJFRqa3MtPmlrOUlBRWxJIC4gIiBRbSBpazlJOiAkVElscTlFVEkiLCBUaHBJKTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ05JRWYgaWs5SScsICdISWxxOUVUSSBtUVQgaVFwbWYgOicgLiAkVGprcy0+aWs5SUFFbEksIFRocEkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICsrIEtpIFRqSSBGUWxxazlJZiBpazlJIGZRSXNtJ1QgSVZrc1QgdUkgdWs5OSBrbWZrRkVUSSBUakVUIFRqSSBVa0l1IGtzIElWcWtoSWYKICAgICAgICArKyBzUSBUakVUIGtUIEZFbSBlSSBoSS1GUWxxazlJZi4gZzlzSSwgdUkgdWs5OSBVSWhraXYgVGpJIDlFc1QgbFFma2lrRkVUa1FtCiAgICAgICAgKysgUWkgVGpJIFVrSXVzIGtzIDlJc3MgVGpFbSBUakkgbFFma2lrRkVUa1FtIFRrbElzIFFpIFRqSSBGUWxxazlJZiBVa0l1cy4KICAgICAgICBraSAoISRUamtzLT5GUWxxazlJZmFFVGogfHwgIVxrc19pazlJKCRGUWxxazlJZikpIHsKICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSBcaWs5SWxUa2xJKCRGUWxxazlJZikgPCBcaWs5SWxUa2xJKCRUSWxxOUVUSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVUU5cEVUSXMgRSBUSVZUIChzVGhrbUopIHBza21KIFRqSSBGcGhoSW1UIFVFaGtFZTlJcwogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJEZRbVRJbVQKICAgICAqIEBxRWhFbCBFaGhFdiAgJFVFaGtFZTlJcwogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBUamhRdXMgZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJVUU5cEVUSUhJVlQoJEZRbVRJbVQsICRVRWhrRWU5SXMpOiBzVGhrbUoKICAgIHsKCiAgICAgICAgXFFlX3NURWhUKCk7CiAgICAgICAgXElWVGhFRlQoJFVFaGtFZTlJcyk7CiAgICAgICAgKysgYkknOTkgSVVFOXBFVEkgVGpJIEZRbVRJbVRzIFFpIFRqSSBVa0l1IGttc2tmSSBFIFRoditGRVRGaiBlOVFGOCwgc1EgdUkgRkVtCiAgICAgICAgKysgaTlwc2ogUXBUIEVtdiBzVGhFdiBRcFRxcFQgVGpFVCBsa0pqVCBKSVQgUXBUIGVJaVFoSSBFbSBJaGhRaCBRRkZwaHMgUWgKICAgICAgICArKyBFbSBJVkZJcVRrUW0ga3MgVGpoUXVtLiBIamtzIHFoSVVJbVRzIEVtdiBxRWhUa0U5IFVrSXVzIGloUWwgOUlFOGttSi4KICAgICAgICBUaHYgewogICAgICAgICAgICBJVUU5KCcgPz4nIC4gJEZRbVRJbVQgLiAkVGprcy0+cWpxSEVKKTsKICAgICAgICB9IEZFVEZqIChcSGpoUXVFZTlJICRJKSB7CiAgICAgICAgICAgICRUamtzLT5qRW1mOUlCa0l1Z1ZGSXFUa1FtKCRJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBcOVRoa2woXFFlX0pJVF9GOUlFbSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIFNFbWY5SSBFIFVrSXUgSVZGSXFUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBnVkZJcVRrUW0gJEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICogQFRqaFF1cyAkSQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gakVtZjlJQmtJdWdWRklxVGtRbSgkSSk6IFVRa2YKICAgIHsKICAgICAgICBcUWVfSklUX0Y5SUVtKCk7CiAgICAgICAgVGpoUXUgJEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVUU5cEVUSXMgRSBGUWxxazlJZiBpazlJIHBza21KIFRqSSBGcGhoSW1UIFVFaGtFZTlJcwogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJEZRbHFrOUlmMms5SSBpcDk5IHFFVGogUWkgVGpJIEZRbHFrOUkgaWs5SS4KICAgICAqIEBxRWhFbCBFaGhFdiAgJFVFaGtFZTlJcwogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBUamhRdXMgZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJVUU5cEVUSWFFVGooJEZRbHFrOUlmMms5SSwgJFVFaGtFZTlJcyk6IHNUaGttSgogICAgewogICAgICAgIFxRZV9zVEVoVCgpOwogICAgICAgICsrIG1RVEksIFRqSSBVRWhrRWU5SXMgRWhJIElWVGhFRlRJZiA5UUZFOTl2IGttc2tmSSBUamtzIGxJVGpRZiwKICAgICAgICArKyBUakl2IEVoSSBtUVQgSjlRZUU5IFVFaGtFZTlJcyA6LVkKICAgICAgICBcSVZUaEVGVCgkVUVoa0VlOUlzKTsKICAgICAgICArKyBiSSc5OSBJVUU5cEVUSSBUakkgRlFtVEltVHMgUWkgVGpJIFVrSXUga21za2ZJIEUgVGh2K0ZFVEZqIGU5UUY4LCBzUSB1SSBGRW0KICAgICAgICArKyBpOXBzaiBRcFQgRW12IHNUaEV2IFFwVHFwVCBUakVUIGxrSmpUIEpJVCBRcFQgZUlpUWhJIEVtIEloaFFoIFFGRnBocyBRaAogICAgICAgICsrIEVtIElWRklxVGtRbSBrcyBUamhRdW0uIEhqa3MgcWhJVUltVHMgRW12IHFFaFRrRTkgVWtJdXMgaWhRbCA5SUU4a21KLgogICAgICAgIFRodiB7CiAgICAgICAgICAgIGttRjlwZkkgJEZRbHFrOUlmMms5STsKICAgICAgICB9IEZFVEZqIChcSGpoUXVFZTlJICRJKSB7CiAgICAgICAgICAgICRUamtzLT5qRW1mOUlCa0l1Z1ZGSXFUa1FtKCRJKTsKICAgICAgICB9CiAgICAgICAgJGpUbDkgPSBcOVRoa2woXFFlX0pJVF9GOUlFbSgpKTsKICAgICAgICBoSVRwaG0gJGpUbDk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgRWhoRXYgJFVrSXVzIEVoaEV2IFFpIFVrSXVzCiAgICAgKiBAcUVoRWwgRWhoRXYgJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttRjlwZkkya2hzVCgkVWtJdXMgPSBbXSwgJFVFOXBJID0gW10pOiBzVGhrbUoKICAgIHsKICAgICAgICBpUWhJRUZqICgkVWtJdXMgRXMgJFVrSXUpIHsKICAgICAgICAgICAga2kgKCRUamtzLT5USWxxOUVUSWdWa3NUKCRVa0l1KSkgewogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5ocG1vams5ZigkVWtJdSwgJFVFOXBJKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gJyc7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG1zIFRocEkga2kgVGpJIFRJbHE5RVRJIElWa3NUcy4gTVRqSWh1a3NJLCBrVCBoSVRwaG1zIGlFOXNJCiAgICAgKgogICAgICogQHFFaEVsICRUSWxxOUVUSUFFbEkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gVElscTlFVElnVmtzVCgkVElscTlFVElBRWxJKTogZVFROQogICAgewogICAgICAgICRpazlJID0gJFRqa3MtPkpJVEhJbHE5RVRJMms5SSgkVElscTlFVElBRWxJKTsKICAgICAgICBoSVRwaG0gXGtzX2lrOUkoJGlrOUkpOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBFbSBFaGhFdiBzcEZqIEVzIFsiRjlFc3NYIj0+Imx2RjlFc3MiLCJzVHY5ST0ibHZzVHY5SSJdIFRRIEY5RXNzWD0nbHZGOUVzcycgc1R2OUk9J2x2c1R2OUknIHNUaGttSgogICAgICoKICAgICAqIEBxRWhFbCBFaGhFdnxzVGhrbUogJEVoaEV2IEVoaEV2IFRRIEZRbVVJaFQKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGUW1VSWhUdGhKKCRFaGhFdik6IHNUaGttSgogICAgewogICAgICAgIGtpICghXGtzX0VoaEV2KCRFaGhFdikpIHsKICAgICAgICAgICAgaElUcGhtICRFaGhFdjsgICsrIG1RVGprbUogVFEgRlFtVUloVC4KICAgICAgICB9CiAgICAgICAgaElUcGhtIFxrbHE5UWZJKCcgJywgXEVoaEV2X2xFcSgnc1RFVGtGOjpGUW1VSWhUdGhKb0U5OXJFRjgnLCBcRWhoRXZfOEl2cygkRWhoRXYpLCAkRWhoRXYpKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVHBobXMgVGpJIEZwaGhJbVQgVFE4SW0uIGtpIFRqSWhJIGtzIG1RVCBFIFRROEltIFRqSW0ga1QgSkltSWhFVElzIEUgbUl1IFFtSS4KICAgICAqIEtUIEZRcDlmIGhJUnBraEkgRW0gUXFJbSBzSXNza1FtLgogICAgICoKICAgICAqIEBxRWhFbCBlUVE5ICAgJGlwOTlIUThJbSBLVCBoSVRwaG1zIEUgVFE4SW0gdWtUaiBUakkgRnBoaEltVCBrcS4KICAgICAqIEBxRWhFbCBzVGhrbUogJFRROEltS2YgICBbUXFUa1FtRTldIEFFbEkgUWkgVGpJIFRROEltLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvc2hpSFE4SW0oJGlwOTlIUThJbSA9IGlFOXNJLCAkVFE4SW1LZiA9ICdfVFE4SW0nKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKCRUamtzLT5Gc2hpX1RROEltID09ICcnKSB7CiAgICAgICAgICAgICRUamtzLT5oSUpJbUloRVRJSFE4SW0oJFRROEltS2YpOwogICAgICAgIH0KICAgICAgICBraSAoJGlwOTlIUThJbSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkZzaGlfVFE4SW0gLiAnfCcgLiAkVGprcy0+a3FvOWtJbVQoKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5Gc2hpX1RROEltOwogICAgfQoKICAgICsqKgogICAgICogTklKSW1JaEVUSXMgVGpJIEZzaGkgVFE4SW0gRW1mIHNUUWhJcyBrbSBUakkgc0lzc2tRbS4KICAgICAqIEtUIGhJUnBraElzIEVtIFFxSW0gc0lzc2tRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRUUThJbUtmIFtRcVRrUW1FOV0gQUVsSSBRaSBUakkgVFE4SW0uCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSUpJbUloRVRJSFE4SW0oJFRROEltS2YgPSAnX1RROEltJyk6IFVRa2YKICAgIHsKICAgICAgICBUaHYgewogICAgICAgICAgICAkVGprcy0+RnNoaV9UUThJbSA9IFxla214aklWKFxoRW1mUWxfZXZUSXMoWHcpKTsKICAgICAgICB9IEZFVEZqIChcSGpoUXVFZTlJICRJKSB7CiAgICAgICAgICAgICRUamtzLT5Gc2hpX1RROEltID0gJ1h4WXlaejQ1N3dYeFl5Wno0NTd3WHhZeVp6NDU3dyc7ICsrIHBtRWU5SSBUUSBKSW1JaEVUSXMgRSBoRW1mUWwgVFE4SW0uCiAgICAgICAgfQogICAgICAgIEAkX09nT09LTUFbJFRROEltS2ZdID0gJFRqa3MtPkZzaGlfVFE4SW0gLiAnfCcgLiAkVGprcy0+a3FvOWtJbVQoKTsKICAgIH0KCiAgICBxcGU5a0YgaXBtRlRrUW0ga3FvOWtJbVQoKQogICAgewogICAgICAgIGtpICgKICAgICAgICAgICAga3NzSVQoJF9PZ05CZ05bJ1NISGFfQ18yTU5idE5uZ25fMk1OJ10pCiAgICAgICAgICAgICYmIFxxaElKX2xFVEZqKCcrXihme1gsWX0pLihme1gsWX0pLihme1gsWX0pLihme1gsWX0pJCsnLCAkX09nTkJnTlsnU0hIYV9DXzJNTmJ0Tm5nbl8yTU4nXSkKICAgICAgICApIHsKICAgICAgICAgICAgaElUcGhtICRfT2dOQmdOWydTSEhhX0NfMk1OYnRObmduXzJNTiddOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJF9PZ05CZ05bJ05nM01IZ190bm5OJ10gPz8gJyc7CiAgICB9CgogICAgKyoqCiAgICAgKiBCRTlrZkVUSXMga2kgVGpJIEZzaGkgVFE4SW0ga3MgVUU5a2YgUWggbVFULjxlaD4KICAgICAqIEtUIGhJUnBraElzIEVtIFFxSW0gc0lzc2tRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgZVFROSAgICRFOXVFdnNOSUpJbUloRVRJIFtRcVRrUW1FOV0gbklpRXA5VCBrcyBpRTlzSS48ZWg+CiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpICoqVGhwSSoqIFRqSW0ga1QgdWs5OSBKSW1JaEVUSSBFIG1JdSBUUThJbSBoSUpFaGY5SXNzCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFpIFRqSSBsSVRqUWYuPGVoPgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaSAqKmlFOXNJKiosIFRqSW0ga1QgdWs5OSBKSW1JaEVUSSBRbTl2IGtpIFRqSSBsSVRqUWYga3MgYU1PSC48ZWg+CiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFRVEk6IGNRcCBscHNUIG1RVCBwc0kgVGhwSSBraSB2UXAgdUVtVCBUUSBwc0kgRnNoaSB1a1RqIHREdEMuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVFE4SW1LZiAgICAgICAgICBbUXFUa1FtRTldIEFFbEkgUWkgVGpJIFRROEltLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROSBLVCBoSVRwaG1zIFRocEkga2kgVGpJIFRROEltIGtzIFVFOWtmLCBRaCBrVCBrcyBKSW1JaEVUSWYuIE1UaklodWtzSSwgaUU5c0kuCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGc2hpS3NCRTlrZigkRTl1RXZzTklKSW1JaEVUSSA9IGlFOXNJLCAkVFE4SW1LZiA9ICdfVFE4SW0nKTogZVFROQogICAgewogICAgICAgIGtpIChAJF9PZ05CZ05bJ05nR1BnT0hfM2dIU01uJ10gPT09ICdhTU9IJyAmJiAkRTl1RXZzTklKSW1JaEVUSSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgJFRqa3MtPkZzaGlfVFE4SW0gPSAkX2FNT0hbJFRROEltS2ZdID8/IG1wOTk7ICsrIHFrbUogcVFtSiBUakkgVFE4SW0uCiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RnNoaV9UUThJbSAuICd8JyAuICRUamtzLT5rcW85a0ltVCgpID09PSAoJF9PZ09PS01BWyRUUThJbUtmXSA/PyBtcDk5KTsKICAgICAgICB9CiAgICAgICAga2kgKCRUamtzLT5Gc2hpX1RROEltID09ICcnIHx8ICRFOXVFdnNOSUpJbUloRVRJKSB7CiAgICAgICAgICAgICsrIGtpIG1RVCBUUThJbSBUakltIHVJIEpJbUloRVRJIEUgbUl1IFFtSQogICAgICAgICAgICAkVGprcy0+aElKSW1JaEVUSUhROEltKCRUUThJbUtmKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPVFFxIGttTElGVGttSiBGUW1USW1UIGttVFEgRSBzSUZUa1FtIEVtZiBoSVRwaG0ga1RzIEZRbVRJbVRzLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB2a0k5Zk9JRlRrUW0oKTogP3NUaGttSgogICAgewogICAgICAgICRzRiA9ICRUamtzLT5zVFFxT0lGVGtRbSgpOwogICAgICAgIGhJVHBobSAkVGprcy0+c0lGVGtRbXNbJHNGXSA/PyBtcDk5OwogICAgfQoKICAgICsqKgogICAgICogT1RRcSBrbUxJRlRrbUogRlFtVEltVCBrbVRRIEUgc0lGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgZVFROSAkUVVJaHVoa1RJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1RRcU9JRlRrUW0oJFFVSWh1aGtUSSA9IGlFOXNJKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKElscVR2KCRUamtzLT5zSUZUa1FtT1RFRjgpKSB7CiAgICAgICAgICAgICRUamtzLT5zalF1Z2hoUWgoJ3NUUXFPSUZUa1FtJywgJ29FbW1RVCBJbWYgRSBzSUZUa1FtIHVrVGpRcFQgaWtoc1Qgc1RFaFRrbUogUW1JLicsIFRocEksIFRocEkpOwogICAgICAgIH0KICAgICAgICAkOUVzVCA9IFxFaGhFdl9xUXEoJFRqa3MtPnNJRlRrUW1PVEVGOCk7CiAgICAgICAga2kgKCRRVUlodWhrVEkpIHsKICAgICAgICAgICAgJFRqa3MtPnNJRlRrUW1zWyQ5RXNUXSA9IFxRZV9KSVRfRjlJRW0oKTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+SVZUSW1mT0lGVGtRbSgkOUVzVCwgXFFlX0pJVF9GOUlFbSgpKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICQ5RXNUOwogICAgfQoKICAgICsqKgogICAgICogdHFxSW1mIEZRbVRJbVQgVFEgRSBKa1VJbSBzSUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJHNJRlRrUW0KICAgICAqIEBxRWhFbCBzVGhrbUogJEZRbVRJbVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSVZUSW1mT0lGVGtRbSgkc0lGVGtRbSwgJEZRbVRJbVQpOiBVUWtmCiAgICB7CiAgICAgICAga2kgKGtzc0lUKCRUamtzLT5zSUZUa1Ftc1skc0lGVGtRbV0pKSB7CiAgICAgICAgICAgICRGUW1USW1UID0gXHNUaF9oSXE5RUZJKCRUamtzLT5hdE5nQUgxZ2MsICRGUW1USW1ULCAkVGprcy0+c0lGVGtRbXNbJHNJRlRrUW1dKTsKICAgICAgICB9CiAgICAgICAgJFRqa3MtPnNJRlRrUW1zWyRzSUZUa1FtXSA9ICRGUW1USW1UOwogICAgfQoKICAgICsqKgogICAgICogQHFFaEVsIGxrVklmICRRZUxJRlQKICAgICAqIEBxRWhFbCBlUVE5ICRMc0ZRbXNROUkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICogQFRqaFF1cyBcRHNRbWdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZnBscSgkUWVMSUZULGVRUTkgJExzRlFtc1E5SSA9IGlFOXNJKTogVVFrZgogICAgewogICAgICAgIGtpICghJExzRlFtc1E5SSkgewogICAgICAgICAgICBJRmpRICc8cWhJPic7CiAgICAgICAgICAgIFxVRWhfZnBscSgkUWVMSUZUKTsKICAgICAgICAgICAgSUZqUSAnPCtxaEk+JzsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICArKiogQG1Ra21zcUlGVGtRbSByRWZnVnFoSXNza1FtT1RFVElsSW1URE8gKisKICAgICAgICAgICAgKyoqIEBtUWttc3FJRlRrUW0gRE9CUWtmMnBtRlRrUW1OSVRwaG1CRTlwSVBzSWYgKisKICAgICAgICAgICAgSUZqUSAnPHNGaGtxVD5GUW1zUTlJLjlRSignIC4gXExzUW1fSW1GUWZJKCRRZUxJRlQsIERPTUFfSFNOTWJfTUFfZ05OTU4pIC4gJyk8K3NGaGtxVD4nOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIE9URWhUIGttTElGVGttSiBGUW1USW1UIGttVFEgRSBzSUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJHNJRlRrUW0KICAgICAqIEBxRWhFbCBzVGhrbUogJEZRbVRJbVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc1RFaFRPSUZUa1FtKCRzSUZUa1FtLCAkRlFtVEltVCA9ICcnKTogVVFrZgogICAgewogICAgICAgIGtpICgkRlFtVEltVCA9PT0gJycpIHsKICAgICAgICAgICAgXFFlX3NURWhUKCkgJiYgJFRqa3MtPnNJRlRrUW1PVEVGOFtdID0gJHNJRlRrUW07CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPklWVEltZk9JRlRrUW0oJHNJRlRrUW0sICRGUW1USW1UKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBPVFFxIGttTElGVGttSiBGUW1USW1UIGttVFEgRSBzSUZUa1FtIEVtZiBFcXFJbWYga1QuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBUamhRdXMgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFcXFJbWZPSUZUa1FtKCk6IHNUaGttSgogICAgewogICAgICAgIGtpIChJbHFUdigkVGprcy0+c0lGVGtRbU9URUY4KSkgewogICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdFcXFJbWZPSUZUa1FtJywgJ29FbW1RVCBJbWYgRSBzSUZUa1FtIHVrVGpRcFQgaWtoc1Qgc1RFaFRrbUogUW1JLicsIFRocEksIFRocEkpOwogICAgICAgIH0KICAgICAgICAkOUVzVCA9IFxFaGhFdl9xUXEoJFRqa3MtPnNJRlRrUW1PVEVGOCk7CiAgICAgICAga2kgKGtzc0lUKCRUamtzLT5zSUZUa1Ftc1skOUVzVF0pKSB7CiAgICAgICAgICAgICRUamtzLT5zSUZUa1Ftc1skOUVzVF0gLj0gXFFlX0pJVF9GOUlFbSgpOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5zSUZUa1Ftc1skOUVzVF0gPSBcUWVfSklUX0Y5SUVtKCk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkOUVzVDsKICAgIH0KCiAgICArKioKICAgICAqIHRmZnMgRSBKOVFlRTkgVUVoa0VlOUkuIEtpICoqJFVFaG1FbEkqKiBrcyBFbSBFaGhFdiBUakltIGtUIGxJaEpJcyBFOTkgVGpJIFVFOXBJcy4KICAgICAqICoqZ1ZFbHE5SToqKgogICAgICogYGBgcWpxCiAgICAgKiAkVGprcy0+c2pFaEkoJ1VFaGtFZTlJJyxYdy5aKTsKICAgICAqICRUamtzLT5zakVoSSgnVUVoa0VlOUl4Jywnakk5OVEnKTsKICAgICAqICsrIFFoIHVJIEZRcDlmIEVmZiBUakkgVHVRIFVFaGtFZTlJcyBFczoKICAgICAqICRUamtzLT5zakVoSShbJ1VFaGtFZTlJJz0+WHcuWiwnVUVoa0VlOUl4Jz0+J2pJOTlRJ10pOwogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdiAkVUVobUVsSSBLVCBrcyBUakkgbUVsSSBRaSBUakkgVUVoa0VlOUkgUWgsIGtUIGtzIEVtIEVzc1FGa0VUa1VJIEVoaEV2CiAgICAgKiBAcUVoRWwgbGtWSWYgICAgICAgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICogQHNJSSByOUVmSU1tSTo6c2pFaEkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGooJFVFaG1FbEksICRVRTlwSSA9IG1wOTkpOiByOUVmSU1tSQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+c2pFaEkoJFVFaG1FbEksICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmZzIEUgSjlRZUU5IFVFaGtFZTlJLiBLaSAqKiRVRWhtRWxJKioga3MgRW0gRWhoRXYgVGpJbSBrVCBsSWhKSXMgRTk5IFRqSSBVRTlwSXMuCiAgICAgKiAqKmdWRWxxOUk6KioKICAgICAqIGBgYHFqcQogICAgICogJFRqa3MtPnNqRWhJKCdVRWhrRWU5SScsWHcuWik7CiAgICAgKiAkVGprcy0+c2pFaEkoJ1VFaGtFZTlJeCcsJ2pJOTlRJyk7CiAgICAgKiArKyBRaCB1SSBGUXA5ZiBFZmYgVGpJIFR1USBVRWhrRWU5SXMgRXM6CiAgICAgKiAkVGprcy0+c2pFaEkoWydVRWhrRWU5SSc9Plh3LlosJ1VFaGtFZTlJeCc9PidqSTk5USddKTsKICAgICAqIGBgYAogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUp8RWhoRXYgJFVFaG1FbEkgS1Qga3MgVGpJIG1FbEkgUWkgVGpJIFVFaGtFZTlJLCBRaCBrVCBrcyBFbSBFc3NRRmtFVGtVSSBFaGhFdgogICAgICogQHFFaEVsIGxrVklmICAgICAgICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNqRWhJKCRVRWhtRWxJLCAkVUU5cEkgPSBtcDk5KTogcjlFZklNbUkKICAgIHsKICAgICAgICBraSAoa3NfRWhoRXYoJFVFaG1FbEkpKSB7CiAgICAgICAgICAgICRUamtzLT5VRWhrRWU5SXMwOVFlRTkgPSBcRWhoRXZfbEloSkkoJFRqa3MtPlVFaGtFZTlJczA5UWVFOSwgJFVFaG1FbEkpOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5VRWhrRWU5SXMwOVFlRTlbJFVFaG1FbEldID0gJFVFOXBJOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHNUaGttSiBGUW1USW1UcyBRaSBFIHNJRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkc0lGVGtRbQogICAgICogQHFFaEVsIHNUaGttSiAkZklpRXA5VAogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHZrSTlmb1FtVEltVCgkc0lGVGtRbSwgJGZJaUVwOVQgPSAnJyk6IHNUaGttSgogICAgewogICAgICAgIGtpIChrc3NJVCgkVGprcy0+c0lGVGtRbXNbJHNJRlRrUW1dKSkgewogICAgICAgICAgICBoSVRwaG0gXHNUaF9oSXE5RUZJKCRUamtzLT5hdE5nQUgxZ2MsICRmSWlFcDlULCAkVGprcy0+c0lGVGtRbXNbJHNJRlRrUW1dKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRmSWlFcDlUOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGcHNUUWwgcjlFZkkgRlFscWs5SWguCiAgICAgKgogICAgICogQHFFaEVsIEZFOTlFZTlJICRGUWxxazlJaAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBJVlRJbWYoRkU5OUVlOUkgJEZRbHFrOUloKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5JVlRJbXNrUW1zW10gPSAkRlFscWs5SWg7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSUprc1RJaCBFIGpFbWY5SWggaVFoIEZwc1RRbCBma2hJRlRrVUlzIGlRaCBocG0gRVQgaHBtVGtsSQogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogICAkbUVsSQogICAgICogQHFFaEVsIEZFOTlFZTlJICRqRW1mOUloCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZraElGVGtVSU5IKCRtRWxJLCBGRTk5RWU5SSAkakVtZjlJaCk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+RnBzVFFsbmtoSUZUa1VJc1skbUVsSV0gPSAkakVtZjlJaDsKICAgICAgICAkVGprcy0+RnBzVFFsbmtoSUZUa1VJc05IWyRtRWxJXSA9IFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVRzIFRqSSBJc0ZFcUlmIEZRbVRJbVQgVEVKcyBwc0lmIGlRaCBUakkgRlFscWs5SWguCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkUXFJbUhFSgogICAgICogQHFFaEVsIHNUaGttSiAkRjlRc0lIRUoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUZ3NGRXFJZm9RbVRJbVRIRUpzKCRRcUltSEVKLCAkRjlRc0lIRUopOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPnNJVG9RbVRJbVRIRUpzKCRRcUltSEVKLCAkRjlRc0lIRUosIFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogMElUcyBUakkgRlFtVEltVCBURUpzIHBzSWYgaVFoIFRqSSBGUWxxazlJaC4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvUW1USW1USEVKcygpOiBFaGhFdgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUSEVKcygpOwogICAgfQoKICAgICsqKgogICAgICogT0lUcyBUakkgRlFtVEltVCBURUpzIHBzSWYgaVFoIFRqSSBGUWxxazlJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRRcUltSEVKCiAgICAgKiBAcUVoRWwgc1Roa21KICRGOVFzSUhFSgogICAgICogQHFFaEVsIGVRUTkgICAkSXNGRXFJZgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRvUW1USW1USEVKcygkUXFJbUhFSiwgJEY5UXNJSEVKLCAkSXNGRXFJZiA9IGlFOXNJKTogVVFrZgogICAgewogICAgICAgICRxaFFxSWhUdiA9ICgkSXNGRXFJZiA9PT0gVGhwSSkgPyAnSXNGRXFJZkhFSnMnIDogJ0ZRbVRJbVRIRUpzJzsKICAgICAgICAkVGprcy0+eyRxaFFxSWhUdn0gPSBbXHFoSUpfUnBRVEkoJFFxSW1IRUopLCBccWhJSl9ScFFUSSgkRjlRc0lIRUopXTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVHMgVGpJIFRFSnMgcHNJZiBpUWggVGpJIEZRbHFrOUloLgogICAgICoKICAgICAqIEBxRWhFbCBlUVE5ICRJc0ZFcUlmCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVRIRUpzKCRJc0ZFcUlmID0gaUU5c0kpOiBFaGhFdgogICAgewogICAgICAgICRURUpzID0gJElzRkVxSWYgPyAkVGprcy0+SXNGRXFJZkhFSnMgOiAkVGprcy0+RlFtVEltVEhFSnM7CiAgICAgICAgaElUcGhtIFxFaGhFdl9sRXEoJ3NUaGtxRnM5RXNqSXMnLCAkVEVKcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVRzIFRqSSBJc0ZFcUlmIEZRbVRJbVQgVEVKcyBwc0lmIGlRaCBUakkgRlFscWs5SWguCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUZ3NGRXFJZm9RbVRJbVRIRUpzKCk6IEVoaEV2CiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRIRUpzKFRocEkpOwogICAgfQoKICAgICsqKgogICAgICogT0lUcyBUakkgaXBtRlRrUW0gcHNJZiBpUWggaElzUTlVa21KIEY5RXNzSXMgdWtUaiBrbUxJRlQuCiAgICAgKgogICAgICogQHFFaEVsIEZFOTlFZTlJICRpcG1GVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUS21MSUZUTklzUTlVSWgoRkU5OUVlOUkgJGlwbUZUa1FtKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5rbUxJRlROSXNROVVJaCA9ICRpcG1GVGtRbTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaWs5SSBJVlRJbXNrUW0gaVFoIFRJbHE5RVRJIGlrOUlzLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQyazlJZ1ZUSW1za1FtKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aWs5SWdWVEltc2tRbTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgaWs5SSBJVlRJbXNrUW0gaVFoIFRqSSBUSWxxOUVUSSBpazlJcy4KICAgICAqIEtUIGxwc1Qga21GOXBmSSBUakkgOUlFZmttSiBmUVQgSS5KLiAiLmU5RWZJLnFqcSIKICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRpazlJZ1ZUSW1za1FtIGdWRWxxOUk6IC5xaElpa1YuSVZUCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVQyazlJZ1ZUSW1za1FtKCRpazlJZ1ZUSW1za1FtKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5pazlJZ1ZUSW1za1FtID0gJGlrOUlnVlRJbXNrUW07CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGlrOUkgSVZUSW1za1FtIGlRaCBUSWxxOUVUSSBpazlJcy4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FscWs5SWZnVlRJbXNrUW0oKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GUWxxazlJZ1ZUSW1za1FtOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBpazlJIElWVEltc2tRbSBpUWggVGpJIEZRbHFrOUlmIGlrOUlzLgogICAgICogS21GOXBma21KIFRqSSA5SUVma21KIGZRVCBpUWggVGpJIElWVEltc2tRbSBrcyBoSVJwa2hJZiwgSS5KLiAiLmU5RWZJRiIKICAgICAqCiAgICAgKiBAcUVoRWwgJGlrOUlnVlRJbXNrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG9RbHFrOUlmZ1ZUSW1za1FtKCRpazlJZ1ZUSW1za1FtKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5GUWxxazlJZ1ZUSW1za1FtID0gJGlrOUlnVlRJbXNrUW07CiAgICB9CgogICAgKyoqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6c0lUb1FscWs5SUh2cUkyazlJQUVsSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FscWs5SUh2cUkyazlJQUVsSSgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkZRbHFrOUlIdnFJMms5SUFFbEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBmSVRJaGxrbUlzIGpRdSBUakkgRlFscWs5SWYgaWs5SW1FbEkgdWs5OSBlSSBGRTk5SWYuPGVoPgogICAgICogKiAqKkVwVFEqKiAoZklpRXA5VCBsUWZJKSBUakkgbFFmSSBrcyAic2pFWCI8ZWg+CiAgICAgKiAqICoqc2pFWCoqIFRqSSBpazlJbUVsSSBrcyBGUW1VSWhUSWYga21UUSBFIHNqRVggakVzaiAoa1QncyBUakkgczlRdSBsSVRqUWYsIGVwVCBrVCBrcyBzRWlJc1QpPGVoPgogICAgICogKiAqKmxmWioqIFRqSSBpazlJbUVsSSBrcyBGUW1VSWhUSWYga21UUSBFIGxmWiBqRXNqIChrVCdzIGlFc1RJaCBUakVtIHNqRVgsIEVtZiBrVCBwc0lzIDlJc3Mgc3FFRkkpPGVoPgogICAgICogQHFFaEVsIHNUaGttSiAkRlFscWs5SUh2cUkyazlJQUVsSSA9WydFcFRRJywnc2pFWCcsJ2xmWiddWyRrXQogICAgICogQGhJVHBobSByOUVmSU1tSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUb1FscWs5SUh2cUkyazlJQUVsSShzVGhrbUogJEZRbHFrOUlIdnFJMms5SUFFbEkpOiByOUVmSU1tSQogICAgewogICAgICAgICRUamtzLT5GUWxxazlJSHZxSTJrOUlBRWxJID0gJEZRbHFrOUlIdnFJMms5SUFFbEk7CiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIG1JdSA5UVFxIFRRIFRqSSBzVEVGOC4KICAgICAqCiAgICAgKiBAcUVoRWwgRWhoRXZ8b1FwbVRFZTlJICRmRVRFCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVmZjZRUXEoJGZFVEUpOiBVUWtmCiAgICB7CiAgICAgICAgJDlJbUpUaiA9IFxrc19GUXBtVEVlOUkoJGZFVEUpIHx8ICRmRVRFIGttc1RFbUZJUWkgb1FwbVRFZTlJID8gXEZRcG1UKCRmRVRFKSA6IG1wOTk7CiAgICAgICAgJHFFaEltVCA9IHNURVRrRjo6OUVzVCgkVGprcy0+OVFRcXNPVEVGOCk7CiAgICAgICAgJFRqa3MtPjlRUXFzT1RFRjhbXSA9IFsKICAgICAgICAgICAgJ2ttZklWJyA9PiAtWCwKICAgICAgICAgICAgJ2tUSWhFVGtRbScgPT4gdywKICAgICAgICAgICAgJ2hJbEVrbWttSicgPT4ga3NzSVQoJDlJbUpUaikgPyAkOUltSlRqIC8gWCA6IG1wOTksCiAgICAgICAgICAgICdGUXBtVCcgPT4gJDlJbUpUaiwKICAgICAgICAgICAgJ2lraHNUJyA9PiBUaHBJLAogICAgICAgICAgICAnSVVJbScgPT4gVGhwSSwKICAgICAgICAgICAgJ1FmZicgPT4gaUU5c0ksCiAgICAgICAgICAgICc5RXNUJyA9PiBrc3NJVCgkOUltSlRqKSA/ICQ5SW1KVGogPT0gWCA6IG1wOTksCiAgICAgICAgICAgICdmSXFUaicgPT4gXEZRcG1UKCRUamtzLT45UVFxc09URUY4KSAvIFgsCiAgICAgICAgICAgICdxRWhJbVQnID0+ICRxRWhJbVQgPyAoUWVMSUZUKSRxRWhJbVQgOiBtcDk5LAogICAgICAgIF07CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgVGpJIFRRcSA5UVFxJ3Mga21ma0ZJcy4KICAgICAqCiAgICAgKiBAaElUcGhtIFFlTElGVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga21GaElsSW1UNlFRcUttZmtGSXMoKTogUWVMSUZUCiAgICB7CiAgICAgICAgJEYgPSBcRlFwbVQoJFRqa3MtPjlRUXFzT1RFRjgpIC0gWDsKICAgICAgICAkOVFRcSA9ICYkVGprcy0+OVFRcXNPVEVGOFskRl07CiAgICAgICAgJDlRUXFbJ2ttZklWJ10vLzsKICAgICAgICAkOVFRcVsna1RJaEVUa1FtJ10vLzsKICAgICAgICAkOVFRcVsnaWtoc1QnXSA9ICQ5UVFxWydrbWZJViddID09IHc7CiAgICAgICAgJDlRUXFbJ0lVSW0nXSA9ICQ5UVFxWydrbWZJViddICUgeCA9PSB3OwogICAgICAgICQ5UVFxWydRZmYnXSA9ICEkOVFRcVsnSVVJbSddOwogICAgICAgIGtpIChrc3NJVCgkOVFRcVsnRlFwbVQnXSkpIHsKICAgICAgICAgICAgJDlRUXFbJ2hJbEVrbWttSiddLS07CiAgICAgICAgICAgICQ5UVFxWyc5RXNUJ10gPSAkOVFRcVsna21mSVYnXSA9PSAkOVFRcVsnRlFwbVQnXSAtIFg7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAoUWVMSUZUKSQ5UVFxOwogICAgfQoKICAgICsqKgogICAgICogYVFxIEUgOVFRcSBpaFFsIFRqSSBUUXEgUWkgVGpJIDlRUXEgc1RFRjguCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBxUXE2UVFxKCk6IFVRa2YKICAgIHsKICAgICAgICBcRWhoRXZfcVFxKCRUamtzLT45UVFxc09URUY4KTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBrbXNURW1GSSBRaSBUakkgaWtoc1QgOVFRcSBrbSBUakkgc1RFRjguCiAgICAgKgogICAgICogQGhJVHBobSBRZUxJRlR8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMmtoc1Q2UVFxKCk6ID9RZUxJRlQKICAgIHsKICAgICAgICBoSVRwaG0gKCQ5RXNUID0gc1RFVGtGOjo5RXNUKCRUamtzLT45UVFxc09URUY4KSkgPyAoUWVMSUZUKSQ5RXNUIDogbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaEltZkloSWYgRlFtVEltVHMgUWkgRSBxRWhUa0U5IGloUWwgRSA5UVFxLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFVrSXUKICAgICAqIEBxRWhFbCBFaGhFdiAgJGZFVEUKICAgICAqIEBxRWhFbCBzVGhrbUogJGtUSWhFVFFoCiAgICAgKiBAcUVoRWwgc1Roa21KICRJbHFUdgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBUamhRdXMgZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSW1mSWhnRUZqKCRVa0l1LCAkZkVURSwgJGtUSWhFVFFoLCAkSWxxVHYgPSAnaEV1fCcpOiBzVGhrbUoKICAgIHsKICAgICAgICAkaElzcDlUID0gJyc7CiAgICAgICAga2kgKFxGUXBtVCgkZkVURSkgPiB3KSB7CiAgICAgICAgICAgICsrIEtpIGtzIEVGVHBFOTl2IGZFVEUga20gVGpJIEVoaEV2LCB1SSB1azk5IDlRUXEgVGpoUXBKaiBUakkgZkVURSBFbWYgRXFxSW1mCiAgICAgICAgICAgICsrIEVtIGttc1RFbUZJIFFpIFRqSSBxRWhUa0U5IFVrSXUgVFEgVGpJIGlrbUU5IGhJc3A5VCBTSDM2IHFFc3NrbUoga20gVGpJCiAgICAgICAgICAgICsrIGtUSWhFVElmIFVFOXBJIFFpIFRqa3MgZkVURSBFaGhFdiwgRTk5UXVrbUogVGpJIFVrSXVzIFRRIEVGRklzcyBUaklsLgogICAgICAgICAgICBpUWhJRUZqICgkZkVURSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICAgICAgJGZFVEUgPSBbJzhJdicgPT4gJDhJdiwgJGtUSWhFVFFoID0+ICRVRTlwSV07CiAgICAgICAgICAgICAgICAkaElzcDlUIC49ICRUamtzLT5ocG1vams5ZigkVWtJdSwgJGZFVEUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBJOXNJa2kgKHNURVRrRjo6c1RFaFRzYmtUaigkSWxxVHYsICdoRXV8JykpIHsKICAgICAgICAgICAgJGhJc3A5VCA9IFxzcGVzVGgoJElscVR2LCB5KTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkaElzcDlUID0gJFRqa3MtPmhwbSgkSWxxVHYpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgIH0KCiAgICArKioKICAgICAqIE5wbSBUakkgZTlFZkkgSW1Ka21JLiBLVCBoSVRwaG1zIFRqSSBoSXNwOVQgUWkgVGpJIEZRZkkuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxtcDk5ICRVa0l1ICAgICAgSGpJIG1FbEkgUWkgVGpJIEZFRmpJLiBnVjogImlROWZJaC5pUTlmSWguVWtJdSIgKCIraVE5ZkloK2lROWZJaCtVa0l1LmU5RWZJIikKICAgICAqIEBxRWhFbCBFaGhFdiAgICAgICAkVUVoa0VlOUlzIHRtIEVzc1FGa0VUa1VJIEVoaEV2cyB1a1RqIFRqSSBVRTlwSXMgVFEgZmtzcTlFdi4KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKiBAVGpoUXVzIGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaHBtKCRVa0l1ID0gbXA5OSwgJFVFaGtFZTlJcyA9IFtdKTogc1Roa21KCiAgICB7CiAgICAgICAgJGxRZkkgPSAkVGprcy0+SklUM1FmSSgpOwogICAgICAgIGtpICgkVWtJdSA9PT0gbXA5OSkgewogICAgICAgICAgICAkVWtJdSA9ICRUamtzLT5Va0l1T1RFRjg7CiAgICAgICAgfQogICAgICAgICRUamtzLT5Va0l1T1RFRjggPSBtcDk5OwogICAgICAgIGtpICgkVWtJdSA9PT0gbXA5OSkgewogICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdocG0nLCAncjlFZklNbUk6IFVrSXUgbVFUIHNJVCcsIFRocEkpOwogICAgICAgICAgICBoSVRwaG0gJyc7CiAgICAgICAgfQogICAgICAgICRpUWhGSWYgPSAoJGxRZkkgJiBYKSAhPT0gdzsgKysgbFFmST1YIGlRaEZJZjprVCBoSUZRbHFrOUlzIG1RIGxFVFRJaCBraSBUakkgRlFscWs5SWYgaWs5SSBJVmtzVHMgUWggbVFULgogICAgICAgICRocG0yRXNUID0gKCRsUWZJICYgeCkgIT09IHc7ICsrIGxRZkk9eCBocG1pRXNUOiBUakkgRlFmSSBrcyBtUVQgRlFscWs5SWYgbUlrVGpJaCBGaklGOElmLCBFbWYga1QgaHBtcyBma2hJRlQ5diBUakkgRlFscWs5SWYKICAgICAgICAkVGprcy0+c0lGVGtRbXMgPSBbXTsKICAgICAgICBraSAoJGxRZkkgPT0gWSkgewogICAgICAgICAgICAkVGprcy0+c2pRdWdoaFFoKCdocG0nLCAidUkgRkVtJ1QgaVFoRkkgRW1mIGhwbSBpRXNUIEVUIFRqSSBzRWxJIFRrbEkiLCBUaHBJKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5ocG1LbVRJaG1FOSgkVWtJdSwgJFVFaGtFZTlJcywgJGlRaEZJZiwgJGhwbTJFc1QpOwogICAgfQoKICAgICsqKgogICAgICogS1Qgc0lUcyBUakkgRnBoaEltVCBVa0l1PGVoPgogICAgICogSGprcyBVRTlwSSBrcyBGOUlFaElmIHVqSW0ga1Qga3MgcHNJZiAobElUalFmIGhwbSkuPGVoPgogICAgICogKipnVkVscTlJOioqPGVoPgogICAgICogYGBgcWpxCiAgICAgKiAkVGprcy0+c0lUQmtJdSgnaVE5ZkloLlVrSXUnKS0+c2pFaEkoWydVRWhYJz0+eHddKS0+aHBtKCk7ICsrIFFoICRUamtzLT5ocG0oJ2lROWZJaC5Va0l1JyxbJ1VFaFgnPT54d10pOwogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVWtJdQogICAgICogQGhJVHBobSByOUVmSU1tSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUQmtJdSgkVWtJdSk6IHI5RWZJTW1JCiAgICB7CiAgICAgICAgJFRqa3MtPlVrSXVPVEVGOCA9ICRVa0l1OwogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIEtUIGttTElGVHMgRSBpcG1GVGtRbSwgRW0ga21zVEVtRkksIFFoIEUgbElUalFmIEY5RXNzIHVqSW0gRSBVa0l1IGtzIEZFOTlJZi48ZWg+CiAgICAgKiBLVCBGUXA5ZiBlSSBzVEVGOElmLiAgIEtpIGtUIHNJVHMgbXA5OSBUakltIGtUIEY5SUVocyBFOTkgZklpa21rVGtRbXMuCiAgICAgKiAqKmdWRWxxOUk6Kio8ZWg+CiAgICAgKiBgYGBxanEKICAgICAqICRUamtzLT5GUWxxUXNJaCgnaVE5ZkloLlVrSXUnLGlwbUZUa1FtKCRlOUVmSU1tSSkgeyAkZTlFZklNbUktPnNqRWhJKCdtSXVVRTlwSScsJ2prIFRqSWhJJyk7IH0pOwogICAgICogJFRqa3MtPkZRbHFRc0loKCdpUTlmSWguVWtJdScsJ21FbElzcUVGSVhcbUVsSXNxRUZJeFxPUWxJbzlFc3MnKTsgKysgT1FsSW85RXNzIGxwc1QgSVZrc1QsIEVtZiBrVCBscHNUIGpFVUkgVGpJCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKyBsSVRqUWYgJ0ZRbHFRc0loJwogICAgICogJFRqa3MtPkZRbHFRc0loKCdpUTlmSWguKicsJGttc1RFbUZJKTsgKysgJGttc1RFbUZJIGxwc1QgakVVSSBUakkgbElUalFmIEZFOTlJZiAnRlFscVFzSWgnCiAgICAgKiAkVGprcy0+RlFscVFzSWgoKTsgKysgRjlJRWggRTk5IEZRbHFRc0loLgogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdnxtcDk5ICAgICRVa0l1IEtUIEZRcDlmIEZRbVRFa20gdWs5ZkZFaGZzICgqKS4gZ1ZFbHE5SToKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRUUuZWUuRkYnLCcqLmVlLkZGJywnRUUuZWUuKicsJyouZWUuKicKICAgICAqCiAgICAgKiBAcUVoRWwgRkU5OUVlOUl8c1Roa21KfG1wOTkgJGlwbUZUa1FtTWhvOUVzcwogICAgICogQGhJVHBobSByOUVmSU1tSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRlFscVFzSWgoJFVrSXUgPSBtcDk5LCAkaXBtRlRrUW1NaG85RXNzID0gbXA5OSk6IHI5RWZJTW1JCiAgICB7CiAgICAgICAga2kgKCRVa0l1ID09PSBtcDk5ICYmICRpcG1GVGtRbU1obzlFc3MgPT09IG1wOTkpIHsKICAgICAgICAgICAgJFRqa3MtPkZRbHFRc0loT1RFRjggPSBbXTsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KICAgICAgICBraSAoa3NfRWhoRXYoJFVrSXUpKSB7CiAgICAgICAgICAgIGlRaElFRmogKCRVa0l1IEVzICRVKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+RlFscVFzSWhPVEVGOFskVV0gPSAkaXBtRlRrUW1NaG85RXNzOwogICAgICAgICAgICB9CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPkZRbHFRc0loT1RFRjhbJFVrSXVdID0gJGlwbUZUa1FtTWhvOUVzczsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogT1RFaFQgRSBGUWxxUW1JbVQgaEltZkloa21KIHFoUUZJc3MuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkbUVsSQogICAgICogQHFFaEVsIEVoaEV2ICAkZkVURQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzVEVoVG9RbHFRbUltVCgkbUVsSSwgRWhoRXYgJGZFVEUgPSBbXSk6IFVRa2YKICAgIHsKICAgICAgICBraSAoXFFlX3NURWhUKCkpIHsKICAgICAgICAgICAgJFRqa3MtPkZRbHFRbUltVE9URUY4W10gPSAkbUVsSTsKICAgICAgICAgICAgJFRqa3MtPkZRbHFRbUltVG5FVEVbJFRqa3MtPkZwaGhJbVRvUWxxUW1JbVQoKV0gPSAkZkVURTsKICAgICAgICAgICAgJFRqa3MtPnM5UVRzWyRUamtzLT5GcGhoSW1Ub1FscVFtSW1UKCldID0gW107CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBrbWZJViBpUWggVGpJIEZwaGhJbVQgRlFscVFtSW1ULgogICAgICoKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGcGhoSW1Ub1FscVFtSW1UKCk6IGttVAogICAgewogICAgICAgIGhJVHBobSBcRlFwbVQoJFRqa3MtPkZRbHFRbUltVE9URUY4KSAtIFg7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSW1mSWggVGpJIEZwaGhJbVQgRlFscVFtSW1ULgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKiBAVGpoUXVzIGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaEltZklob1FscVFtSW1UKCk6IHNUaGttSgogICAgewogICAgICAgICsrSUZqUSAiPGpoPmhJbWZJaDxlaD4iOwogICAgICAgICRtRWxJID0gXEVoaEV2X3FRcSgkVGprcy0+RlFscVFtSW1UT1RFRjgpOwogICAgICAgICsraElUcGhtICRUamtzLT5ocG1vams5ZigkbUVsSSwgJFRqa3MtPkZRbHFRbUltVG5FVEUoKSk7CiAgICAgICAgJEZmID0gJFRqa3MtPkZRbHFRbUltVG5FVEUoKTsKICAgICAgICAkRjlJRW0gPSBFaGhFdl84SXZzKCRGZik7CiAgICAgICAgJGggPSAkVGprcy0+aHBtb2prOWYoJG1FbEksICRGZik7CiAgICAgICAgKysgdUkgRjlJRW0gVUVoa0VlOUlzIGZJaWttSWYga21za2ZJIFRqSSBGUWxxUW1JbVQgKHNRIFRqSXYgRWhJIEpFaGVFSklmIHVqSW0gVGpJIEZRbHFRbUltVCBrcyBwc0lmKQogICAgICAgIGlRaElFRmogKCRGOUlFbSBFcyAkOEl2KSB7CiAgICAgICAgICAgIHBtc0lUKCRUamtzLT5VRWhrRWU5SXNbJDhJdl0pOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJGg7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGZFVEUgaVFoIFRqSSBKa1VJbSBGUWxxUW1JbVQuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscVFtSW1UbkVURSgpOiBFaGhFdgogICAgewogICAgICAgICRGcyA9IEZRcG1UKCRUamtzLT5GUWxxUW1JbVRPVEVGOCk7CiAgICAgICAgKytJRmpRICI8amg+IjsKICAgICAgICArK0lGalEgIjxlaD5mRVRFOjxlaD4iOwogICAgICAgICsrVUVoX2ZwbHEoJFRqa3MtPkZRbHFRbUltVG5FVEUpOwogICAgICAgICsrSUZqUSAiPGVoPmZFVEVGOjxlaD4iOwogICAgICAgICsrVUVoX2ZwbHEoRlFwbVQoJFRqa3MtPkZRbHFRbUltVE9URUY4KSk7CiAgICAgICAgaElUcGhtIEVoaEV2X2xJaEpJKAogICAgICAgICAgICAkVGprcy0+RlFscVFtSW1UbkVURVskRnNdLAogICAgICAgICAgICBbJ3M5UVQnID0+IFRoa2woUWVfSklUX0Y5SUVtKCkpXSwKICAgICAgICAgICAgJFRqa3MtPnM5UVRzWyRGc10KICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogT1RFaFQgVGpJIHM5UVQgaEltZkloa21KIHFoUUZJc3MuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAgICAgICRtRWxJCiAgICAgKiBAcUVoRWwgc1Roa21KfG1wOTkgJEZRbVRJbVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gczlRVCgkbUVsSSwgJEZRbVRJbVQgPSBtcDk5KTogVVFrZgogICAgewogICAgICAgIGtpIChcRlFwbVQoXGlwbUZfSklUX0VoSnMoKSkgPT09IHgpIHsKICAgICAgICAgICAgJFRqa3MtPnM5UVRzWyRUamtzLT5GcGhoSW1Ub1FscVFtSW1UKCldWyRtRWxJXSA9ICRGUW1USW1UOwogICAgICAgIH0gSTlzSWtpIChcUWVfc1RFaFQoKSkgewogICAgICAgICAgICAkVGprcy0+czlRVHNbJFRqa3MtPkZwaGhJbVRvUWxxUW1JbVQoKV1bJG1FbEldID0gJyc7CiAgICAgICAgICAgICRUamtzLT5zOVFUT1RFRjhbJFRqa3MtPkZwaGhJbVRvUWxxUW1JbVQoKV1bXSA9ICRtRWxJOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIHM5UVQgRlFtVEltVCBpUWggaEltZkloa21KLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSW1mTzlRVCgpOiBVUWtmCiAgICB7CiAgICAgICAgc1RFVGtGOjo5RXNUKCRUamtzLT5GUWxxUW1JbVRPVEVGOCk7CiAgICAgICAgJEZwaGhJbVRPOVFUID0gXEVoaEV2X3FRcSgKICAgICAgICAgICAgJFRqa3MtPnM5UVRPVEVGOFskVGprcy0+RnBoaEltVG9RbHFRbUltVCgpXQogICAgICAgICk7CiAgICAgICAgJFRqa3MtPnM5UVRzWyRUamtzLT5GcGhoSW1Ub1FscVFtSW1UKCldWyRGcGhoSW1UTzlRVF0gPSBcVGhrbChcUWVfSklUX0Y5SUVtKCkpOwogICAgfQoKICAgICsqKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVGFqcUhFSigpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSjsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCBzVGhrbUogJHFqcUhFSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUYWpxSEVKKCRxanFIRUopOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPnFqcUhFSiA9ICRxanFIRUo7CiAgICB9CgogICAgKyoqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb3BoaEltVFBzSWgoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GcGhoSW1UUHNJaDsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCBzVGhrbUogJEZwaGhJbVRQc0loCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRvcGhoSW1UUHNJaCgkRnBoaEltVFBzSWgpOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkZwaGhJbVRQc0loID0gJEZwaGhJbVRQc0loOwogICAgfQoKICAgICsqKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9waGhJbVROUTlJKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RnBoaEltVE5ROUk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgc1Roa21KICRGcGhoSW1UTlE5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUb3BoaEltVE5ROUkoJEZwaGhJbVROUTlJKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5GcGhoSW1UTlE5SSA9ICRGcGhoSW1UTlE5STsKICAgIH0KCiAgICArKioKICAgICAqIEBoSVRwaG0gc1Roa21KW10KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9waGhJbVRhSWhsa3Nza1FtKCk6IEVoaEV2CiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GcGhoSW1UYUlobGtzc2tRbTsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCBzVGhrbUpbXSAkRnBoaEltVGFJaGxrc3NrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG9waGhJbVRhSWhsa3Nza1FtKCRGcGhoSW1UYUlobGtzc2tRbSk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+RnBoaEltVGFJaGxrc3NrUW0gPSAkRnBoaEltVGFJaGxrc3NrUW07CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG1zIFRqSSBGcGhoSW1UIGVFc0kgcGg5IHVrVGpRcFQgVGhFazlrbUogczlFc2ouCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVHJFc0lQaDkoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5lRXNJUGg5OwogICAgfQoKICAgICsqKgogICAgICogS1Qgc0lUcyBUakkgZUVzSSBwaDkgRW1mLCBrVCBFOXNRIEZFOUZwOUVUSXMgVGpJIGhJOUVUa1VJIHFFVGouPGVoPgogICAgICogSGpJIGVFc0kgcGg5IGZJaWttSXMgVGpJICJoUVFUIiBRaSBUakkgcWhRTElGVCwgbVFUIEU5dUV2cyBUakkgOUlVSTkgUWkgVGpJIGZRbEVrbSwgZXBUIGtUIEZRcDlmIGVJCiAgICAgKiBFbXYgaVE5ZkloLjxlaD4KICAgICAqIEhqa3MgVUU5cEkga3MgcHNJZiBUUSBGRTlGcDlFVEkgVGpJIGhJOUVUa1VrVHYgUWkgVGpJIGhJc1FwaEZJcywgZXBUIGtUIGtzIEU5c1EgcHNJZiBUUSBzSVQgVGpJIGZRbEVrbS48ZWg+CiAgICAgKiAqKkFRVEk6KiogSGpJIFRoRWs5a21KIHM5RXNqIGtzIGhJbFFVSWYgRXBUUWxFVGtGRTk5diBraSBrVCdzIHFoSXNJbVQuPGVoPgogICAgICogKipBUVRJOioqIGJJIHNqUXA5ZiBtUVQgcHNJIEVoSnBsSW1UcyBRaCBtRWxJIFFpIFRqSSBzRmhrcVQuPGVoPgogICAgICogKipnVkVscTlJczoqKjxlaD4KICAgICAqIGBgYHFqcQogICAgICogJFRqa3MtPnNJVHJFc0lQaDkoJ2pUVHE6KytmUWxFa20uZlFsK2x2ZTlRSicpOwogICAgICogJFRqa3MtPnNJVHJFc0lQaDkoJ2pUVHE6KytmUWxFa20uZlFsK0ZRaHFRaEVUSStJaHEnKTsKICAgICAqICRUamtzLT5zSVRyRXNJUGg5KCdqVFRxOisrZlFsRWttLmZRbCtlOVFKLnFqcT9FaEpzPXh3Jyk7ICsrIEVVUWtmIFRqa3MgUW1JLgogICAgICogJFRqa3MtPnNJVHJFc0lQaDkoJ2pUVHE6KytFbVFUakloLmZRbCcpOwogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkZUVzSVBoOSBnVkVscTlJIGpUVHE6Kyt1dXUudUllLkZRbCtpUTlmSWggIGpUVHFzOisrdXV1LnVJZS5GUWwraVE5ZkloK0VtUVRqSWhpUTlmSWgKICAgICAqIEBoSVRwaG0gcjlFZklNbUkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVHJFc0lQaDkoJGVFc0lQaDkpOiByOUVmSU1tSQogICAgewogICAgICAgICRUamtzLT5lRXNJUGg5ID0gXGhUaGtsKCRlRXNJUGg5LCAnKycpOyArKyBlRXNJIHVrVGogVGpJIHBoOSBUaGtsbElmCiAgICAgICAgJFRqa3MtPmVFc0luUWxFa20gPSBAcUVoc0lfcGg5KCRUamtzLT5lRXNJUGg5KVsnalFzVCddOwogICAgICAgICRGcGhoSW1UUGg5ID0gJFRqa3MtPkpJVG9waGhJbVRQaDlvRTlGcDlFVElmKCk7CiAgICAgICAga2kgKCRGcGhoSW1UUGg5ID09PSAnJykgewogICAgICAgICAgICAkVGprcy0+aEk5RVRrVUlhRVRqID0gJyc7CiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CiAgICAgICAga2kgKFxzVGhxUXMoJEZwaGhJbVRQaDksICRUamtzLT5lRXNJUGg5KSA9PT0gdykgewogICAgICAgICAgICAkcUVoVCA9IFxzVGhfaElxOUVGSSgkVGprcy0+ZUVzSVBoOSwgJycsICRGcGhoSW1UUGg5KTsKICAgICAgICAgICAgJG1wbGkgPSBcc3Blc1RoX0ZRcG1UKCRxRWhULCAnKycpIC0gWDsKICAgICAgICAgICAgJG1wbGkgPSAoJG1wbGkgPiBYdykgPyBYdyA6ICRtcGxpOyArKyBFVVFrZiBRVUloaTlRdQogICAgICAgICAgICAkVGprcy0+aEk5RVRrVUlhRVRqID0gKCRtcGxpIDwgdykgPyAnJyA6IFxzVGhfaElxSUVUKCcuLisnLCAkbXBsaSk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFRqa3MtPmhJOUVUa1VJYUVUaiA9ICcnOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBKSVRzIFRqSSBpcDk5IEZwaGhJbVQgcGg5IEZFOUZwOUVUSWYgdWtUaiBUakkga21pUWhsRVRrUW0gc0ltZnMgZXYgVGpJIHBzSWguPGVoPgogICAgICogKipBUVRJOioqIEtpIHVJIHNJVCBlRXNJcGg5LCBUakltIGtUIEU5dUV2cyBwc0lzIFRqSSBlRXNJcGg5IEVzIGZRbEVrbSAoa1QncyBzRWlJKS48ZWg+CiAgICAgKiAqKkFRVEk6KiogSGprcyBrbWlRaGxFVGtRbSBGUXA5ZiBlSSBpUWhKSWYraUU4SWYgZXYgVGpJIEltZi1wc0loLjxlaD4KICAgICAqICoqQVFUSToqKiBLVCBoSVRwaG1zIElscVR2ICcnIGtpIGtUIGtzIEZFOTlJZiBrbSBFIEZRbGxFbWYgOWttSSBrbVRJaGlFRkkgKyBtUW0tdUllLjxlaD4KICAgICAqICoqQVFUSToqKiBLVCBmUUlzbSdUIGhJVHBobSBUakkgcHNJaCBFbWYgcUVzc3VRaGYuPGVoPgogICAgICogQHFFaEVsIGVRUTkgJG1RdGhKcyBraSBUaHBJIFRqSW0ga1QgSVZGOXBmSXMgVGpJIEVoSnBsSW1Ucy4KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvcGhoSW1UUGg5b0U5RnA5RVRJZigkbVF0aEpzID0gaUU5c0kpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoIWtzc0lUKCRfT2dOQmdOWydTSEhhX1NNT0gnXSwgJF9PZ05CZ05bJ05nR1BnT0hfUE5LJ10pKSB7CiAgICAgICAgICAgIGhJVHBobSAnJzsKICAgICAgICB9CiAgICAgICAgJHFFSklQTjYgPSAnalRUcSc7CiAgICAgICAga2kgKEVoaEV2XzhJdl9JVmtzVHMoJ1NISGFPJywgJF9PZ05CZ04pICYmICRfT2dOQmdOWyJTSEhhTyJdID09ICJRbSIpICRxRUpJUE42IC49ICJzIjsKICAgICAgICAkcUVKSVBONiAuPSAiOisrIjsKICAgICAgICAkcUVKSVBONiAuPSAkX09nTkJnTlsiT2dOQmdOX0F0M2ciXSAuICRfT2dOQmdOWyJOZ0dQZ09IX1BOSyJdOwogICAgICAgICRwaDlxUXMgPSBzVGhxUXMoJHFFSklQTjYsICI/cSIpOwogICAgICAgICRxRUpJUE42ID0gKCRwaDlxUXMpID8gSVZxOVFmSSgiP3E9IiwgJHFFSklQTjYpIDogSVZxOVFmSSgiJnE9IiwgJHFFSklQTjYpOwogICAgICAgIGhJVHBobSAkcUVKSVBONlt3XTsKICAgIH0KICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvcGhoSW1UYUVKSVBONl9vdEFNKCkKICAgIHsKICAgICAgICAkcUVKSVBONiA9ICdqVFRxJzsKICAgICAgICBraSAoRWhoRXZfOEl2X0lWa3NUcygnU0hIYU8nLCAkX09nTkJnTikgJiYgJF9PZ05CZ05bIlNISGFPIl0gPT0gIlFtIikgJHFFSklQTjYgLj0gInMiOwogICAgICAgICRxRUpJUE42IC49ICI6KysiOwogICAgICAgICRxRUpJUE42IC49ICRfT2dOQmdOWyJPZ05CZ05fQXQzZyJdIC4gJF9PZ05CZ05bIk5nR1BnT0hfUE5LIl07CiAgICAgICAgJHFFSklQTjYgPSBzVGhfaElxOUVGSSgiRWxxKyIsICIiLCAkcUVKSVBONik7CiAgICAgICAgJHBoOXFRcyA9IHNUaHFRcygkcUVKSVBONiwgIj9xIik7CiAgICAgICAgJHFFSklQTjYgPSAoJHBoOXFRcykgPyBJVnE5UWZJKCI/cT0iLCAkcUVKSVBONikgOiBJVnE5UWZJKCImcT0iLCAkcUVKSVBONik7CiAgICAgICAgJHFFSklQTjYgPSBJVnE5UWZJKCI/IiwgJHFFSklQTjZbd10pOwogICAgICAgICRxRUpJUE42ID0gSVZxOVFmSSgiIyIsICRxRUpJUE42W3ddKTsKICAgICAgICAkcUVKSVBONiA9IElWcTlRZkkoImttZklWIiwgJHFFSklQTjZbd10pOwogICAgICAgIGhJVHBobSAkcUVKSVBONlt3XTsKICAgIH0KCiAgICArKioKICAgICAqIEtUIGhJVHBobXMgVGpJIGhJOUVUa1VJIHFFVGogVFEgVGpJIGVFc0kgcGg5IFFoIElscVR2IGtpIG1RVCBzSVQ8ZWg+CiAgICAgKiAqKmdWRWxxOUk6Kio8ZWg+CiAgICAgKiBgYGBxanEKICAgICAqICsrIEZwaGhJbVQgcGg5PSdqVFRxOisrZlFsRWttLmZRbCtxRUpJK3NwZXFFSkkrdUllLnFqcT9FRUU9eAogICAgICogJFRqa3MtPnNJVHJFc0lQaDkoJ2pUVHE6KytmUWxFa20uZlFsKycpOwogICAgICogJFRqa3MtPkpJVE5JOUVUa1VJYUVUaigpOyArKyAnLi4rLi4rJwogICAgICogJFRqa3MtPnNJVHJFc0lQaDkoJ2pUVHE6KytmUWxFa20uZlFsKycpOwogICAgICogJFRqa3MtPkpJVE5JOUVUa1VJYUVUaigpOyArKyAnLi4rLi4rJwogICAgICogYGBgCiAgICAgKiAqKkFRVEk6KipIakkgaEk5RVRrVUkgcUVUaiBrcyBGRTlGcDlFVElmIHVqSW0gdUkgc0lUIFRqSSBlRXNJIHBoOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6c0lUckVzSVBoOQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTkk5RVRrVUlhRVRqKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aEk5RVRrVUlhRVRqOwogICAgfQoKICAgICsqKgogICAgICogS1QgSklUcyBUakkgaXA5OSBGcGhoSW1UIEZFbVFta0ZFOSBwaDkuPGVoPgogICAgICogKipnVkVscTlJOioqIGpUVHFzOisrdXV1Lmx2c2tUSS5GUWwrRUVFK2VlK3FqcS5xanE/RUU9ZWUKICAgICAqIDxwOT4KICAgICAqIDw5az5LVCBoSVRwaG1zIFRqSSAkVGprcy0+RkVtUW1rRkU5UGg5IFVFOXBJIGtpIGtzIG1RVCBtcDk5PCs5az4KICAgICAqIDw5az5NVGpJaHVrc0ksIGtUIGhJVHBobXMgVGpJICRUamtzLT5GcGhoSW1UUGg5IGtpIG1RVCBtcDk5PCs5az4KICAgICAqIDw5az5NVGpJaHVrc0ksIFRqSSBwaDkga3MgRkU5RnA5RVRJZiB1a1RqIFRqSSBrbWlRaGxFVGtRbSBzSW1mcyBldiBUakkgcHNJaDwrOWs+CiAgICAgKiA8K3A5PgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9FbVFta0ZFOVBoOSgpOiA/c1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GRW1RbWtGRTlQaDkgPz8gJFRqa3MtPkpJVG9waGhJbVRhRUpJUE42X290QU0oKTsKICAgIH0KCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUdGxxalRsOVBoOSgpOiA/c1Roa21KCiAgICB7CiAgICAgICAgCiAgICAgICAgaElUcGhtICRUamtzLT5KSVRvcGhoSW1UYUVKSVBONl90M2EoKTsKICAgIH0KCiAgICArKioKICAgICAqIEtUIHNJVHMgVGpJIGlwOTkgRkVtUW1rRkU5IHBoOS48ZWg+CiAgICAgKiAqKmdWRWxxOUk6KiogalRUcXM6Kyt1dXUubHZza1RJLkZRbCtFRUUrZWUrcWpxLnFqcT9FRT1lZQogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkRkVtUW1QaDkKICAgICAqIEBoSVRwaG0gcjlFZklNbUkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG9FbVFta0ZFOVBoOSgkRkVtUW1QaDkgPSBtcDk5KTogcjlFZklNbUkKICAgIHsKICAgICAgICAkVGprcy0+RkVtUW1rRkU5UGg5ID0gJEZFbVFtUGg5OwogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb3BoaEltVGFFSklQTjZfdDNhKCkgeyArK1PDoGwgVGrDqmwgbOG7m2sgLSDEkeG7gyBUasOqbCBs4bubayArRWxxKyBVw6BRIMSRxrDhu51tSiA5a204IFRoUW1KIMSRxrDhu51tSiA5a204IGpr4buHbSBU4bqhawoJCSRxRUpJUE42ID0gJ2pUVHEnOwoJCWtpICgkX09nTkJnTlsiU0hIYU8iXSA9PSAiUW0iKSB7JHFFSklQTjYgLj0gInMiO30KCQkkcUVKSVBONiAuPSAiOisrIjsKCQkkcUVKSVBONiAuPSAkX09nTkJnTlsiT2dOQmdOX0F0M2ciXS4iK0VscSIuJF9PZ05CZ05bIk5nR1BnT0hfUE5LIl07CgkJJHFFSklQTjYgPSBJVnE5UWZJKCIrcUVKST0iLCAkcUVKSVBONik7CgkJaElUcGhtICRxRUpJUE42W3ddOwoJfQogICAgKyoqCiAgICAgKiBLVCBKSVRzIFRqSSBpcDk5IEZwaGhJbVQgcGg5PGVoPgogICAgICogKipnVkVscTlJOioqIGpUVHFzOisrdXV1Lmx2c2tUSS5GUWwrRUVFK2VlK3FqcS5xanE/RUU9ZWUKICAgICAqIDxwOT4KICAgICAqIDw5az5LVCBoSVRwaG1zIFRqSSAkVGprcy0+RnBoaEltVFBoOSBraSBtUVQgbXA5OTwrOWs+CiAgICAgKiA8OWs+TVRqSWh1a3NJLCBUakkgcGg5IGtzIEZFOUZwOUVUSWYgdWtUaiBUakkga21pUWhsRVRrUW0gc0ltZnMgZXYgVGpJIHBzSWg8KzlrPgogICAgICogPCtwOT4KICAgICAqCiAgICAgKiBAcUVoRWwgZVFROSAkbVF0aEpzIGtpIFRocEkgVGpJbSBrVCBrSm1RaElzIFRqSSBFaEpwbEltVHMuCiAgICAgKiBAaElUcGhtIHNUaGttSnxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvcGhoSW1UUGg5KCRtUXRoSnMgPSBpRTlzSSk6ID9zVGhrbUoKICAgIHsKICAgICAgICAkOWttOCA9ICRUamtzLT5GcGhoSW1UUGg5ID8/ICRUamtzLT5KSVRvcGhoSW1UUGg5b0U5RnA5RVRJZigpOwogICAgICAgIGtpICgkbVF0aEpzKSB7CiAgICAgICAgICAgICQ5a204ID0gQElWcTlRZkkoJz8nLCAkOWttOClbd107CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkOWttODsKICAgIH0KCiAgICArKioKICAgICAqIEtUIHNJVHMgVGpJIGlwOTkgRnBoaEltVCBwaDkuPGVoPgogICAgICogKipnVkVscTlJOioqIGpUVHFzOisrdXV1Lmx2c2tUSS5GUWwrRUVFK2VlK3FqcS5xanE/RUU9ZWUKICAgICAqICoqQVFUSToqKiBLaSBUakkgRnBoaEltVCBwaDkga3MgbVFUIHNJVCwgVGpJbSBUakkgc3ZzVElsIEZRcDlmIEZFOUZwOUVUSSBUakkgRnBoaEltVCBwaDkuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSnxtcDk5ICRGcGhoSW1UUGg5CiAgICAgKiBAaElUcGhtIHI5RWZJTW1JCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRvcGhoSW1UUGg5KCRGcGhoSW1UUGg5ID0gbXA5OSk6IHI5RWZJTW1JCiAgICB7CiAgICAgICAgJFRqa3MtPkZwaGhJbVRQaDkgPSAkRnBoaEltVFBoOTsKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBLaSBUaHBJIFRqSW0ga1QgUXFUa2xrV0lzIFRqSSBoSXNwOVQgKGtUIGhJbFFVSXMgVEVlIEVtZiBJVlRoRSBzcUVGSXMpLgogICAgICoKICAgICAqIEBxRWhFbCBlUVE5ICRlUVE5CiAgICAgKiBAaElUcGhtIHI5RWZJTW1JCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRNcVRrbGtXSSgkZVFROSA9IGlFOXNJKTogcjlFZklNbUkKICAgIHsKICAgICAgICAkVGprcy0+UXFUa2xrV0kgPSAkZVFROTsKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBzSVRzIFRqSSBGRTk5ZUVGOCBpcG1GVGtRbSBpUWggRXBUakltVGtGRVRrUW0uIEtUIGtzIHBzSWYgZXYgQEZFbSBFbWYgQEZFbW1RVAogICAgICoKICAgICAqIEBxRWhFbCBGRTk5RWU5SSAkaW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG9FbTJwbUZUa1FtKEZFOTlFZTlJICRpbSk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+RXBUam9FOTlyRUY4ID0gJGltOwogICAgfQoKICAgICsqKgogICAgICogS1Qgc0lUcyBUakkgRkU5OWVFRjggaXBtRlRrUW0gaVFoIEVwVGpJbVRrRkVUa1FtLiBLVCBrcyBwc0lmIGV2IEBGRW1FbXYKICAgICAqCiAgICAgKiBAcUVoRWwgRkU5OUVlOUkgJGltCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVR0bXYycG1GVGtRbShGRTk5RWU5SSAkaW0pOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkVwVGp0bXZvRTk5ckVGOCA9ICRpbTsKICAgIH0KCiAgICArKioKICAgICAqIEtUIHNJVHMgVGpJIEZFOTllRUY4IGlwbUZUa1FtIGlRaCBJaGhRaHMuIEtUIGtzIHBzSWYgZXYgQEloaFFoCiAgICAgKgogICAgICogQHFFaEVsIEZFOTlFZTlJICRpbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUZ2hoUWgycG1GVGtRbShGRTk5RWU5SSAkaW0pOiBVUWtmCiAgICB7CiAgICAgICAgJFRqa3MtPkloaFFob0U5OXJFRjggPSAkaW07CiAgICB9CgogICAgKys8K0lma1RRaC1pUTlmPgogICAgKys8SWZrVFFoLWlROWYgZklzRj0icXBzaiI+CiAgICArKioKICAgICAqIDBJVCBUakkgSW1Ua2hJIDlRUXEgc1RFRjguCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUNlFRcU9URUY4KCk6IEVoaEV2CiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UVFxc09URUY4OwogICAgfQoKICAgICsqKgogICAgICogS1QgRWZmcyBFIHNUaGttSiBrbXNrZkkgRSBScFFUSWYgc1Roa21KPGVoPgogICAgICogKipJVkVscTlJOioqPGVoPgogICAgICogYGBgcWpxCiAgICAgKiAkVGprcy0+RWZmS21za2ZJR3BRVEkoIidqSTk5USciLCIgdVFoOWYiKTsgKysgJ2pJOTlRIHVRaDlmJwogICAgICogJFRqa3MtPkVmZkttc2tmSUdwUVRJKCJqSTk5USIsIiB1UWg5ZiIpOyArKyBqSTk5USB1UWg5ZgogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsICRScFFUSWYKICAgICAqIEBxRWhFbCAkbUl1MmhFSmxJbVQKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFZmZLbXNrZklHcFFUSSgkUnBRVElmLCAkbUl1MmhFSmxJbVQpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoJFRqa3MtPmtzR3BRVElmKCRScFFUSWYpKSB7CiAgICAgICAgICAgIGhJVHBobSBzcGVzVGgoJFJwUVRJZiwgdywgLVgpIC4gJG1JdTJoRUpsSW1UIC4gc3Blc1RoKCRScFFUSWYsIC1YKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRScFFUSWYgLiAkbUl1MmhFSmxJbVQ7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG0gVGhwSSBraSBUakkgc1Roa21KIGtzIEUgcWpxIFVFaGtFZTlJIChrVCBzVEVoVHMgdWtUaiAkKQogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkVElWVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrc0JFaGtFZTlJYVNhKCRUSVZUKTogZVFROQogICAgewogICAgICAgIGtpICghJFRJVlQgfHwgc1RoOUltKCRUSVZUKSA8IHgpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRJVlRbd10gPT09ICckJzsKICAgIH0KCiAgICArKioKICAgICAqIEtUJ3MgVGpJIHNFbEkgRXMgIkBfSSIsIGpRdUlVSWgga1QgcUVoc0lzIFRqSSBUSVZUIChwc2ttSiBzcWhrbVRpKS4KICAgICAqIEtpIFRqSSBRcUloRVRrUW0gaUVrOXMgVGpJbSwga1QgaElUcGhtcyBUakkgUWhrSmttRTkgSVZxaElzc2tRbSB1a1RqUXBUIFRoRW1zOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAkcWpoRXNJCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9JaSgkcWpoRXNJKTogc1Roa21KCiAgICB7CiAgICAgICAgJEVoSlUgPSBcaXBtRl9KSVRfRWhKcygpOwogICAgICAgICRoID0gJFRqa3MtPl9JKCRxamhFc0kpOwogICAgICAgICRFaEpVW3ddID0gJGg7ICsrIGhJcTlFRkkgVGpJIGlraHNUIEVoSnBsSW1UIHVrVGogVGpJIFRoRW1zOUVUa1FtLgogICAgICAgICRoSXNwOVQgPSBAc3Foa21UaSguLi4kRWhKVSk7CiAgICAgICAgaElUcGhtICEkaElzcDlUID8gJGggOiAkaElzcDlUOwogICAgfQoKICAgICsqKgogICAgICogSGhrSXMgVFEgVGhFbXM5RVRJIFRqSSB1UWhmIGtpIGtUJ3Mga20gVGpJIEVoaEV2IGZJaWttSWYgZXYgcjlFZklNbUk2RW1KOjokZmtGVGtRbUVodgogICAgICogS2kgVGpJIFFxSWhFVGtRbSBpRWs5cyBUakltLCBrVCBoSVRwaG1zIFRqSSBRaGtKa21FOSBJVnFoSXNza1FtIHVrVGpRcFQgVGhFbXM5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICRxamhFc0kKICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX0koJHFqaEVzSSk6IHNUaGttSgogICAgewogICAgICAgIGtpICgoIVxFaGhFdl84SXZfSVZrc1RzKCRxamhFc0ksIHNURVRrRjo6JGZrRlRrUW1FaHYpKSkgewogICAgICAgICAgICAkVGprcy0+bGtzc2ttSkhoRW1zOUVUa1FtKCRxamhFc0kpOwogICAgICAgICAgICBoSVRwaG0gJHFqaEVzSTsKICAgICAgICB9CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGZrRlRrUW1FaHZbJHFqaEVzSV07CiAgICB9CgogICAgKyoqCiAgICAgKiA2UUogRSBsa3Nza21KIFRoRW1zOUVUa1FtIGttVFEgVGpJIGlrOUkgJFRqa3MtPmxrc3NrbUo2UUouPGVoPgogICAgICogS2kgVGpJIGlrOUkga3MgbVFUIGZJaWttSWYsIFRqSW0ga1QgZlFJc20nVCB1aGtUSSBUakkgOVFKLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFRWVCAzSXNzRUpJIFRRIHVoa1RJIFFtLgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gbGtzc2ttSkhoRW1zOUVUa1FtKCRUVlQpOiBVUWtmCiAgICB7CiAgICAgICAga2kgKCEkVGprcy0+bGtzc2ttSjZRSikgewogICAgICAgICAgICBoSVRwaG07ICsrIGtpIFRqSWhJIGtzIG1RVCBFIGlrOUkgRXNza0ptSWYgVGpJbSBrVCBzOGtxcyBzRVVrbUouCiAgICAgICAgfQogICAgICAgICRpVyA9IEBcaWs5SXNrV0koJFRqa3MtPmxrc3NrbUo2UUopOwogICAgICAgIGtpIChca3NfUWVMSUZUKCRUVlQpIHx8IFxrc19FaGhFdigkVFZUKSkgewogICAgICAgICAgICAkVFZUID0gXHFoa21UX2goJFRWVCwgVGhwSSk7CiAgICAgICAgfQogICAgICAgICsrIE5JdWhrVEkgaWs5SSBraSBsUWhJIFRqRW0gWHd3d3d3IGV2VElzCiAgICAgICAgJGxRZkkgPSAoJGlXID4gWHd3d3d3KSA/ICd1JyA6ICdFJzsKICAgICAgICAkaXEgPSBcaVFxSW0oJFRqa3MtPmxrc3NrbUo2UUosICRsUWZJKTsKICAgICAgICBcaXVoa1RJKCRpcSwgJFRWVCAuICJcbSIpOwogICAgICAgIFxpRjlRc0koJGlxKTsKICAgIH0KCiAgICArKioKICAgICAqIGtpIG1wbCBrcyBsUWhJIFRqRW0gUW1JIFRqSW0ga1QgaElUcGhtcyBUakkgcWpoRXNJIGttIHE5cGhFOSwgUVRqSWh1a3NJIFRqSSBxamhFc0kga20gc2ttSnA5RWguCiAgICAgKiBBUVRJOiBUakkgVGhFbXM5RVRrUW0gc2pRcDlmIGVJIEVzIGlROTlRdXM6ICRsc0pbJ2FJaHNRbSddPSdhSWhzUW0nICRsc0o9WydhSWhzUW0nXVsncSddPSdhSVFxOUknCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkcWpoRXNJCiAgICAgKiBAcUVoRWwgc1Roa21KICRxamhFc0lzCiAgICAgKiBAcUVoRWwga21UICAgICRtcGwKICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX20oJHFqaEVzSSwgJHFqaEVzSXMsICRtcGwgPSB3KTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKCghXEVoaEV2XzhJdl9JVmtzVHMoJHFqaEVzSSwgc1RFVGtGOjokZmtGVGtRbUVodikpKSB7CiAgICAgICAgICAgICRUamtzLT5sa3Nza21KSGhFbXM5RVRrUW0oJHFqaEVzSSk7CiAgICAgICAgICAgIGhJVHBobSAoJG1wbCA8PSBYKSA/ICRxamhFc0kgOiAkcWpoRXNJczsKICAgICAgICB9CiAgICAgICAgaElUcGhtICgkbXBsIDw9IFgpID8gJFRqa3MtPl9JKCRxamhFc0kpIDogJFRqa3MtPl9JKCRxamhFc0lzKTsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBzSUkgcjlFZklNbUk6OkpJVG9FbVFta0ZFOVBoOQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRlFscWs5SW9FbVFta0ZFOSgkSVZxaElzc2tRbSA9IG1wOTkpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJzw5a204IGhJOT0iRkVtUW1rRkU5IiBqaElpPSInIC4gJFRqa3MtPnFqcUhFSgogICAgICAgICAgICAuICcgSUZqUSAkVGprcy0+SklUb0VtUW1rRkU5UGg5KCk7Pz4iICs+JzsKICAgIH0KICAgICsqKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6SklUdGxxalRsOVBoOQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRlFscWs5SXRscWpUbDkoJElWcWhJc3NrUW0gPSBtcDk5KTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICc8OWttOCBoSTk9IkZFbVFta0ZFOSIgamhJaT0iJyAuICRUamtzLT5xanFIRUoKICAgICAgICAgICAgLiAnIElGalEgJFRqa3MtPkpJVHRscWpUbDlQaDkoKTs/PiIgKz4nOwogICAgfQoKICAgICsqKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6SklUckVzSVBoOQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRlFscWs5SXJFc0koJElWcWhJc3NrUW0gPSBtcDk5KTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICc8ZUVzSSBoSTk9IkZFbVFta0ZFOSIgamhJaT0iJyAuICRUamtzLT5xanFIRUoKICAgICAgICAgICAgLiAnIElGalEgJFRqa3MtPkpJVHJFc0lQaDkoKSA7Pz4iICs+JzsKICAgIH0KCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SVBzSSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ3BzSSAnIC4gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pIC4gJzsgPz4nOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJT3VrVEZqKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJFRqa3MtPnN1a1RGam9RcG1ULy87CiAgICAgICAgJFRqa3MtPmlraHNUb0VzSUttT3VrVEZqID0gVGhwSTsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJzdWtURmogJElWcWhJc3NrUW0geyI7CiAgICB9CiAgICArKzwrSWZrVFFoLWlROWY+CiAgICArKzxJZmtUUWgtaVE5ZiBmSXNGPSJGUWxxazlJIElWVGhFcyI+CiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SW5wbHEoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiXCRUamtzLT5mcGxxJElWcWhJc3NrUW07Pz4iOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJTkk5RVRrVUkoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiXCRUamtzLT5oSTlFVGtVSSRJVnFoSXNza1FtOz8+IjsKICAgIH0KCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5STNJVGpRZigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICRVID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGhJVHBobSAiPGttcXBUIFR2cUk9J2prZmZJbScgbUVsST0nX2xJVGpRZicgVUU5cEk9J3skVGprcy0+cWpxSEVKfUlGalEgJFU7ICIgLiAiPz4nKz4iOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJRnNoaSgkSVZxaElzc2tRbSA9IG1wOTkpOiBzVGhrbUoKICAgIHsKICAgICAgICAkSVZxaElzc2tRbSA9ICRJVnFoSXNza1FtID8/ICInX1RROEltJyI7CiAgICAgICAgaElUcGhtICI8a21xcFQgVHZxST0namtmZkltJyBtRWxJPSckVGprcy0+cWpxSEVKIElGalEgJElWcWhJc3NrUW07ID8+JyBVRTlwST0neyRUamtzLT5xanFIRUp9SUZqUSBcJFRqa3MtPkZzaGlfVFE4SW07ICIgLiAiPz4nKz4iOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJbmYoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiJzxxaEk+JzsgVUVoX2ZwbHEkSVZxaElzc2tRbTsgSUZqUSAnPCtxaEk+Jzs/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIFRqSSBGRXNJIFRFSi4KICAgICAqCiAgICAgKiBAcUVoRWwgJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJb0VzSSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGtpICgkVGprcy0+aWtoc1RvRXNJS21PdWtURmopIHsKICAgICAgICAgICAgJFRqa3MtPmlraHNUb0VzSUttT3VrVEZqID0gaUU5c0k7CiAgICAgICAgICAgIGhJVHBobSAnRkVzSSAnIC4gJElWcWhJc3NrUW0gLiAnOiA/Pic7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIkZFc0kgJElWcWhJc3NrUW06ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHVqazlJIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUliams5SSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gInVqazlJJElWcWhJc3NrUW06ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIGZJaUVwOVQgVEVKIHBzSWYgaVFoIHN1a1RGaitGRXNJCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUluSWlFcDlUKCk6IHNUaGttSgogICAgewogICAgICAgIGtpICgkVGprcy0+aWtoc1RvRXNJS21PdWtURmopIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5zalF1Z2hoUWgoJ0BmSWlFcDlUJywgJ0BzdWtURmogdWtUalFwVCBFbXYgQEZFc0knLCBUaHBJKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnZklpRXA5VDogPz4nOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mT3VrVEZqKCk6IHNUaGttSgogICAgewogICAgICAgIC0tJFRqa3MtPnN1a1RGam9RcG1UOwogICAgICAgIGtpICgkVGprcy0+c3VrVEZqb1FwbVQgPCB3KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+c2pRdWdoaFFoKCdASW1mc3VrVEZqJywgJzNrc3NrbUogQHN1a1RGaicsIFRocEkpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICd9ICsrIEltZiBzdWtURmogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSB1ams5SSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJS21MSUZUKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJElWID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgICRxdyA9IFxzVGhxUXMoJElWLCAnLCcpOwogICAgICAgIGtpICghJHF3KSB7CiAgICAgICAgICAgICRVRWggPSAkVGprcy0+c1Roa3FHcFFUSXMoJElWKTsKICAgICAgICAgICAgJG1FbElzcUVGSSA9ICcnOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRVRWggPSAkVGprcy0+c1Roa3FHcFFUSXMoXHNwZXNUaCgkSVYsIHcsICRxdykpOwogICAgICAgICAgICAkbUVsSXNxRUZJID0gJFRqa3MtPnNUaGtxR3BRVElzKFxzcGVzVGgoJElWLCAkcXcgLyBYKSk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIlwkJFVFaCA9IFwkVGprcy0+a21MSUZUbzlFc3MoJyRtRWxJc3FFRkknLCAnJFVFaCcpOyA/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSWxRVUkgaWtoc1QgRW1mIEltZiBScFFUSSBpaFFsIEUgUnBRVElmIHNUaGttSiBRaSBUSVZUCiAgICAgKgogICAgICogQHFFaEVsIGxrVklmICRUSVZUCiAgICAgKiBAaElUcGhtIG1wOTl8c1Roa21KfHNUaGttSltdCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzVGhrcUdwUVRJcygkVElWVCkKICAgIHsKICAgICAgICBraSAoISRUSVZUIHx8IHNUaDlJbSgkVElWVCkgPCB4KSB7CiAgICAgICAgICAgIGhJVHBobSAkVElWVDsKICAgICAgICB9CiAgICAgICAgJFRJVlQgPSBUaGtsKCRUSVZUKTsKICAgICAgICAkcXcgPSAkVElWVFt3XTsKICAgICAgICAkcVggPSBcc3Blc1RoKCRUSVZULCAtWCk7CiAgICAgICAga2kgKCRxdyA9PT0gJHFYICYmICgkcXcgPT09ICciJyB8fCAkcXcgPT09ICInIikpIHsKICAgICAgICAgICAgaElUcGhtIFxzcGVzVGgoJFRJVlQsIFgsIC1YKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUSVZUOwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBUakkgcHNJaCBmSWlrbUlmIElWVEltc2tRbXMuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ1ZUSW1za1FtcygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+SVZUSW1za1FtcyBFcyAkRlFscWs5SWgpIHsKICAgICAgICAgICAgJFVFOXBJID0gJEZRbHFrOUloKCRVRTlwSSwgJFRqa3MpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSByOUVmSSBGUWxsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlvUWxsSW1UcygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICAkcUVUVElobSA9IFxzcWhrbVRpKCcrJXMtLSguKj8pLS0lcytzJywgJFRqa3MtPkZRbVRJbVRIRUpzW3ddLCAkVGprcy0+RlFtVEltVEhFSnNbWF0pOwogICAgICAgIGhJVHBobSBccWhJSl9oSXE5RUZJKCRxRVRUSWhtLCAkVGprcy0+cWpxSEVKIC4gJysqJFgqKyA/PicsICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIHI5RWZJIElGalFzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnRmpRcygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+SklUZ0ZqUTNJVGpRZnMoKSBFcyAkbElUalFmID0+ICQ5SW1KVGopIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPiRsSVRqUWYoJFVFOXBJKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgSUZqUSBsSVRqUWZzIGttIFRqSSBxaFFxSWggUWhmSWggaVFoIEZRbHFrOUVUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVGdGalEzSVRqUWZzKCk6IEVoaEV2CiAgICB7CiAgICAgICAgJGxJVGpRZnMgPSBbCiAgICAgICAgICAgICdGUWxxazlJTkV1Z0ZqUXMnID0+IFxzVGg5SW0oXHNUaGtxRnM5RXNqSXMoJFRqa3MtPmhFdUhFSnNbd10pKSwKICAgICAgICAgICAgJ0ZRbHFrOUlnc0ZFcUlmZ0ZqUXMnID0+IFxzVGg5SW0oXHNUaGtxRnM5RXNqSXMoJFRqa3MtPklzRkVxSWZIRUpzW3ddKSksCiAgICAgICAgICAgICdGUWxxazlJTklKcDlFaGdGalFzJyA9PiBcc1RoOUltKFxzVGhrcUZzOUVzaklzKCRUamtzLT5GUW1USW1USEVKc1t3XSkpLAogICAgICAgIF07CiAgICAgICAgXHA4c1FoVCgkbElUalFmcywgc1RFVGtGIGlwbUZUa1FtKCRsSVRqUWZYLCAkbElUalFmeCkgcHNJICgkbElUalFmcykgewogICAgICAgICAgICArKyBnbXNwaEkgVGpJIDlRbUpJc1QgVEVKcyBFaEkgcWhRRklzc0lmIGlraHNUCiAgICAgICAgICAgIGtpICgkbElUalFmc1skbElUalFmWF0gPiAkbElUalFmc1skbElUalFmeF0pIHsKICAgICAgICAgICAgICAgIGhJVHBobSAtWDsKICAgICAgICAgICAgfQogICAgICAgICAgICBraSAoJGxJVGpRZnNbJGxJVGpRZlhdIDwgJGxJVGpRZnNbJGxJVGpRZnhdKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gWDsKICAgICAgICAgICAgfQogICAgICAgICAgICArKyBNVGpJaHVrc0ksIEprVUkgcWhJaUloSW1GSSBUUSBoRXUgVEVKcyAoRXNzcGxrbUogVGpJdidVSSBRVUloaGtmZkltKQogICAgICAgICAgICBraSAoJGxJVGpRZlggPT09ICdGUWxxazlJTkV1Z0ZqUXMnKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gLVg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAga2kgKCRsSVRqUWZ4ID09PSAnRlFscWs5SU5FdWdGalFzJykgewogICAgICAgICAgICAgICAgaElUcGhtIFg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAga2kgKCRsSVRqUWZYID09PSAnRlFscWs5SWdzRkVxSWZnRmpRcycpIHsKICAgICAgICAgICAgICAgIGhJVHBobSAtWDsKICAgICAgICAgICAgfQogICAgICAgICAgICBraSAoJGxJVGpRZnggPT09ICdGUWxxazlJZ3NGRXFJZmdGalFzJykgewogICAgICAgICAgICAgICAgaElUcGhtIFg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgVGpoUXUgbUl1IHJFZjNJVGpRZm9FOTlnVkZJcVRrUW0oIjNJVGpRZiBbJGxJVGpRZlhdIG1RVCBmSWlrbUlmIik7CiAgICAgICAgfSk7CiAgICAgICAgaElUcGhtICRsSVRqUWZzOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSByOUVmSSBzVEVUSWxJbVRzIFRqRVQgc1RFaFQgdWtUaiAiQCIuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVUU5cEkKICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2fHNUaGttSnxzVGhrbUpbXXxtcDk5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJT1RFVElsSW1UcygkVUU5cEkpCiAgICB7CiAgICAgICAgKyoqCiAgICAgICAgICogQHFFaEVsIEVoaEV2ICRsRVRGagogICAgICAgICAqICAgICAgICAgICAgICAgICAgICBbd109aXA5OSBJVnFoSXNza1FtIHVrVGogQCBFbWYgcUVoSW1Uaklza3MKICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgW1hdPUlWcWhJc3NrUW0gdWtUalFwVCBAIEVtZiBFaEpwbEltVAogICAgICAgICAqICAgICAgICAgICAgICAgICAgICBbeF09Pz8/PwogICAgICAgICAqICAgICAgICAgICAgICAgICAgICBbWV09RWhKcGxJbVQgdWtUaiBxRWhJbVRqSXNrcyBFbWYgdWtUalFwVCBUakkgaWtoc1QgQAogICAgICAgICAqICAgICAgICAgICAgICAgICAgICBbeV09RWhKcGxJbVQgdWtUalFwVCBxRWhJbVRqSXNrcy4KICAgICAgICAgKgogICAgICAgICAqIEBoSVRwaG0gbGtWSWZ8c1Roa21KCiAgICAgICAgICorCiAgICAgICAgJEZFOTllRUY4ID0gaXBtRlRrUW0oJGxFVEZqKSB7CiAgICAgICAgICAgIGtpIChzVEVUa0Y6OkZRbVRFa21zKCRsRVRGaltYXSwgJ0AnKSkgewogICAgICAgICAgICAgICAgKysgQEBJc0ZFcUlmIFRFSgogICAgICAgICAgICAgICAgJGxFVEZqW3ddID0ga3NzSVQoJGxFVEZqW1ldKSA/ICRsRVRGaltYXSAuICRsRVRGaltZXSA6ICRsRVRGaltYXTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgIGtpIChzVGhxUXMoJGxFVEZqW1hdLCAnOjonKSAhPT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICAgICArKyBPUWxJRjlFc3M6OmxJVGpRZgogICAgICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RlFscWs5SU9URVRJbEltVG85RXNzKCRsRVRGaik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBraSAoa3NzSVQoJFRqa3MtPkZwc1RRbG5raElGVGtVSXNOSFskbEVURmpbWF1dKSkgewogICAgICAgICAgICAgICAgICAgIGtpICgkVGprcy0+RnBzVFFsbmtoSUZUa1VJc05IWyRsRVRGaltYXV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGxFVEZqW3ddID0gJFRqa3MtPkZRbHFrOUlPVEVUSWxJbVRvcHNUUWwoJGxFVEZqKTsKICAgICAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgICAgICAkbEVURmpbd10gPSBcRkU5OV9wc0loX2lwbUYoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGprcy0+RnBzVFFsbmtoSUZUa1VJc1skbEVURmpbWF1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoc1RFVGtGOjpKSVQoJGxFVEZqLCBZKSkKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgICRtRWxJM0lUalFmID0gJ0ZRbHFrOUknIC4gXHBGaWtoc1QoJGxFVEZqW1hdKTsKICAgICAgICAgICAgICAgICAgICBraSAoa3NzSVQoJFRqa3MtPmxJVGpRZnNbJG1FbEkzSVRqUWZdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxJVGpRZnNbJG1FbEkzSVRqUWZdKHNURVRrRjo6SklUKCRsRVRGaiwgWSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBraSAoXGxJVGpRZl9JVmtzVHMoJFRqa3MsICRtRWxJM0lUalFmKSkgewogICAgICAgICAgICAgICAgICAgICAgICArKyBrVCBGRTk5cyBUakkgaXBtRlRrUW0gRlFscWs5STxtRWxJIFFpIFRqSSBURUo+CiAgICAgICAgICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+JG1FbEkzSVRqUWYoc1RFVGtGOjpKSVQoJGxFVEZqLCBZKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRtRWxJM0lUalFmID0gJ2hwbVRrbEknIC4gXHBGaWtoc1QoJGxFVEZqW1hdKTsKICAgICAgICAgICAgICAgICAgICAkbHkgPSAkbEVURmpbeV0/PycnOwogICAgICAgICAgICAgICAgICAgIGtpIChrc3NJVCgkVGprcy0+bElUalFmc1skbUVsSTNJVGpRZl0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXBUUWhwbVRrbEkoJGx5LCAkbUVsSTNJVGpRZik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGtpIChcbElUalFmX0lWa3NUcygkVGprcywgJG1FbEkzSVRqUWYpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXBUUWhwbVRrbEkoJGx5LCAkbUVsSTNJVGpRZiwgVGhwSSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGhJVHBobSAkbEVURmpbd107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaElUcGhtIGtzc0lUKCRsRVRGaltZXSkgPyAkbEVURmpbd10gOiAkbEVURmpbd10gLiAkbEVURmpbeF07CiAgICAgICAgfTsKICAgICAgICArKiBoSVRwaG0gXHFoSUpfaElxOUVGSV9GRTk5ZUVGOCgnK1xyQChAP1x1LykoWyBcVF0qKShcKCAoICg/PlteKCldLykgfCAoP1kpICkqIFwpKT8rVicsICRGRTk5ZUVGOCwgJFVFOXBJKTsgKisKICAgICAgICBoSVRwaG0gcWhJSl9oSXE5RUZJX0ZFOTllRUY4KCcrXHJAKEA/XHUvKD86OjpcdS8pPykoWyBcVF0qKShcKCAoICg/PlteKCldLykgfCAoP1kpICkqIFwpKT8rVicsICRGRTk5ZUVGOCwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIEhqa3MgaXBtRlRrUW0gSkltSWhFVElzIEUgcWpxIEZRZkkgVFEgaHBtIEUgaHBtVGtsSSBsSVRqUWYuCiAgICAgKiBAcUVoRWwgc1Roa21KfG1wOTkgJElWcWhJc3NrUW0gICAgVGpJIElWcWhJc3NrUW0gVFEgRWZmIGttIFRqSSBGUWZJLjxlaD4KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyUWggRlFscWs5SSwga1Qga3MgUWkgVGpJIFR2cUkgIigkRXgsInh4eCIpIgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJRaCBocG1Ua2xJLCBrVCBrcyBRaSBUakkgVGtsSSAiRWhKWD0kRXggRWhKeD0ieHh4IiIKICAgICAqIEBxRWhFbCBzVGhrbUogICAgICAkbUVsSTJwbUZUa1FtICBIakkgbUVsSSBRaSBUakkgaXBtRlRrUW0uCiAgICAgKiBAcUVoRWwgZVFROSAgICAgICAgJEZRbHFrOUkzSVRqUWYgS2kgVGpJIGxJVGpRZiBrcyBFIEZRbHFrOUlmIGxJVGpRZiwgUWgga1Qga3MgRSBocG1Ua2xJIGxJVGpRZi4KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFcFRRaHBtVGtsSSg/c1Roa21KICRJVnFoSXNza1FtLCBzVGhrbUogJG1FbEkycG1GVGtRbSwgJEZRbHFrOUkzSVRqUWYgPSBpRTlzSSk6IHNUaGttSgogICAgewoKICAgICAgICBraSAoJEZRbHFrOUkzSVRqUWYpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT51aEVxYVNhKCJcJFRqa3MtPiRtRWxJMnBtRlRrUW0kSVZxaElzc2tRbSIsICcnLCBpRTlzSSk7CiAgICAgICAgfQogICAgICAgICRFaEpzID0gJFRqa3MtPnFFaHNJdGhKcygkSVZxaElzc2tRbSwgJyAnLCc9JyxpRTlzSSk7CgogICAgICAgICRFaEpzQiA9ICdbJzsKICAgICAgICBpUWhJRUZqICgkRWhKcyBFcyAkOCA9PiAkVSkgewogICAgICAgICAgICAkRWhKc0IgLj0gIickOCc9PiRVLCI7CiAgICAgICAgfQogICAgICAgICRFaEpzQiAuPSAnXSc7CiAgICAgICAgaElUcGhtICRUamtzLT51aEVxYVNhKCJcJFRqa3MtPmxJVGpRZnNbJyRtRWxJMnBtRlRrUW0nXSgkRWhKc0IpIiwgJycsIGlFOXNJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFIEprVUltIHNUaGttSiBGUW1URWttcyBFIEprVUltIHNwZXNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICAgICAgICRqRXZzVEVGOAogICAgICogQHFFaEVsIHNUaGttSnxFaGhFdiAkbUlJZjlJcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gRlFtVEVrbXMoJGpFdnNURUY4LCAkbUlJZjlJcyk6IGVRUTkKICAgIHsKICAgICAgICBpUWhJRUZqICgoRWhoRXYpJG1JSWY5SXMgRXMgJG1JSWY5SSkgewogICAgICAgICAgICBraSAoJG1JSWY5SSAhPSAnJykgewogICAgICAgICAgICAgICAga2kgKFxpcG1GVGtRbV9JVmtzVHMoJ2xlX3NUaHFRcycpKSB7CiAgICAgICAgICAgICAgICAgICAga2kgKFxsZV9zVGhxUXMoJGpFdnNURUY4LCAkbUlJZjlJKSAhPT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBJOXNJa2kgKFxzVGhxUXMoJGpFdnNURUY4LCAkbUlJZjlJKSAhPT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICB9CgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlPVEVUSWxJbVRvOUVzcygkbEVURmopOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoa3NzSVQoJGxFVEZqW1ldKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAkVGprcy0+aWtWQUVsSXNxRUZJbzlFc3MoJGxFVEZqW1hdKSAuICRsRVRGaltZXSAuICc7ID8+JzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gJFRqa3MtPmlrVkFFbElzcUVGSW85RXNzKCRsRVRGaltYXSkgLiAnKCk7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIFBUazkgbElUalFmIFRRIGlrViBtRWxJc3FFRkkgUWkgRSBGOUVzczxlaD4KICAgICAqIGdWRWxxOUk6ICJPUWxJbzlFc3M6OmxJVGpRZigpIiAtPiAiXG1FbElzcUVGSVxPUWxJbzlFc3M6OmxJVGpRZigpIjxlaD4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRUSVZUCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqIEBzSUkgcjlFZklNbUkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGlrVkFFbElzcUVGSW85RXNzKCRUSVZUKTogc1Roa21KCiAgICB7CiAgICAgICAga2kgKHNUaHFRcygkVElWVCwgJzo6JykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVElWVDsKICAgICAgICB9CiAgICAgICAgJEY5RXNzYUVoVCA9IElWcTlRZkkoJzo6JywgJFRJVlQsIHgpOwogICAgICAgIGtpIChrc3NJVCgkVGprcy0+RTlrRXNvOUVzc0lzWyRGOUVzc2FFaFRbd11dKSkgewogICAgICAgICAgICAkRjlFc3NhRWhUW3ddID0gJFRqa3MtPkU5a0VzbzlFc3NJc1skRjlFc3NhRWhUW3ddXTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRGOUVzc2FFaFRbd10gLiAnOjonIC4gJEY5RXNzYUVoVFtYXTsKICAgIH0KCiAgICArKioKICAgICAqIDJRaCBGUWxxazlJIEZwc1RRbCBma2hJRlRrVUkgRVQgaHBtVGtsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgJGxFVEZqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9URVRJbEltVG9wc1RRbCgkbEVURmopOiBzVGhrbUoKICAgIHsKICAgICAgICAkVSA9ICRUamtzLT5zVGhrcWFFaEltVGpJc0lzKHNURVRrRjo6SklUKCRsRVRGaiwgWSkpOwogICAgICAgICRVID0gKCRVID09ICcnKSA/ICcnIDogJywnIC4gJFU7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnRkU5OV9wc0loX2lwbUYoJFRqa3MtPkZwc1RRbG5raElGVGtVSXNbXCcnIC4gJGxFVEZqW1hdIC4gJ1wnXScgLiAkVSAuICcpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0ga1RJbCBpaFFsIEVtIEVoaEV2IHBza21KICJmUVQiIG1RVEVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCB0aGhFdnRGRklzc3xFaGhFdiAkRWhoRXYKICAgICAqIEBxRWhFbCBzVGhrbUogICAgICAgICAgICAkOEl2CiAgICAgKiBAcUVoRWwgbGtWSWYgICAgICAgICAgICAgJGZJaUVwOVQKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBKSVQoJEVoaEV2LCAkOEl2LCAkZklpRXA5VCA9IG1wOTkpCiAgICB7CiAgICAgICAgJEVGRklza2U5SSA9IFxrc19FaGhFdigkRWhoRXYpIHx8ICRFaGhFdiBrbXNURW1GSVFpIHRoaEV2dEZGSXNzOwogICAgICAgIGtpICghJEVGRklza2U5SSkgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjpVRTlwSSgkZklpRXA5VCk7CiAgICAgICAgfQogICAgICAgIGtpIChca3NfbXA5OSgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJEVoaEV2OwogICAgICAgIH0KICAgICAgICBraSAoc1RFVGtGOjpJVmtzVHMoJEVoaEV2LCAkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJEVoaEV2WyQ4SXZdOwogICAgICAgIH0KICAgICAgICBpUWhJRUZqIChcSVZxOVFmSSgnLicsICQ4SXYpIEVzICRzSUpsSW1UKSB7CiAgICAgICAgICAgIGtpIChzVEVUa0Y6OklWa3NUcygkRWhoRXYsICRzSUpsSW1UKSkgewogICAgICAgICAgICAgICAgJEVoaEV2ID0gJEVoaEV2WyRzSUpsSW1UXTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OlVFOXBJKCRmSWlFcDlUKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gJEVoaEV2OwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSA4SXYgSVZrc1RzIGttIFRqSSBxaFFVa2ZJZiBFaGhFdi4KICAgICAqCiAgICAgKiBAcUVoRWwgdGhoRXZ0RkZJc3N8RWhoRXYgJEVoaEV2CiAgICAgKiBAcUVoRWwgc1Roa21KfGttVCAgICAgICAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gSVZrc1RzKCRFaGhFdiwgJDhJdik6IGVRUTkKICAgIHsKICAgICAgICBraSAoJEVoaEV2IGttc1RFbUZJUWkgdGhoRXZ0RkZJc3MpIHsKICAgICAgICAgICAgaElUcGhtICRFaGhFdi0+UWlpc0lUZ1Zrc1RzKCQ4SXYpOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gXEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJEVoaEV2KTsKICAgIH0KCiAgICArKioKICAgICAqIEhqa3MgbElUalFmIGhJbFFVSXMgVGpJIHFFaEltVGpJc2tzIFFpIFRqSSBJVnFoSXNza1FtIEVtZiBxRWhzSSBUakkgRWhKcGxJbVRzLgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdGhKcygkSVZxaElzc2tRbSk6IEVoaEV2CiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xRWhzSXRoSnMoJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pLCAnICcpOwogICAgfQoKICAgICsqKgogICAgICogS1Qgc0lxRWhFVElzIEUgc1Roa21KIHBza21KIEUgc0lxRWhFVFFoIEVtZiBFbSBrZkltVGtpa0loPGVoPgogICAgICogS1QgSVZGOXBmSXMgUnBRVElzLGZRcGU5SSBScFFUSXMgRW1mIFRqSSAiwqwiIHN2bGVROS48ZWg+CiAgICAgKiAqKmdWRWxxOUkqKjxlaD4KICAgICAqIGBgYHFqcQogICAgICogJFRqa3MtPnFFaHNJdGhKcygnRT14LGU9J0UsZSxGJyxmJyk7ICsrIFsnRSc9Pid4JywnZSc9PidFLGUsRicsJ2YnPT5tcDk5XQogICAgICogJFRqa3MtPnFFaHNJdGhKcygnRT14LGU9RixmJyk7ICsrIFsnRSc9Pid4JywnZSc9PidGJywnZic9Pm1wOTldCiAgICAgKiAkVGprcy0+cUVoc0l0aEpzKCdFPXggZT1GJywnICcpOyArKyBbJ0UnPT4neCcsJ2UnPT4nRiddCiAgICAgKiAkVGprcy0+cUVoc0l0aEpzKCdFOnggZTpGJywnICcsJzonKTsgKysgWydFJz0+J3gnLCdlJz0+J0YnXQogICAgICogYGBgCiAgICAgKiBBUVRJOiBxRWhzSXRoSnMoJ0UgPSB4IGUgPSBGJywnICcpOyB1a1RqIGhJVHBobSB5IFVFOXBJcyBrbXNUSUVmIFFpIHguCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVElWVCAgICAgIFRqSSBUSVZUIFRRIHNJcUVoRVRJCiAgICAgKiBAcUVoRWwgc1Roa21KICRzSXFFaEVUUWggVGpJIHNJcUVoRVRRaCBRaSBFaEpwbEltVHMKICAgICAqIEBxRWhFbCBzVGhrbUogJEVzc2tKbEltVCBUakkgRmpFaEVGVEloIHBzSWYgVFEgRXNza0ptIEUgbUl1IFVFOXBJCiAgICAgKiBAcUVoRWwgZVFROSAgICRJbHFUdjFJdiAga2kgVGpJIEVoSnBsSW1UIGtzIHVrVGpRcFQgVUU5cEksIHVJIGhJVHBobSBrVCBFcyA4SXYgKFRocEkpIFFoIFVFOXBJIChpRTlzSSkgPwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcUVoc0l0aEpzKCRUSVZULCAkc0lxRWhFVFFoID0gJywnLCAkRXNza0psSW1UID0gJz0nLCAkSWxxVHYxSXYgPSBUaHBJKTogRWhoRXYKICAgIHsKICAgICAgICBraSAoJFRJVlQgPT09IG1wOTkgfHwgJFRJVlQgPT09ICcnKSB7CiAgICAgICAgICAgIGhJVHBobSBbXTsgKyttUVRqa21KIFRRIEZRbVVJaFQuCiAgICAgICAgfQogICAgICAgICRGakVocyA9ICRUSVZUOyArKyBzVGhfc3E5a1QoJFRJVlQpOwogICAgICAgICRxRWhUcyA9IFtdOwogICAgICAgICRtSVZUcUVoVCA9ICcnOwogICAgICAgICRzVGg2ID0gc1RoOUltKCRGakVocyk7CiAgICAgICAgJHNUaGttSnRoaCA9ICciXCfCrCc7CiAgICAgICAgJHFFaEltVGpJc2tzID0gJyhbeyc7CiAgICAgICAgJHFFaEltVGpJc2tzbzlRc0kgPSAnKV19JzsKICAgICAgICAka21za2ZJYUVoID0gaUU5c0k7CiAgICAgICAgaVFoICgkayA9IHc7ICRrIDwgJHNUaDY7ICRrLy8pIHsKICAgICAgICAgICAgJEZqRWggPSAkRmpFaHNbJGtdOwogICAgICAgICAgICArKyB1SSBGaklGOCBraSBUakkgRmpFaEVGVEloIGtzIEUgcUVoSW1Uaklza3MuCiAgICAgICAgICAgICRxcSA9IHNUaHFRcygkcUVoSW1Uaklza3MsICRGakVoKTsKICAgICAgICAgICAga2kgKCRxcSAhPT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICsrIGtzIEUgcUVoSW1Uaklza3MsIHNRIHVJIGxFaDggRXMga21za2ZJIEUgcUVoSW1Uaklza3MuCiAgICAgICAgICAgICAgICAka21za2ZJYUVoID0gJHFFaEltVGpJc2tzbzlRc0lbJHFxXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBraSAoJEZqRWggPT09ICRrbXNrZklhRWgpIHsKICAgICAgICAgICAgICAgICsrIHVJIEY5UXNJIFRqSSBxRWhJbVRqSXNrcy4KICAgICAgICAgICAgICAgICRrbXNrZklhRWggPSBpRTlzSTsKICAgICAgICAgICAgfQogICAgICAgICAgICBraSAoc1RocVFzKCRzVGhrbUp0aGgsICRGakVoKSAhPT0gaUU5c0kpIHsgKysga2kgKCRGakVoID09PSAnIicgfHwgJEZqRWggPT09ICInIiB8fCAkRmpFaCA9PT0gIsKsIikgewogICAgICAgICAgICAgICAgKysgdUkgaVFwbWYgRSBzVGhrbUoga21rVGtFOWtXSWgKICAgICAgICAgICAgICAgICRrbUlWVCA9IHNUaHFRcygkVElWVCwgJEZqRWgsICRrIC8gWCk7CiAgICAgICAgICAgICAgICAka21JVlQgPSAka21JVlQgPT09IGlFOXNJID8gJHNUaDYgOiAka21JVlQ7CiAgICAgICAgICAgICAgICAkbUlWVHFFaFQgLj0gc3Blc1RoKCRUSVZULCAkaywgJGttSVZUIC0gJGsgLyBYKTsKICAgICAgICAgICAgICAgICRrID0gJGttSVZUOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJG1JVlRxRWhUIC49ICRGakVoOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGtpICgkRmpFaCA9PT0gJHNJcUVoRVRRaCAmJiAhJGttc2tmSWFFaCkgewogICAgICAgICAgICAgICAgJHFFaFRzW10gPSBzcGVzVGgoJG1JVlRxRWhULCB3LCAtWCk7CiAgICAgICAgICAgICAgICAkbUlWVHFFaFQgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBraSAoJG1JVlRxRWhUICE9PSAnJykgewogICAgICAgICAgICAkcUVoVHNbXSA9ICRtSVZUcUVoVDsKICAgICAgICB9CiAgICAgICAgJGhJc3A5VCA9IFtdOwogICAgICAgICsrIGZwRlQgVEVxa21KIGlRaCA4SXY9IEVoSnBsSW1UIChrVCBqRXMgRSBzcUVGSSkuIGpRdUlVSWgsIGtUIGZRSXNtJ1QgdVFoOCB1a1RqIDhJdiA9RWhKcGxJbVQKICAgICAgICArKgogICAgICAgIGlRaElFRmogKCRxRWhUcyBFcyAkOD0+JHFFaFQpIHsKICAgICAgICAgICAga2koc3Blc1RoKCRxRWhULC1YKT09PSRFc3NrSmxJbVQgJiYga3NzSVQoJHFFaFRzWyQ4L1hdKSkgewogICAgICAgICAgICAgICAgVUVoX2ZwbHEoJ1E4Jyk7CiAgICAgICAgICAgICAgICAkcUVoVHNbJDhdLj0kcUVoVHNbJDgvWF07CiAgICAgICAgICAgICAgICBwbXNJVCgkcUVoVHNbJDgvWF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICorCgogICAgICAgIGlRaElFRmogKCRxRWhUcyBFcyAkcUVoVCkgewogICAgICAgICAgICAkcUVoVCA9IFRoa2woJHFFaFQpOwogICAgICAgICAgICBraSAoJHFFaFQpIHsKICAgICAgICAgICAgICAgICRGakVoID0gJHFFaFRbd107CiAgICAgICAgICAgICAgICBraSAoc1RocVFzKCRzVGhrbUp0aGgsICRGakVoKSAhPT0gaUU5c0kpIHsgKysga2kgKCRGakVoID09PSAnIicgfHwgJEZqRWggPT09ICInIiB8fCAkRmpFaCA9PT0gIsKsIikgewogICAgICAgICAgICAgICAgICAgIGtpICgkSWxxVHYxSXYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGhJc3A5VFskcUVoVF0gPSBtcDk5OwogICAgICAgICAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRoSXNwOVRbXSA9ICRxRWhUOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAgICAgJGggPSBJVnE5UWZJKCRFc3NrSmxJbVQsICRxRWhULCB4KTsKICAgICAgICAgICAgICAgICAgICBraSAoRlFwbVQoJGgpID09PSB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICsrIDhJdj1VRTlwSS4KICAgICAgICAgICAgICAgICAgICAgICAgJGhJc3A5VFtUaGtsKCRoW3ddKV0gPSBUaGtsKCRoW1hdKTsKICAgICAgICAgICAgICAgICAgICB9IEk5c0lraSAoJElscVR2MUl2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRoSXNwOVRbVGhrbCgkaFt3XSldID0gbXA5OTsKICAgICAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgICAgICAkaElzcDlUW10gPSBUaGtsKCRoW3ddKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICB9CgogICAgcXBlOWtGIGlwbUZUa1FtIHFFaHNJdGhKc005ZigkVElWVCwgJHNJcUVoRVRRaCA9ICcsJyk6IEVoaEV2CiAgICB7CiAgICAgICAga2kgKCRUSVZUID09PSBtcDk5IHx8ICRUSVZUID09PSAnJykgewogICAgICAgICAgICBoSVRwaG0gW107ICsrbVFUamttSiBUUSBGUW1VSWhULgogICAgICAgIH0KICAgICAgICAkRmpFaHMgPSBzVGhfc3E5a1QoJFRJVlQpOwogICAgICAgICRxRWhUcyA9IFtdOwogICAgICAgICRtSVZUcUVoVCA9ICcnOwogICAgICAgICRzVGg2ID0gRlFwbVQoJEZqRWhzKTsKICAgICAgICArKiogQG1Ra21zcUlGVGtRbSAyUWhJRUZqS21VRWhrRW1Uc0ttc3FJRlRrUW0gKisKICAgICAgICBpUWggKCRrID0gdzsgJGsgPCAkc1RoNjsgJGsvLykgewogICAgICAgICAgICAkRmpFaCA9ICRGakVoc1ska107CiAgICAgICAgICAgIGtpICgkRmpFaCA9PT0gJyInIHx8ICRGakVoID09PSAiJyIpIHsKICAgICAgICAgICAgICAgICRrbUlWVCA9IHNUaHFRcygkVElWVCwgJEZqRWgsICRrIC8gWCk7CiAgICAgICAgICAgICAgICAka21JVlQgPSAka21JVlQgPT09IGlFOXNJID8gJHNUaDYgOiAka21JVlQ7CiAgICAgICAgICAgICAgICAkbUlWVHFFaFQgLj0gc3Blc1RoKCRUSVZULCAkaywgJGttSVZUIC0gJGsgLyBYKTsKICAgICAgICAgICAgICAgICRrID0gJGttSVZUOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJG1JVlRxRWhUIC49ICRGakVoOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGtpICgkRmpFaCA9PT0gJHNJcUVoRVRRaCkgewogICAgICAgICAgICAgICAgJHFFaFRzW10gPSBzcGVzVGgoJG1JVlRxRWhULCB3LCAtWCk7CiAgICAgICAgICAgICAgICAkbUlWVHFFaFQgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBraSAoJG1JVlRxRWhUICE9PSAnJykgewogICAgICAgICAgICAkcUVoVHNbXSA9ICRtSVZUcUVoVDsKICAgICAgICB9CiAgICAgICAgJGhJc3A5VCA9IFtdOwogICAgICAgIGlRaElFRmogKCRxRWhUcyBFcyAkcUVoVCkgewogICAgICAgICAgICAkaCA9IElWcTlRZkkoJz0nLCAkcUVoVCwgeCk7CiAgICAgICAgICAgICRoSXNwOVRbVGhrbCgkaFt3XSldID0gRlFwbVQoJGgpID09PSB4ID8gVGhrbCgkaFtYXSkgOiBtcDk5OwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJICJoRXUiIElGalEgc1RFVElsSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlORXVnRmpRcygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICAkcUVUVElobSA9IFxzcWhrbVRpKCcrKEApPyVzXHMqKC4vPylccyolcyhcaD9cbSk/K3MnLCAkVGprcy0+aEV1SEVKc1t3XSwgJFRqa3MtPmhFdUhFSnNbWF0pOwogICAgICAgICRGRTk5ZUVGOCA9IGlwbUZUa1FtKCRsRVRGaklzKSB7CiAgICAgICAgICAgICR1amtUSXNxRUZJID0gSWxxVHYoJGxFVEZqSXNbWV0pID8gJycgOiAkbEVURmpJc1tZXSAuICRsRVRGaklzW1ldOwogICAgICAgICAgICBoSVRwaG0gJGxFVEZqSXNbWF0gPyBcc3Blc1RoKAogICAgICAgICAgICAgICAgJGxFVEZqSXNbd10sCiAgICAgICAgICAgICAgICBYCiAgICAgICAgICAgICkgOiAkVGprcy0+cWpxSEVKZ0ZqUSAuICRUamtzLT5GUWxxazlJZ0ZqUW5JaUVwOVRzKCRsRVRGaklzW3hdKSAuICc7ID8+JyAuICR1amtUSXNxRUZJOwogICAgICAgIH07CiAgICAgICAgaElUcGhtIFxxaElKX2hJcTlFRklfRkU5OWVFRjgoJHFFVFRJaG0sICRGRTk5ZUVGOCwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGZJaUVwOVQgVUU5cElzIGlRaCBUakkgSUZqUSBzVEVUSWxJbVQuCiAgICAgKiBnVkVscTlJOgogICAgICoge3sgJFRJc1QgUWggJ1RJc1R4JyB9fSBGUWxxazlJcyBUUSB7eyBrc3NJVCgkVElzVCkgPyAkVElzVCA6ICdUSXNUeCcgfX0KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnRmpRbklpRXA5VHMoJFVFOXBJKTogc1Roa21KCiAgICB7CiAgICAgICAgKysgT1FwaEZJOiBqVFRxczorK3V1dS5xanEubUlUK2xFbXBFOStJbSs5RW1KcEVKSS5VRWhrRWU5SXMuZUVza0ZzLnFqcQogICAgICAgICRxRVRUSWhtYVNhQkVoa0VlOUlBRWxJID0gJ1wkW0UtV3QtZF9cVjV3LVxWaWldW0UtV3QtZHctN19cVjV3LVxWaWldKic7CiAgICAgICAgJGhJc3A5VCA9IFxxaElKX2hJcTlFRkkoJyteKCcgLiAkcUVUVElobWFTYUJFaGtFZTlJQUVsSSAuICcpXHMvUWhccy8oLi8/KSQrcycsICdrc3NJVCgkWCkgPyAkWCA6ICR4JywgJFVFOXBJKTsKICAgICAgICBraSAoISRUamtzLT5xa3FJZ21FZTlJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWtWQUVsSXNxRUZJbzlFc3MoJGhJc3A5VCk7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprcy0+cWtxSW5oSUVsKCRUamtzLT5pa1ZBRWxJc3FFRklvOUVzcygkaElzcDlUKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLVCBGUW1VSWhUcyBFIHNUaGttSiBzSXFFaEVUSWYgZXYgcWtxSXMgfCBrbVRRIEUgaWs5VEloSWYgSVZxaElzc2tRbS48ZWg+CiAgICAgKiBLaSBUakkgbElUalFmIElWa3NUcyAoRXMgZmtoSUZUa1VJKSwgVGpJbSBrVCBrcyBwc0lmPGVoPgogICAgICogS2kgVGpJIGxJVGpRZiBJVmtzVHMgKGttIFRqa3MgRjlFc3MpIFRqSW0ga1Qga3MgcHNJZjxlaD4KICAgICAqIE1UaklodWtzSSwga1QgcHNJcyBFIEo5UWVFOSBpcG1GVGtRbS48ZWg+CiAgICAgKiBLaSB2UXAgdUVtVCBUUSBJc0ZFcUkgVGpJICJ8IiwgVGpJbSB2UXAgRlFwOWYgcHNJICIrfCI8ZWg+CiAgICAgKiAqKkFRVEk6KiogS1QgUW05diB1UWg4cyBraSAkVGprcy0+cWtxSWdtRWU5ST1UaHBJIEVtZiBldiBmSWlFcDlUIGtUIGtzIGlFOXNJPGVoPgogICAgICogKipnVkVscTlJOioqPGVoPgogICAgICogYGBgcWpxCiAgICAgKiAkVGprcy0+cWtxSW5oSUVsKCckbUVsSSB8IHNUaFRROVF1SWggfCBzcGVzVGg6dyx5Jyk7ICsrIHNUaFRROVF1SWgoc3Blc1RoKCRtRWxJICx3LHkpCiAgICAgKiAkVGprcy0+cWtxSW5oSUVsKCckbUVsSXwgSklUM1FmSScpICsrICRUamtzLT5KSVQzUWZJKCRtRWxJKQogICAgICogYGBgCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkaElzcDlUCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFxJaVRJRlxlOUVmSVFtSVxyOUVmSU1tSTo6JHFrcUlnbUVlOUkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHFrcUluaElFbCgkaElzcDlUKTogc1Roa21KCiAgICB7CiAgICAgICAgJEVoaEV2ID0gcWhJSl9zcTlrVCgnflxcXFwuKCpPMUthKSgqMnRLNil8XHx+cycsICRoSXNwOVQpOwogICAgICAgICRGID0gRlFwbVQoJEVoaEV2KSAtIFg7ICsrIGVFc0kgV0loUS4KICAgICAgICBraSAoJEYgPT09IHcpIHsKICAgICAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICAgICAgfQogICAgICAgICRxaElVID0gJyc7CiAgICAgICAgaVFoICgkayA9IFg7ICRrIDw9ICRGOyAkay8vKSB7CiAgICAgICAgICAgICRoID0gQElWcTlRZkkoJzonLCAkRWhoRXZbJGtdLCB4KTsKICAgICAgICAgICAgJGltQUVsSSA9IFRoa2woJGhbd10pOwogICAgICAgICAgICAkaW1BRWxJMiA9ICRpbUFFbElbd107ICsrIGlraHNUIEZqRWhFRlRJaAogICAgICAgICAgICBraSAoJGltQUVsSTIgPT09ICciJyB8fCAkaW1BRWxJMiA9PT0gJ1wnJyB8fCAkaW1BRWxJMiA9PT0gJyQnIHx8IGtzX21wbEloa0YoJGltQUVsSTIpKSB7CiAgICAgICAgICAgICAgICAkaW1BRWxJID0gJyFrc3NJVCgnIC4gJEVoaEV2W3ddIC4gJykgPyAnIC4gJGltQUVsSSAuICcgOiAnOwogICAgICAgICAgICB9IEk5c0lraSAoa3NzSVQoJFRqa3MtPkZwc1RRbG5raElGVGtVSXNbJGltQUVsSV0pKSB7CiAgICAgICAgICAgICAgICAkaW1BRWxJID0gJyRUamtzLT5GcHNUUWxua2hJRlRrVUlzW1wnJyAuICRpbUFFbEkgLiAnXCddJzsKICAgICAgICAgICAgfSBJOXNJa2kgKGxJVGpRZl9JVmtzVHMoJFRqa3MsICRpbUFFbEkpKSB7CiAgICAgICAgICAgICAgICAkaW1BRWxJID0gJyRUamtzLT4nIC4gJGltQUVsSTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkakVzdGhKcGxJbVQgPSBGUXBtVCgkaCkgPT09IHg7CiAgICAgICAgICAgIGtpICgkayA9PT0gWCkgewogICAgICAgICAgICAgICAgJHFoSVUgPSAkaW1BRWxJIC4gJygnIC4gJEVoaEV2W3ddOwogICAgICAgICAgICAgICAga2kgKCRqRXN0aEpwbEltVCkgewogICAgICAgICAgICAgICAgICAgICRxaElVIC49ICcsJyAuICRoW1hdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJHFoSVUgLj0gJyknOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJHFoSVUgPSAkaW1BRWxJIC4gJygnIC4gJHFoSVU7CiAgICAgICAgICAgICAgICBraSAoJGpFc3RoSnBsSW1UKSB7CiAgICAgICAgICAgICAgICAgICAgJHFoSVUgLj0gJywnIC4gJGhbWF0gLiAnKSc7CiAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgICRxaElVIC49ICcpJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBoSVRwaG0gJHFoSVU7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSAiaElKcDlFaCIgSUZqUSBzVEVUSWxJbVRzLiB7eyB9fQogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU5JSnA5RWhnRmpRcygkVUU5cEkpOiBzVGhrbUoKICAgIHsKICAgICAgICAkcUVUVElobSA9IFxzcWhrbVRpKCcrKEApPyVzXHMqKC4vPylccyolcyhcaD9cbSk/K3MnLCAkVGprcy0+RlFtVEltVEhFSnNbd10sICRUamtzLT5GUW1USW1USEVKc1tYXSk7CiAgICAgICAgJEZFOTllRUY4ID0gaXBtRlRrUW0oJGxFVEZqSXMpIHsKICAgICAgICAgICAgJHVqa1RJc3FFRkkgPSBJbHFUdigkbEVURmpJc1tZXSkgPyAnJyA6ICRsRVRGaklzW1ldIC4gJGxFVEZqSXNbWV07CiAgICAgICAgICAgICR1aEVxcUlmID0gXHNxaGttVGkoJFRqa3MtPklGalEyUWhsRVQsICRUamtzLT5GUWxxazlJZ0ZqUW5JaUVwOVRzKCRsRVRGaklzW3hdKSk7CiAgICAgICAgICAgIGhJVHBobSAkbEVURmpJc1tYXSA/IFxzcGVzVGgoJGxFVEZqSXNbd10sIFgpIDogJFRqa3MtPnFqcUhFSmdGalEgLiAkdWhFcXFJZiAuICc7ID8+JyAuICR1amtUSXNxRUZJOwogICAgICAgIH07CiAgICAgICAgaElUcGhtIFxxaElKX2hJcTlFRklfRkU5OWVFRjgoJHFFVFRJaG0sICRGRTk5ZUVGOCwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIElzRkVxSWYgSUZqUSBzVEVUSWxJbVRzLiB7ISEgISF9CiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ3NGRXFJZmdGalFzKCRVRTlwSSk6IHNUaGttSgogICAgewogICAgICAgICRxRVRUSWhtID0gXHNxaGttVGkoJysoQCk/JXNccyooLi8/KVxzKiVzKFxoP1xtKT8rcycsICRUamtzLT5Jc0ZFcUlmSEVKc1t3XSwgJFRqa3MtPklzRkVxSWZIRUpzW1hdKTsKICAgICAgICAkRkU5OWVFRjggPSBpcG1GVGtRbSgkbEVURmpJcykgewogICAgICAgICAgICAkdWprVElzcUVGSSA9IElscVR2KCRsRVRGaklzW1ldKSA/ICcnIDogJGxFVEZqSXNbWV0gLiAkbEVURmpJc1tZXTsKICAgICAgICAgICAgaElUcGhtICRsRVRGaklzW1hdID8gJGxFVEZqSXNbd10gOiAkVGprcy0+cWpxSEVKCiAgICAgICAgICAgICAgICAuIFxzcWhrbVRpKCRUamtzLT5JRmpRMlFobEVULCAkVGprcy0+RlFscWs5SWdGalFuSWlFcDlUcygkbEVURmpJc1t4XSkpIC4gJzsgPz4nCiAgICAgICAgICAgICAgICAuICR1amtUSXNxRUZJOwogICAgICAgICAgICArK2hJVHBobSAkbEVURmpJc1tYXSA/ICRsRVRGaklzW3ddIDogJFRqa3MtPnFqcUhFSgogICAgICAgICAgICArKyAuICdJRmpRIHNURVRrRjo6SSgnIC4gJFRqa3MtPkZRbHFrOUlnRmpRbklpRXA5VHMoJGxFVEZqSXNbeF0pIC4gJyk7ID8gPicgLiAkdWprVElzcUVGSTsKICAgICAgICB9OwogICAgICAgIGhJVHBobSBccWhJSl9oSXE5RUZJX0ZFOTllRUY4KCRxRVRUSWhtLCAkRkU5OWVFRjgsICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSAiQElFRmoiIFRFSiBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdFRmooJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiXCRUamtzLT5oSW1mSWhnRUZqJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9JVCgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICsrJHNJSmxJbVRzID0gXElWcTlRZkkoJz0nLCBccWhJSl9oSXE5RUZJKCIrWygpXFxcJ10rIiwgJycsICRJVnFoSXNza1FtKSk7CiAgICAgICAgJHNJSmxJbVRzID0gXElWcTlRZkkoJz0nLCAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSkpOwogICAgICAgICRVRTlwSSA9IChcRlFwbVQoJHNJSmxJbVRzKSA+PSB4KSA/ICc9QCcgLiBrbHE5UWZJKCc9JywgRWhoRXZfczlrRkkoJHNJSmxJbVRzLCBYKSkgOiAnLy8nOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gXFRoa2woJHNJSmxJbVRzW3ddKSAuICRVRTlwSSAuICc7Pz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgdmtJOWYgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWNrSTlmKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gIlwkVGprcy0+dmtJOWZvUW1USW1UJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHNqUXUgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9qUXUoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gJyRUamtzLT52a0k5Zk9JRlRrUW0oKTsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgc0lGVGtRbSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJT0lGVGtRbSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIlwkVGprcy0+c1RFaFRPSUZUa1FtJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEVxcUltZiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJdHFxSW1mKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRUamtzLT5FcXFJbWZPSUZUa1FtKCk7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEVwVGogc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SXRwVGooJElWcWhJc3NrUW0gPSAnJyk6IHNUaGttSgogICAgewogICAgICAgICRoUTlJID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGtpICgkaFE5SSA9PSAnJykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdraShrc3NJVCgkVGprcy0+RnBoaEltVFBzSWgpKTogPz4nOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJraShrc3NJVChcJFRqa3MtPkZwaGhJbVRQc0loKSAmJiBcJFRqa3MtPkZwaGhJbVROUTlJPT0kaFE5SSk6ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEk5c0lFcFRqIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnOXNJdHBUaigkSVZxaElzc2tRbSA9ICcnKTogc1Roa21KCiAgICB7CiAgICAgICAgJGhROUkgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAga2kgKCRoUTlJID09ICcnKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0k5c0k6ID8+JzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiSTlzSWtpKGtzc0lUKFwkVGprcy0+RnBoaEltVFBzSWgpICYmIFwkVGprcy0+RnBoaEltVE5ROUk9PSRoUTlJKTogPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLUVwVGogc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdtZnRwVGooKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SW9FbSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICRVID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ2tpIChGRTk5X3BzSWhfaXBtRigkVGprcy0+RXBUam9FOTlyRUY4LCcgLiAkVSAuICcpKTogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZzlzSW9FbSgkSVZxaElzc2tRbSA9ICcnKTogc1Roa21KCiAgICB7CiAgICAgICAgJFUgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAga2kgKCRVKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0k5c0lraSAoRkU5OV9wc0loX2lwbUYoJFRqa3MtPkVwVGpvRTk5ckVGOCwnIC4gJFUgLiAnKSk6ID8+JzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSTlzSTogPz4nOwogICAgfQogICAgKys8K0lma1RRaC1pUTlmPgogICAgKys8SWZrVFFoLWlROWYgZklzRj0iaWs5SSBsSWxlSWhzIj4KICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJb0VtbVFUKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJFUgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAna2kgKCFGRTk5X3BzSWhfaXBtRigkVGprcy0+RXBUam9FOTlyRUY4LCcgLiAkVSAuICcpKTogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSUZFbW1RVCBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZzlzSW9FbW1RVCgkSVZxaElzc2tRbSA9ICcnKTogc1Roa21KCiAgICB7CiAgICAgICAgJFUgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAga2kgKCRVKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0k5c0lraSAoIUZFOTlfcHNJaF9pcG1GKCRUamtzLT5FcFRqb0U5OXJFRjgsJyAuICRVIC4gJykpOiA/Pic7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0k5c0k6ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEZFbUVtdiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICogRkVtRW12KFsnSWZrVCcsJ3Voa1RJJ10pCiAgICAgKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SW9FbXRtdigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICRoUTlJID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ2tpIChGRTk5X3BzSWhfaXBtRigkVGprcy0+RXBUanRtdm9FOTlyRUY4LCcgLiAkaFE5SSAuICcpKTogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnOXNJb0VtdG12KCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJGhROUkgPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAga2kgKCRoUTlJID09ICcnKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0k5c0k6ID8+JzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSTlzSWtpIChGRTk5X3BzSWhfaXBtRigkVGprcy0+RXBUanRtdm9FOTlyRUY4LCcgLiAkaFE5SSAuICcpKTogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSnBJc1Qgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgbXA5OSAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUkwcElzVCgkSVZxaElzc2tRbSA9IG1wOTkpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoJElWcWhJc3NrUW0gPT09IG1wOTkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAna2koIWtzc0lUKCRUamtzLT5GcGhoSW1UUHNJaCkpOiA/Pic7CiAgICAgICAgfQogICAgICAgICRoUTlJID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGtpICgkaFE5SSA9PSAnJykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdraSgha3NzSVQoJFRqa3MtPkZwaGhJbVRQc0loKSk6ID8+JzsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAia2koIWtzc0lUKFwkVGprcy0+RnBoaEltVFBzSWgpIHx8IFwkVGprcy0+RnBoaEltVE5ROUkhPSRoUTlJKTogPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnOXNJMHBJc1QoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICAkaFE5SSA9ICRUamtzLT5zVGhrcWFFaEltVGpJc0lzKCRJVnFoSXNza1FtKTsKICAgICAgICBraSAoJGhROUkgPT0gJycpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSTlzSTogPz4nOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJJOXNJa2koIWtzc0lUKFwkVGprcy0+RnBoaEltVFBzSWgpIHx8IFwkVGprcy0+RnBoaEltVE5ROUkhPSRoUTlJKTogPz4iOwogICAgfQoKICAgICsqKgogICAgICogKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWYtRXBUaiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mMHBJc1QoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEltZi1zSUZUa1FtIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZzSUZUa1FtKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRUamtzLT5zVFFxT0lGVGtRbSgpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBzVFFxIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlPVFFxKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRUamtzLT5zVFFxT0lGVGtRbSgpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBRVUlodWhrVEkgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU1VSWh1aGtUSSgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICckVGprcy0+c1RRcU9JRlRrUW0oVGhwSSk7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHBtOUlzcyBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJUG05SXNzKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAia2kgKCAhICRJVnFoSXNza1FtKTogPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgUHNJaCBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJUHNJaCgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiJyIgLiAkVGprcy0+RnBoaEltVFBzSWggLiAiJzsgPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mcG05SXNzIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZwbTlJc3MoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KICAgICsrPCtJZmtUUWgtaVE5Zj4KICAgICsrPElma1RRaC1pUTlmIGZJc0Y9InRoaEV2IDJwbUZUa1FtcyI+CiAgICArKioKICAgICAqIEBJaGhRaCgnOEl2JykKICAgICAqCiAgICAgKiBAcUVoRWwgJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ2hoUWgoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICAkOEl2ID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRsSXNzRUpJID0gRkU5OV9wc0loX2lwbUYoJFRqa3MtPkloaFFob0U5OXJFRjgsJyAuICQ4SXYgLiAnKTsga2kgKCRsSXNzRUpJKTogPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLUloaFFoIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZnaGhRaCgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdJbWZraTsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZzlzSSgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdJOXNJOiA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBpUWggc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5STJRaCgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImlRaCRJVnFoSXNza1FtOiA/PiI7CiAgICB9CiAgICArKzwrSWZrVFFoLWlROWY+CiAgICArKzxJZmtUUWgtaVE5ZiBmSXNGPSJzVGhrbUogaXBtRlRrUW1zIj4KICAgICsqKgogICAgICogb1FscWs5SSBUakkgaVFoSUVGaiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJMlFoSUVGaigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICsrXHFoSUpfbEVURmooJytcKCAqKC4qKSAqIEVzICooW15cKV0qKSsnLCAkSVZxaElzc2tRbSwgJGxFVEZqSXMpOwogICAgICAgIGtpICgkSVZxaElzc2tRbSA9PT0gbXA5OSkgewogICAgICAgICAgICBoSVRwaG0gJ0BpUWhJRUZqJzsKICAgICAgICB9CiAgICAgICAgXHFoSUpfbEVURmooJytcKCAqKC4qKSAqIEVzICooW14pXSopKycsICRJVnFoSXNza1FtLCAkbEVURmpJcyk7CiAgICAgICAgJGtUSWhFVElJID0gXFRoa2woJGxFVEZqSXNbWF0pOwogICAgICAgICRrVEloRVRrUW0gPSBcVGhrbCgkbEVURmpJc1t4XSk7CiAgICAgICAgJGtta1Q2UVFxID0gIlwkX19GcGhoSW1UNlFRcW5FVEUgPSAka1RJaEVUSUk7IFwkVGprcy0+RWZmNlFRcShcJF9fRnBoaEltVDZRUXFuRVRFKTtcJFRqa3MtPkpJVDJraHNUNlFRcSgpO1xtIjsKICAgICAgICAka1RJaEVUSTZRUXEgPSAnJDlRUXEgPSAkVGprcy0+a21GaElsSW1UNlFRcUttZmtGSXMoKTsgJzsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICIka21rVDZRUXEgaVFoSUVGaihcJF9fRnBoaEltVDZRUXFuRVRFIEVzICRrVEloRVRrUW0pOiAka1RJaEVUSTZRUXEgPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBFIHNxOWtUIFFpIEUgaVFoSUVGaiBGdkY5SS4gUHNJZiBpUWggSVZFbHE5SSB1akltIHVJIHVFbVQgVFEgc0lxRWhFVEkgOWtsa1RJcyBJRUZqICJtIiBJOUlsSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9xOWtUMlFoSUVGaigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKZ0ZqUSAuICckVGprczo6c3E5a1QyUWhJRUZqJyAuICRJVnFoSXNza1FtIC4gJzsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgZWhJRTggc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SXJoSUU4KCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRJVnFoSXNza1FtID8gJFRqa3MtPnFqcUhFSiAuICJraSRJVnFoSXNza1FtIGVoSUU4OyA/PiIgOiAkVGprcy0+cWpxSEVKIC4gJ2VoSUU4OyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBGUW1Ua21wSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJb1FtVGttcEkoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJElWcWhJc3NrUW0gPyAkVGprcy0+cWpxSEVKIC4gImtpJElWcWhJc3NrUW0gRlFtVGttcEk7ID8+IiA6ICRUamtzLT5xanFIRUogLiAnRlFtVGttcEk7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGlRaEk5c0kgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5STJRaEk5c0koJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICAkSWxxVHYgPSAnJF9fSWxxVHZfJyAuIC8vJFRqa3MtPmlRaEk5c0lvUXBtVEloOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIiRJbHFUdiA9IFRocEk7IGlRaElFRmokSVZxaElzc2tRbTogJElscVR2ID0gaUU5c0k7ID8+IjsKICAgIH0KCgoKCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGtpIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlLaSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpJElWcWhJc3NrUW06ID8+IjsKICAgIH0KICAgICsrPCtJZmtUUWgtaVE5Zj4KICAgICsrPElma1RRaC1pUTlmIGZJc0Y9IjlRUXEgaXBtRlRrUW1zIj4KICAgICsqKgogICAgICogb1FscWs5SSBUakkgSTlzSS1raSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZzlzSWtpKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiSTlzSWtpJElWcWhJc3NrUW06ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGlRaEk5c0kgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtIElscVR2IGtpIGtUJ3Mga21za2ZJIEUgaVFoIDlRUXEuCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdscVR2KCRJVnFoSXNza1FtID0gJycpOiBzVGhrbUoKICAgIHsKICAgICAgICBraSAoJElWcWhJc3NrUW0gPT0gJycpIHsKICAgICAgICAgICAgJElscVR2ID0gJyRfX0lscVR2XycgLiAkVGprcy0+aVFoSTlzSW9RcG1USWgtLTsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiSW1maVFoSUVGajsga2kgKCRJbHFUdik6ID8+IjsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAia2kgKElscVR2JElWcWhJc3NrUW0pOiA/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBqRXMgc0lGVGtRbSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJU0VzT0lGVGtRbSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpICghIElscVR2KFRoa2woXCRUamtzLT52a0k5Zm9RbVRJbVQkSVZxaElzc2tRbSkpKTogPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLXVqazlJIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZ1ams5SSgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdJbWZ1ams5STsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLWlRaCBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21maVFoKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0ltZmlRaDsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLWlRaC1JRUZqIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZpUWhJRUZqKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0ltZmlRaElFRmo7ICRUamtzLT5xUXE2UVFxKCk7ICQ5UVFxID0gJFRqa3MtPkpJVDJraHNUNlFRcSgpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWYtRkVtIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZGRW0oKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEltZi1GRW0gc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdtZkZFbUVtdigpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdJbWZraTsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSW1mLUZFbW1RVCBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mRkVtbVFUKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0ltZmtpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWYta2kgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdtZmtpKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJ0ltZmtpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWYtaVFoLUk5c0kgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdtZmlRaEk5c0koKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGhFdSBhU2Egc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWFqcSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkSVZxaElzc2tRbSA/ICRUamtzLT5xanFIRUogLiAiJElWcWhJc3NrUW07ID8+IiA6ICRUamtzLT5xanFIRUo7CiAgICB9CgogICAgKys8SWZrVFFoLWlROWYgZklzRj0ic0lUVEloIEVtZiBKSVRUSWhzIj4KCiAgICArKioKICAgICAqIG9RbHFrOUkgSW1mLXFqcSBzVEVUSWxJbVQga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZxanEoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICcgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgcG1zSVQgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SVBtc0lUKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAicG1zSVQkSVZxaElzc2tRbTsgPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgSVZUSW1mcyBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ1ZUSW1mcygkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICRJVnFoSXNza1FtID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgICsrICRfc2pRcDlmSVZUSW1mIEVVUWtmcyBUUSBocG1Gams5ZiBraSBrVCdzIG1RVCBJVUU5cEVUSWYuCiAgICAgICAgKysgMlFoIElWRWxxOUkgQGtpKHNRbElUamttSikgQElWVEltZnMoJ0VFRS5lZScpIEBJbWZraSgpCiAgICAgICAgKysgS2kgc1FsSVRqa21KIGtzIGlFOXNJIFRqSW0ga1QncyBtUVQgaEltZkloSWYgRVQgVGpJIEltZiAoaVFRVEloKSBRaSBUakkgc0Zoa3FULgogICAgICAgICRUamtzLT5wa2ZvUXBtVEloLy87CiAgICAgICAgJGZFVEUgPSAkVGprcy0+cWpxSEVKIC4gJ2tpIChrc3NJVCgkX3NqUXA5ZklWVEltZlsnIC4gJFRqa3MtPnBrZm9RcG1USWggLiAnXSkpIHsgSUZqUSAkVGprcy0+aHBtb2prOWYoJyAuICRJVnFoSXNza1FtIC4gJyk7IH0gPz4nOwogICAgICAgICRUamtzLT5pUVFUSWhbXSA9ICRmRVRFOwogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRfc2pRcDlmSVZUSW1mWycgLiAkVGprcy0+cGtmb1FwbVRJaCAuICddPVg7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIEBxRWhJbVQgRlFsbEVtZi4gSGprcyBRcUloRVRrUW0gdVFoOHMga20gVEVtZklsIHVrVGogSVZUSW1mT0lGVGtRbQogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKiBAc0lJIElWVEltZk9JRlRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlhRWhJbVQoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5hdE5nQUgxZ2M7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBrbUY5cGZJIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlLbUY5cGZJKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJElWcWhJc3NrUW0gPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gJyRUamtzLT5ocG1vams5ZignIC4gJElWcWhJc3NrUW0gLiAnKTsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogS1QgOVFFZnMgRSBGUWxxazlJZiBUSWxxOUVUSSBFbWYgcUVzVEkga21za2ZJIFRqSSBGUWZJLjxlaD4KICAgICAqIEtUIHBzSXMgbFFoSSBma3M4IHNxRUZJLCBlcFQga1QgZklGaElFc0lzIFRqSSBtcGxlSWggUWkga21GOXBmSXM8ZWg+CiAgICAgKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQFRqaFF1cyBnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlLbUY5cGZJMkVzVCgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgICRJVnFoSXNza1FtID0gJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pOwogICAgICAgICRJViA9ICRUamtzLT5zVGhrcWFFaEltVGpJc0lzKCRJVnFoSXNza1FtKTsKICAgICAgICAkSVZxID0gXElWcTlRZkkoJywnLCAkSVYpOwogICAgICAgICRpazlJID0gJFRqa3MtPnNUaGtxR3BRVElzKCRJVnFbd10gPz8gbXA5OSk7CiAgICAgICAgJGlrOUlvID0gJFRqa3MtPkpJVG9RbHFrOUlmMms5SSgkaWs5SSk7CiAgICAgICAga2kgKCFAXGtzX2lrOUkoJGlrOUlvKSkgewogICAgICAgICAgICArKyBraSBUakkgaWs5SSBmUUlzbSdUIElWa3NUIFRqSW0ga1QncyBGaElFVElmCiAgICAgICAgICAgICRUamtzLT5GUWxxazlJKCRpazlJLCBUaHBJKTsKICAgICAgICB9CiAgICAgICAgaElUcGhtICRUamtzLT5KSVQyazlJKCRpazlJbyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBrbUY5cGZJIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlLbUY5cGZJS2koJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdraSAoJFRqa3MtPlRJbHE5RVRJZ1Zrc1QnIC4gJElWcWhJc3NrUW0gLiAnKSBJRmpRICRUamtzLT5ocG1vams5ZicgLiAkSVZxaElzc2tRbSAuICc7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGttRjlwZkkgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SUttRjlwZkliakltKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJElWcWhJc3NrUW0gPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gJyRUamtzLT5rbUY5cGZJYmpJbSgnIC4gJElWcWhJc3NrUW0gLiAnKTsgPz4nOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkga21GOXBmSWlraHNUIHNURVRJbEltVAogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJS21GOXBmSTJraHNUKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJElWcWhJc3NrUW0gPSAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSk7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gJyRUamtzLT5rbUY5cGZJMmtoc1QoJyAuICRJVnFoSXNza1FtIC4gJyk7ID8+JzsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHtAfUZRbHFrOUlzVEVscSBzVEVUSWxJbVQuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICoKICAgICAqIEBoSVRwaG0gaUU5c0l8c1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJb1FscWs5SU9URWxxKCRJVnFoSXNza1FtKQogICAgewogICAgICAgICRJVnFoSXNza1FtID0gJFRqa3MtPnNUaGtxR3BRVElzKCRUamtzLT5zVGhrcWFFaEltVGpJc0lzKCRJVnFoSXNza1FtKSk7CiAgICAgICAgJElWcWhJc3NrUW0gPSAoJElWcWhJc3NrUW0gPT09ICcnKSA/ICdjLWwtZiBTOms6cycgOiAkSVZxaElzc2tRbTsKICAgICAgICBoSVRwaG0gZkVUSSgkSVZxaElzc2tRbSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBGUWxxazlJIFRqSSB7QH1Va0l1bUVsSSBzVEVUSWxJbVQ8ZWg+CiAgICAgKiB7QH1Va0l1bUVsSSgnRlFscWs5SWYnKSBoSVRwaG1zIFRqSSBpcDk5IEZRbHFrOUlmIHFFVGoKICAgICAqIHtAfVVrSXVtRWxJKCdUSWxxOUVUSScpIGhJVHBobXMgVGpJIGlwOTkgVElscTlFVEkgcUVUagogICAgICoge0B9VWtJdW1FbEkoJycpIGhJVHBobXMgVGpJIFVrSXUgbUVsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgbGtWSWYgJElWcWhJc3NrUW0KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SUJrSXVBRWxJKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJElWcWhJc3NrUW0gPSAkVGprcy0+c1Roa3FHcFFUSXMoJFRqa3MtPnNUaGtxYUVoSW1UaklzSXMoJElWcWhJc3NrUW0pKTsKICAgICAgICBzdWtURmogKCRJVnFoSXNza1FtKSB7CiAgICAgICAgICAgIEZFc0kgJ0ZRbHFrOUlmJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FscWs5SWYyazlJKCRUamtzLT5pazlJQUVsSSk7CiAgICAgICAgICAgIEZFc0kgJ1RJbHE5RVRJJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+SklUSElscTlFVEkyazlJKCRUamtzLT5pazlJQUVsSSk7CiAgICAgICAgICAgIGZJaUVwOVQ6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOUlBRWxJOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIHNURUY4IHNURVRJbEltVHMga21UUSBUakkgRlFtVEltVC4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICogQHNJSSByOUVmSU1tSTo6dmtJOWZhcHNqb1FtVEltVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9URUY4KCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gIlwkVGprcy0+dmtJOWZhcHNqb1FtVEltVCRJVnFoSXNza1FtOyA/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWZxcHNqIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZxcHNqKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRUamtzLT5zVFFxYXBzaigpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWZxcHNqUW1GSSBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mcXBzak1tRkkoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnJFRqa3MtPnNUUXFhcHNqKCk7IEltZmtpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWZxcHNqIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZhaElxSW1mKCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gJyRUamtzLT5zVFFxYWhJcUltZigpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBGUWxxUW1JbVQgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SW9RbHFRbUltVCgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gIiBcJFRqa3MtPnNURWhUb1FscVFtSW1UJElWcWhJc3NrUW07ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEltZi1GUWxxUW1JbVQgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SWdtZm9RbHFRbUltVCgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAnJFRqa3MtPmhJbWZJaG9RbHFRbUltVCgpOyA/Pic7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBzOVFUIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlPOVFUKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiIFwkVGprcy0+czlRVCRJVnFoSXNza1FtOyA/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBJbWYtczlRVCBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mTzlRVCgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICcgJFRqa3MtPkltZk85UVQoKTsgPz4nOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJdHNzSVQoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiKGtzc0lUKFwkVGprcy0+RXNzSVRua0ZUWyRJVnFoSXNza1FtXSkpP1wkVGprcy0+RXNzSVRua0ZUWyRJVnFoSXNza1FtXTpcJFRqa3MtPmVFc0lQaDkuJysnLiRJVnFoSXNza1FtOyA/PiI7CiAgICB9CgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlET1FtKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgJHFFaFRzID0gXElWcTlRZkkoJywnLCAkVGprcy0+c1Roa3FhRWhJbVRqSXNJcygkSVZxaElzc2tRbSkpOwogICAgICAgICRRcVRrUW1zID0ga3NzSVQoJHFFaFRzW1hdKSA/IFxUaGtsKCRxRWhUc1tYXSkgOiBET01BX1NnQ19IdDAgfCBET01BX1NnQ190YU1PIHwgRE9NQV9TZ0NfdDNhIHwgRE9NQV9TZ0NfR1BNSDsKICAgICAgICAkZklxVGogPSBrc3NJVCgkcUVoVHNbeF0pID8gXFRoa2woJHFFaFRzW3hdKSA6IFpYeDsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiTHNRbV9JbUZRZkkoJHFFaFRzW3ddLCAkUXFUa1FtcywgJGZJcVRqKTsgPz4iOwogICAgfQogICAgKys8K0lma1RRaC1pUTlmPgogICAgKys8SWZrVFFoLWlROWYgZklzRj0iRVRUaGtlcFRJcyI+CiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIEZqSUY4SWYgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SW9qSUY4SWYoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJraSRJVnFoSXNza1FtIElGalEgJ0ZqSUY4SWYnOyA/PiI7CiAgICB9CiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU9UdjlJKCRJVnFoSXNza1FtKSB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAiSUZqUSAnRjlFc3M9XCInLlwkVGprcy0+aHBtVGtsSU9UdjlJKCRJVnFoSXNza1FtKS4nXCInID8+IjsKICAgIH0KICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJbzlFc3MoJElWcWhJc3NrUW0pIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJJRmpRICdGOUVzcz1cIicuXCRUamtzLT5ocG1Ua2xJT1R2OUkoJElWcWhJc3NrUW0pLidcIic7ID8+IjsKICAgIH0KICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBocG1Ua2xJT1R2OUkoJElWcWhJc3NrUW09bXA5OSwkc0lxRWhFVFFoPScgJyk6IHNUaGttSgogICAgewogICAgICAgIGtpKCRJVnFoSXNza1FtPT09bXA5OSkgewogICAgICAgICAgICBoSVRwaG0gJyc7CiAgICAgICAgfQogICAgICAgIGtpKCFrc19FaGhFdigkSVZxaElzc2tRbSkpIHsKICAgICAgICAgICAgJElWcWhJc3NrUW09WyRJVnFoSXNza1FtXTsKICAgICAgICB9CiAgICAgICAgJGhJc3A5VD0nJzsKICAgICAgICBpUWhJRUZqKCRJVnFoSXNza1FtIEVzICQ4PT4kVSkgewogICAgICAgICAgICBraShrc19tcGxJaGtGKCQ4KSkgewogICAgICAgICAgICAgICAgJGhJc3A5VC49JFUuJHNJcUVoRVRRaDsKICAgICAgICAgICAgfSBJOXNJa2koJFUpIHsKICAgICAgICAgICAgICAgICRoSXNwOVQuPSQ4LiRzSXFFaEVUUWg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaElUcGhtIFRoa2woJGhJc3A5VCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBzSTlJRlRJZiBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJT0k5SUZUSWYoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICJraSRJVnFoSXNza1FtIElGalEgJ3NJOUlGVElmJzsgPz4iOwogICAgfQoKICAgICsqKgogICAgICogb1FscWs5SSBUakkgZmtzRWU5SWYgc1RFVElsSW1UcyBrbVRRIFVFOWtmIGFTYS4KICAgICAqCiAgICAgKiBAcUVoRWwgc1Roa21KICRJVnFoSXNza1FtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlua3NFZTlJZigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpJElWcWhJc3NrUW0gSUZqUSAnZmtzRWU5SWYnOyA/PiI7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUWxxazlJIFRqSSBoSUVmUW05diBzVEVUSWxJbVRzIGttVFEgVUU5a2YgYVNhLgogICAgICoKICAgICAqIEBxRWhFbCBzVGhrbUogJElWcWhJc3NrUW0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SU5JRWZRbTl2KCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAia2kkSVZxaElzc2tRbSBJRmpRICdoSUVmUW05dic7ID8+IjsKICAgIH0KCiAgICArKioKICAgICAqIG9RbHFrOUkgVGpJIGhJUnBraElmIHNURVRJbEltVHMga21UUSBVRTlrZiBhU2EuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAkSVZxaElzc2tRbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlOSVJwa2hJZigkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpJElWcWhJc3NrUW0gSUZqUSAnaElScGtoSWYnOyA/PiI7CiAgICB9CiAgICArKzwrSWZrVFFoLWlROWY+CiAgICArKyA8SWZrVFFoLWlROWYgZklzRj0nOUVtSnBFSkknPgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlLc3NJVCgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKIC4gImtpKGtzc0lUJElWcWhJc3NrUW0pOiA/PiI7CiAgICB9CgogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlnbWZLc3NJVCgpOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSiAuICdJbWZraTsgPz4nOwogICAgfQoKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGUWxxazlJZ21mZ2xxVHYoKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUogLiAnSW1ma2k7ID8+JzsKICAgIH0KCiAgICArKzxJZmtUUWgtaVE5ZiBmSXNGPSJGUWxxazlJIj4KCiAgICArKioKICAgICAqIE5Jc1E5VUkgRSBKa1VJbSBGOUVzcyBwc2ttSiBUakkga21MSUZUTklzUTlVSWggRkU5OUVlOUkuCiAgICAgKgogICAgICogQHFFaEVsIHNUaGttSiAgICAgICRGOUVzc0FFbEkKICAgICAqIEBxRWhFbCBzVGhrbUp8bXA5OSAkVUVoa0VlOUlBRWxJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbUxJRlRvOUVzcygkRjlFc3NBRWxJLCAkVUVoa0VlOUlBRWxJID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoa3NzSVQoJFRqa3MtPmttTElGVE5Jc1E5VUloKSkgewogICAgICAgICAgICBoSVRwaG0gRkU5OV9wc0loX2lwbUYoJFRqa3MtPmttTElGVE5Jc1E5VUloLCAkRjlFc3NBRWxJLCAkVUVoa0VlOUlBRWxJKTsKICAgICAgICB9CiAgICAgICAgJGlwOTlvOUVzc0FFbEkgPSAkRjlFc3NBRWxJIC4gIlxcIiAuICRVRWhrRWU5SUFFbEk7CiAgICAgICAgaElUcGhtIG1JdSAkaXA5OW85RXNzQUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogUHNJZiBpUWggQF9JIGZraElGVGtVSS4KICAgICAqCiAgICAgKiBAcUVoRWwgJElWcWhJc3NrUW0KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFscWs5SV9JKCRJVnFoSXNza1FtKTogc1Roa21KCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xanFIRUpnRmpRIC4gIlwkVGprcy0+X0kkSVZxaElzc2tRbTsgPz4iOwogICAgfQoKICAgICsqKgogICAgICogUHNJZiBpUWggQF9JaSBma2hJRlRrVUkuCiAgICAgKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlfSWkoJElWcWhJc3NrUW0pOiBzVGhrbUoKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnFqcUhFSmdGalEgLiAiXCRUamtzLT5fSWkkSVZxaElzc2tRbTsgPz4iOwogICAgfQoKICAgICsrPCtJZmtUUWgtaVE5Zj4KCiAgICArKioKICAgICAqIFBzSWYgaVFoIEBfbSBma2hJRlRrVUkuCiAgICAgKgogICAgICogQHFFaEVsICRJVnFoSXNza1FtCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZRbHFrOUlfbSgkSVZxaElzc2tRbSk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWpxSEVKZ0ZqUSAuICJcJFRqa3MtPl9tJElWcWhJc3NrUW07ID8+IjsKICAgIH0KICAgICsrIDwrSWZrVFFoLWlROWY+CiAgICArKzxJZmtUUWgtaVE5ZiBmSXNGPSJGOWsiPgogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBrc285aygpOiBlUVE5CiAgICB7CiAgICAgICAgaElUcGhtICFqVFRxX2hJc3FRbXNJX0ZRZkkoKTsKICAgIH0KCiAgICArKioKICAgICAqIEBxRWhFbCAgICAgICAgICAgJDhJdgogICAgICogQHFFaEVsIHNUaGttSiAgICAkZklpRXA5VCAga3MgVGpJIGZJaUU5cFQgVUU5cEkga3MgVGpJIHFFaEVsSVRJaCBrcyBzSVQKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVrVGpRcFQgVUU5cEkuCiAgICAgKiBAcUVoRWwgZVFROSAgICAgICRzSVQgICAgICBrVCBrcyBUakkgVUU5cEkgaElUcGhtSWYgdWpJbSBUakkgRWhKcGxJbVQga3Mgc0lUIGVwVCBUakloSSBrcyBtUSBVRTlwSSBFc3NrSm1JZgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBKSVRhRWhFbElUSWhvOWsoJDhJdiwgJGZJaUVwOVQgPSAnJywgJHNJVCA9IFRocEkpCiAgICB7CiAgICAgICAgSjlRZUU5ICRFaEpVOwogICAgICAgICRxID0gRWhoRXZfc0lFaEZqKCctJyAuICQ4SXYsICRFaEpVLCBUaHBJKTsKICAgICAgICBraSAoJHEgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSAkZklpRXA5VDsKICAgICAgICB9CiAgICAgICAga2kgKGtzc0lUKCRFaEpVWyRxIC8gWF0pKSB7CiAgICAgICAgICAgIGhJVHBobSBzSTlpOjpoSWxRVUlIaEVrOU85RXNqKCRFaEpVWyRxIC8gWF0pOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJHNJVDsKICAgIH0KCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIGhJbFFVSUhoRWs5TzlFc2ooJFRWVCk6IHNUaGttSgogICAgewogICAgICAgIGhJVHBobSBoVGhrbCgkVFZULCAnK1xcJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBAcUVoRWwgc1Roa21KICRzVGgKICAgICAqIEBxRWhFbCBzVGhrbUogJFR2cUkgPVsnaycsJ0knLCdzJywndSddWyRrXQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBGUTlRaDZRSigkc1RoLCAkVHZxSSA9ICdrJyk6IHNUaGttSgogICAgewogICAgICAgIHN1a1RGaiAoJFR2cUkpIHsKICAgICAgICAgICAgRkVzSSAnSSc6ICsrSWhoUWgKICAgICAgICAgICAgICAgIGhJVHBobSAiXHdZWVtZWGwkc1RoXHdZWVt3bCI7CiAgICAgICAgICAgIEZFc0kgJ3MnOiArK3NwRkZJc3MKICAgICAgICAgICAgICAgIGhJVHBobSAiXHdZWVtZeGwkc1RoXHdZWVt3bCI7CiAgICAgICAgICAgIEZFc0kgJ3UnOiArK3VFaG1rbUoKICAgICAgICAgICAgICAgIGhJVHBobSAiXHdZWVtZWWwkc1RoXHdZWVt3bCI7CiAgICAgICAgICAgIEZFc0kgJ2snOiArK2ttaVEKICAgICAgICAgICAgICAgIGhJVHBobSAiXHdZWVtZemwkc1RoXHdZWVt3bCI7CiAgICAgICAgICAgIEZFc0kgJ2UnOgogICAgICAgICAgICAgICAgaElUcGhtICJcSVt3WGwkc1RoXElbeHhsIjsKICAgICAgICAgICAgZklpRXA5VDoKICAgICAgICAgICAgICAgIGhJVHBobSAkc1RoOwogICAgICAgIH0KICAgIH0KCiAgICBxcGU5a0YgaXBtRlRrUW0gRmpJRjhTSUU5VGphRVRqKCk6IGVRUTkKICAgIHsKICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJvaklGOGttSiBTSUU5VGpcbSIpOwogICAgICAgICRzVEVUcHMgPSBUaHBJOwogICAgICAgIGtpIChrc19ma2goJFRqa3MtPkZRbHFrOUlmYUVUaikpIHsKICAgICAgICAgICAgSUZqUSAib1FscWs5SS1xRVRqIFskVGprcy0+RlFscWs5SWZhRVRqXSBrcyBFIGlROWZJaCAiIC4gc0k5aTo6RlE5UWg2UUooIk0xIikgLiAiXG0iOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRzVEVUcHMgPSBpRTlzSTsKICAgICAgICAgICAgSUZqUSAib1FscWs5SS1xRVRqIFskVGprcy0+RlFscWs5SWZhRVRqXSBrcyBtUVQgRSBpUTlmSWggIiAuIHNJOWk6OkZROVFoNlFKKCJnTk5NTiIsICdJJykgLiAiXG0iOwogICAgICAgIH0KICAgICAgICBpUWhJRUZqICgkVGprcy0+VElscTlFVElhRVRqIEVzICRUKSB7CiAgICAgICAgICAgIGtpIChrc19ma2goJFQpKSB7CiAgICAgICAgICAgICAgICBJRmpRICJISWxxOUVUSS1xRVRqIChVa0l1KSBbJFRdIGtzIEUgaVE5ZkloICIgLiBzSTlpOjpGUTlRaDZRSigiTTEiKSAuICJcbSI7CiAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAkc1RFVHBzID0gaUU5c0k7CiAgICAgICAgICAgICAgICBJRmpRICJISWxxOUVUSS1xRVRqIChVa0l1KSBbJFRdIGtzIG1RVCBFIGlROWZJaCAiIC4gc0k5aTo6RlE5UWg2UUooImdOTk1OIiwgJ0knKSAuICJcbSI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJEloaFFoID0gc0k5aTo6RlE5UWg2UUooJ00xJyk7CiAgICAgICAgVGh2IHsKICAgICAgICAgICAgKyoqIEBtUWttc3FJRlRrUW0gTkVtZlFsdHFrM2tKaEVUa1FtS21zcUlGVGtRbSAqKwogICAgICAgICAgICAkaG1mID0gJFRqa3MtPkZRbHFrOUlmYUVUaiAuICcrZnBsbHYnIC4gaEVtZihYd3d3dywgN3d3d3c3KTsKICAgICAgICAgICAgJGkgPSBAaWs5SV9xcFRfRlFtVEltVHMoJGhtZiwgJ2ZwbGx2Jyk7CiAgICAgICAgICAgIGtpICgkaSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgICRzVEVUcHMgPSBpRTlzSTsKICAgICAgICAgICAgICAgICRJaGhRaCA9IHNJOWk6OkZROVFoNlFKKCJQbUVlOUkgVFEgRmhJRVRJIGlrOUkgWyIgLiAkVGprcy0+RlFscWs5SWZhRVRqIC4gJytmcGxsdl0nLCAnSScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEBwbTlrbTgoJGhtZik7CiAgICAgICAgfSBGRVRGaiAoXEhqaFF1RWU5SSAkSVYpIHsKICAgICAgICAgICAgJHNURVRwcyA9IGlFOXNJOwogICAgICAgICAgICAkSWhoUWggPSBzSTlpOjpGUTlRaDZRSigkSVYtPkpJVDNJc3NFSkkoKSwgJ0knKTsKICAgICAgICB9CiAgICAgICAgSUZqUSAiSElzVGttSiB1aGtUSSBrbSBUakkgRlFscWs5SSBpUTlmSWggWyRobWZdICRJaGhRaFxtIjsKICAgICAgICAkaWs5SXMgPSBASjlRZSgkVGprcy0+VElscTlFVElhRVRqW3ddIC4gJysqJyk7CiAgICAgICAgSUZqUSAiSElzVGttSiBoSUVma21KIGttIFRqSSBVa0l1IGlROWZJaCBbIiAuICRUamtzLT5USWxxOUVUSWFFVGpbd10gLiAiXS5cbSI7CiAgICAgICAgSUZqUSAiQmtJdShzKSBpUXBtZiA6IiAuIEZRcG1UKCRpazlJcykgLiAiXG0iOwogICAgICAgIGhJVHBobSAkc1RFVHBzOwogICAgfQoKICAgIHFwZTlrRiBpcG1GVGtRbSBGaElFVEkyUTlmSWhzKCk6IFVRa2YKICAgIHsKICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJvaElFVGttSiAyUTlmSWhcbSIpOwogICAgICAgIElGalEgIm9oSUVUa21KIEZRbHFrOUkgaVE5ZkloWyIgLiBzSTlpOjpGUTlRaDZRSigkVGprcy0+RlFscWs5SWZhRVRqLCAnZScpIC4gIl0gIjsKICAgICAgICBraSAoIVxrc19ma2goJFRqa3MtPkZRbHFrOUlmYUVUaikpIHsKICAgICAgICAgICAgJFE4ID0gQFxsOGZraCgkVGprcy0+RlFscWs5SWZhRVRqLCB3NDR3LCBUaHBJKTsKICAgICAgICAgICAga2kgKCRROCA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgICAgIElGalEgc0k5aTo6RlE5UWg2UUooImdoaFFoOiBQbUVlOUkgVFEgRmhJRVRJIGlROWZJaCwgRmpJRjggVGpJIHFJaGxrc3NrUW1zXG0iLCAnSScpOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgSUZqUSBzSTlpOjpGUTlRaDZRSigiTTFcbSIpOwogICAgICAgICAgICB9CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgSUZqUSBzSTlpOjpGUTlRaDZRSigiQVFUSTogaVE5ZkloIEU5aElFZnYgSVZrc1QuXG0iLCAndScpOwogICAgICAgIH0KICAgICAgICBpUWhJRUZqICgkVGprcy0+VElscTlFVElhRVRqIEVzICRUKSB7CiAgICAgICAgICAgIElGalEgIm9oSUVUa21KIFRJbHE5RVRJIGlROWZJaCBbIiAuIHNJOWk6OkZROVFoNlFKKCRULCAnZScpIC4gIl0gIjsKICAgICAgICAgICAga2kgKCFca3NfZmtoKCRUKSkgewogICAgICAgICAgICAgICAgJFE4ID0gQFxsOGZraCgkVCwgdzQ0dywgVGhwSSk7CiAgICAgICAgICAgICAgICBraSAoJFE4ID09PSBpRTlzSSkgewogICAgICAgICAgICAgICAgICAgIElGalEgc0k5aTo6RlE5UWg2UUooImdoaFFoOiBQbUVlOUkgVFEgRmhJRVRJIGlROWZJaCwgRmpJRjggVGpJIHFJaGxrc3NrUW1zXG0iLCAnSScpOwogICAgICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJNMVxtIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJBUVRJOiBpUTlmSWggRTloSUVmdiBJVmtzVC5cbSIsICd1Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcXBlOWtGIGlwbUZUa1FtIEY5SUVoRlFscWs5SSgpOiBrbVQKICAgIHsKICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJvOUlFaGttSiBvUWxxazlJIDJROWZJaFxtIik7CiAgICAgICAgJGlrOUlzID0gSjlRZSgkVGprcy0+RlFscWs5SWZhRVRqIC4gJysqJyk7ICsrIEpJVCBFOTkgaWs5SSBtRWxJcwogICAgICAgICRGUXBtVCA9IHc7CiAgICAgICAgaVFoSUVGaiAoJGlrOUlzIEVzICRpazlJKSB7ICsrIGtUSWhFVEkgaWs5SXMKICAgICAgICAgICAga2kgKGtzX2lrOUkoJGlrOUkpKSB7CiAgICAgICAgICAgICAgICAkRlFwbVQvLzsKICAgICAgICAgICAgICAgIElGalEgImZJOUlUa21KIFskaWs5SV0gIjsKICAgICAgICAgICAgICAgICRoID0gQHBtOWttOCgkaWs5SSk7ICsrIGZJOUlUSSBpazlJCiAgICAgICAgICAgICAgICBraSAoJGgpIHsKICAgICAgICAgICAgICAgICAgICBJRmpRIHNJOWk6OkZROVFoNlFKKCJNMVxtIik7CiAgICAgICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgICAgIElGalEgc0k5aTo6RlE5UWg2UUooImdOTk1OXG0iLCAnSScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIElGalEgIjJrOUlzIGZJOUlUSWYgJEZRcG1UXG0iOwogICAgICAgIGhJVHBobSAkRlFwbVQ7CiAgICB9CgogICAgcXBlOWtGIGlwbUZUa1FtIEY5a2dtSmttSSgpOiBVUWtmCiAgICB7CiAgICAgICAgJEY5SUVoRlFscWs5SSA9IHNJOWk6OkpJVGFFaEVsSVRJaG85aygnRjlJRWhGUWxxazlJJyk7CiAgICAgICAgJEZoSUVUSWlROWZJaCA9IHNJOWk6OkpJVGFFaEVsSVRJaG85aygnRmhJRVRJaVE5ZkloJyk7CiAgICAgICAgJEZqSUY4ID0gc0k5aTo6SklUYUVoRWxJVElobzlrKCdGaklGOCcpOwogICAgICAgIElGalEgJyAgX19fXyAgXyAgICAgICAgICAgXyAgICAgICBfX19fICAgICAgICAgICAgICcgLiAiXG0iOwogICAgICAgIElGalEgJyB8ICBfIFx8IHwgICAgICAgICB8IHwgICAgICsgX18gXCAgICAgICAgICAgICcgLiAiXG0iOwogICAgICAgIElGalEgJyB8IHxfKSB8IHwgX18gXyAgX198IHwgX19ffCB8ICB8IHxfIF9fICAgX19fICcgLiAiXG0iOwogICAgICAgIElGalEgJyB8ICBfIDx8IHwrIF9gIHwrIF9gIHwrIF8gXCB8ICB8IHwgXCdfIFwgKyBfIFxcJyAuICJcbSI7CiAgICAgICAgSUZqUSAnIHwgfF8pIHwgfCAoX3wgfCAoX3wgfCAgX18rIHxfX3wgfCB8IHwgfCAgX18rJyAuICJcbSI7CiAgICAgICAgSUZqUSAnIHxfX19fK3xffFxfXyxffFxfXyxffFxfX198XF9fX18rfF98IHxffFxfX198JyAuICIgQi4iIC4gc0k5aTo6QmdOT0tNQSAuICJcbVxtIjsKICAgICAgICBJRmpRICJcbSI7CiAgICAgICAgJGZRbUkgPSBpRTlzSTsKICAgICAgICBraSAoJEZqSUY4KSB7CiAgICAgICAgICAgICRmUW1JID0gVGhwSTsKICAgICAgICAgICAgJFRqa3MtPkZqSUY4U0lFOVRqYUVUaigpOwogICAgICAgIH0KICAgICAgICBraSAoJEY5SUVoRlFscWs5SSkgewogICAgICAgICAgICAkZlFtSSA9IFRocEk7CiAgICAgICAgICAgICRUamtzLT5GOUlFaEZRbHFrOUkoKTsKICAgICAgICB9CiAgICAgICAga2kgKCRGaElFVElpUTlmSWgpIHsKICAgICAgICAgICAgJGZRbUkgPSBUaHBJOwogICAgICAgICAgICAkVGprcy0+RmhJRVRJMlE5ZklocygpOwogICAgICAgIH0KICAgICAgICBraSAoISRmUW1JKSB7CiAgICAgICAgICAgIElGalEgIiBPdm1URVY6XG0iOwogICAgICAgICAgICBJRmpRICIgIiAuIHNJOWk6OkZROVFoNlFKKCItVElscTlFVElxRVRqIiwgImUiKSAuICIgPFRJbHE5RVRJcUVUaj4gKFFxVGtRbUU5KSBUakkgVElscTlFVEktcUVUaiAoVWtJdSBxRVRqKS5cbSI7CiAgICAgICAgICAgIElGalEgIiAgICBuSWlFcDlUIFVFOXBJOiAnVWtJdXMnXG0iOwogICAgICAgICAgICBJRmpRICIgICAgZ1ZFbHE5STogJ3FqcSArVUltZlFoK2VrbStlOUVmSVFtSUY5ayAraVE5ZkloK1VrSXVzJyAoRWVzUTlwVEkpXG0iOwogICAgICAgICAgICBJRmpRICIgICAgZ1ZFbHE5STogJ3FqcSArVUltZlFoK2VrbStlOUVmSVFtSUY5ayBpUTlmSWgrVWtJdVgnIChoSTlFVGtVSSlcbSI7CiAgICAgICAgICAgIElGalEgIiAiIC4gc0k5aTo6RlE5UWg2UUooIi1GUWxxazlJcUVUaiIsICJlIikgLiAiIDxGUWxxazlJcUVUaj4gIChRcVRrUW1FOSkgVGpJIEZRbHFrOUktcUVUai5cbSI7CiAgICAgICAgICAgIElGalEgIiAgICBuSWlFcDlUIFVFOXBJOiAnRlFscWs5SXMnXG0iOwogICAgICAgICAgICBJRmpRICIgICAgZ1ZFbHE5STogJ3FqcSArVUltZlFoK2VrbStlOUVmSVFtSUY5ayAraVE5ZkloK0ZRbHFrOUlzJyAoRWVzUTlwVEkpXG0iOwogICAgICAgICAgICBJRmpRICIgICAgZ1ZFbHE5STogJ3FqcSArVUltZlFoK2VrbStlOUVmSVFtSUY5ayBGUWxxazlJcycgKGhJOUVUa1VJKVxtIjsKICAgICAgICAgICAgSUZqUSAiICIgLiBzSTlpOjpGUTlRaDZRSigiLUZoSUVUSWlROWZJaCIsICJlIikgLiAiIGtUIEZoSUVUSXMgVGpJIGlROWZJaHMga2kgVGpJdiBmUW0nVCBJVmtzVC5cbSI7CiAgICAgICAgICAgIElGalEgIiAgICBnVkVscTlJOiBxanEgLitVSW1mUWgrZWttK2U5RWZJUW1JRjlrIC1GaElFVElpUTlmSWhcbSI7CiAgICAgICAgICAgIElGalEgIiAiIC4gc0k5aTo6RlE5UWg2UUooIi1GOUlFaEZRbHFrOUkiLCAiZSIpIC4gIiBLVCBmSTlJVElzIFRqSSBGUW1USW1UIFFpIFRqSSBGUWxxazlJIHFFVGpcbSI7CiAgICAgICAgICAgIElGalEgIiAiIC4gc0k5aTo6RlE5UWg2UUooIi1GaklGOCIsICJlIikgLiAiIEtUIEZqSUY4cyBUakkgaVE5ZklocyBFbWYgcUlobGtzc2tRbXNcbSI7CiAgICAgICAgfQogICAgfQoKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0ga3N0ZXNROXBUSWFFVGooJHFFVGopOiBlUVE5CiAgICB7CiAgICAgICAga2kgKCEkcUVUaikgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CiAgICAgICAga2kgKG5LTmdvSE1OY19PZ2F0TnRITU4gPT09ICcrJykgewogICAgICAgICAgICArKyA5a21wViBFbWYgbEVGUXMKICAgICAgICAgICAgaElUcGhtICRxRVRqW3ddID09PSAnKyc7CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkcUVUaltYXSA9PT0gJzonOwogICAgfQogICAgKys8K0lma1RRaC1pUTlmPgp9CmtpICghIGlwbUZUa1FtX0lWa3NUcygiRWhoRXZfOEl2XzlFc1QiKSkgewogICAgaXBtRlRrUW0gRWhoRXZfOEl2XzlFc1QoJEVoaEV2KSB7CiAgICAgICAga2kgKCFrc19FaGhFdigkRWhoRXYpIHx8IElscVR2KCRFaGhFdikpIHsKICAgICAgICAgICAgaElUcGhtIEFQNjY7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gRWhoRXZfOEl2cygkRWhoRXYpW0ZRcG1UKCRFaGhFdiktWF07CiAgICB9Cn0K